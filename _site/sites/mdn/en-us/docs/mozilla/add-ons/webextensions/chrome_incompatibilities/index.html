<!doctype html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="icon" href="/favicon-48x48.cbbd161b.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.6803c6f0.png"/><meta name="theme-color" content="#ffffff"/><link rel="manifest" href="/manifest.56b1cedc.json"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"/><title>Chrome incompatibilities - Mozilla | MDN</title><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en" /><meta name="robots" content="noindex, nofollow"><meta name="description" content="The WebExtension APIs aim to provide compatibility across all the main browsers, so extensions should run on any browser with minimal changes."/><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities"/><meta property="og:title" content="Chrome incompatibilities - Mozilla | MDN"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:description" content="The WebExtension APIs aim to provide compatibility across all the main browsers, so extensions should run on any browser with minimal changes."/><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.cd6c4a5a.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:height" content="1080"/><meta property="og:image:width" content="1920"/><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."/><meta property="og:site_name" content="MDN Web Docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="MozDevNet"/><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities"/><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script defer="defer" src="/static/js/main.8204838d.js"></script><link href="/static/css/main.3551aa81.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e])}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper   document-page"><div class="top-banner loading"><section class="place top container"></section></div><div class="sticky-header-container"><header class="top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zm10.4 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zm10.4 0v92.1H91V0h10.4z" class="logo-m"></path><path d="M627.9 95.6h67v8.8h-67v-8.8z" class="logo-_"></path><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zm34.9 20c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zm51 2.4c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zm69.2 18.5h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm53.1-1.4c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zm45 5.8c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zm34.7 1.9c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z" class="logo-text"></path></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container "><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Web/API" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container "><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/blog/">Blog</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/play">Play</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/plus/ai-help">AI Help <sup class="new beta">Beta</sup></a></li></ul></nav><div class="header-search"><form action="/en-US/search" class="search-form search-widget" id="top-nav-search-form" role="search"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input aria-activedescendant="" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-expanded="false" aria-labelledby="top-nav-search-label" autoComplete="off" id="top-nav-search-input" role="combobox" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""/><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="?next=%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions%2FChrome_incompatibilities" class="login-link" rel="nofollow">Log in</a></li><li><a href="?next=%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions%2FChrome_incompatibilities" target="_self" class="button primary mdn-plus-subscribe-link"><span class="button-wrap">Sign up for free</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Mozilla"><span property="name">Mozilla</span></a><meta property="position" content="1"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Mozilla/Add-ons"><span property="name">Add-ons</span></a><meta property="position" content="2"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Mozilla/Add-ons/WebExtensions"><span property="name">Browser extensions</span></a><meta property="position" content="3"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities"><span property="name">Chrome incompatibilities</span></a><meta property="position" content="4"/></li></ol></nav></div></div></div><div class="main-wrapper"><div class="sidebar-container"><aside id="sidebar-quicklinks" class="sidebar" data-macro="AddonSidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><header class="sidebar-actions"><section class="sidebar-filter-container"><div class="sidebar-filter "><label id="sidebar-filter-label" class="sidebar-filter-label" for="sidebar-filter-input"><span class="icon icon-filter"></span><span class="visually-hidden">Filter sidebar</span></label><input id="sidebar-filter-input" autoComplete="off" class="sidebar-filter-input-field false" type="text" placeholder="Filter" value=""/><button type="button" class="button action has-icon clear-sidebar-filter-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear filter input</span></span></button></div></section></header><div class="sidebar-inner-nav"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#javascript_apis">JavaScript APIs</a></li><li class="document-toc-item "><a class="document-toc-link" href="#manifest.json_keys">manifest.json keys</a></li><li class="document-toc-item "><a class="document-toc-link" href="#native_messaging">Native messaging</a></li><li class="document-toc-item "><a class="document-toc-link" href="#data_cloning_algorithm">Data cloning algorithm</a></li></ul></section></div></div><div class="sidebar-body">
  <ol>
    <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions"><strong>Browser extensions</strong></a></li>
    <li>
      <details>
        <summary>Getting started</summary>
        <ol>
          <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions">What are extensions?</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension">Your first extension</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension">Your second extension</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension">Anatomy of an extension</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Examples">Example extensions</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/What_next_">What next?</a></li>
        </ol>
      </details>
    </li>
    <li>
      <details open="">
        <summary>Concepts</summary>
        <ol>
          <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API">JavaScript APIs</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts">Content scripts</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Background_scripts">Background scripts</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns">Match patterns</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_files">Work with files</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization">Internationalization</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy">Content Security Policy</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging">Native messaging</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations">Differences between API implementations</a></li>
<li><em><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities" aria-current="page">Chrome incompatibilities</a></em></li>
        </ol>
      </details>
    </li>
    <li>
      <details>
        <summary>User interface</summary>
        <ol>
          <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface">User interface</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action">Toolbar button</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions">Address bar button</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars">Sidebars</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items">Context menu items</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages">Options page</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages">Extension pages</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications">Notifications</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox">Address bar suggestions</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels">devtools panels</a></li>
        </ol>
      </details>
    </li>
    <li>
      <details>
        <summary>How to</summary>
        <ol>
          <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests">Intercept HTTP requests</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page">Modify a web page</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page">Insert external content</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts">Share objects with page scripts</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar">Add a button to the toolbar</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page">Implement a settings page</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API">Work with the Tabs API</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API">Work with the Bookmarks API</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API">Work with the Cookies API</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities">Work with contextual identities</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard">Interact with the clipboard</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Extending_the_developer_tools">Extend the developer tools</a></li>
<li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension">Build a cross-browser extension</a></li>
        </ol>
      </details>
    </li>
    <li>
      <details>
        <summary>JavaScript APIs</summary>
        <ol><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/action">action</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms">alarms</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks">bookmarks</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction">browserAction</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings">browserSettings</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browsingData">browsingData</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/captivePortal">captivePortal</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/clipboard">clipboard</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/commands">commands</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts">contentScripts</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities">contextualIdentities</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies">cookies</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest">declarativeNetRequest</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools">devtools</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns">dns</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dom">dom</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads">downloads</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/events">events</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extension">extension</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes">extensionTypes</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/find">find</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history">history</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/i18n">i18n</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/identity">identity</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/idle">idle</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/management">management</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus">menus</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications">notifications</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox">omnibox</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pageAction">pageAction</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions">permissions</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11">pkcs11</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy">privacy</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy">proxy</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime">runtime</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/scripting">scripting</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/search">search</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions">sessions</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction">sidebarAction</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage">storage</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs">tabs</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/theme">theme</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/topSites">topSites</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/types">types</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/userScripts">userScripts</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation">webNavigation</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest">webRequest</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows">windows</a></li></ol>
      </details>
    </li>
    <li>
      <details>
      <summary>Manifest keys</summary>
        <ol>
          <li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json">manifest.json</a></li>
        </ol>
      <ol><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/action">action</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author">author</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background">background</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action">browser_action</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings">browser_specific_settings</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides">chrome_settings_overrides</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides">chrome_url_overrides</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands">commands</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts">content_scripts</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy">content_security_policy</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/declarative_net_request">declarative_net_request</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale">default_locale</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description">description</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer">developer</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page">devtools_page</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/dictionaries">dictionaries</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/externally_connectable">externally_connectable</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url">homepage_url</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/host_permissions">host_permissions</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons">icons</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito">incognito</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version">manifest_version</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name">name</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/offline_enabled">offline_enabled</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox">omnibox</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions">optional_permissions</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_page">options_page</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui">options_ui</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action">page_action</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions">permissions</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers">protocol_handlers</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name">short_name</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action">sidebar_action</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/storage">storage</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme">theme</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme_experiment">theme_experiment</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/user_scripts">user_scripts</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version">version</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name">version_name</a></li><li><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources">web_accessible_resources</a></li></ol>
      </details>
    </li>
     <li>
      <details>
        <summary>Extension Workshop</summary>
        <ol>
          <li><a href="https://extensionworkshop.com/documentation/develop/">Develop</a></li>
          <li><a href="https://extensionworkshop.com/documentation/publish/">Publish</a></li>
          <li><a href="https://extensionworkshop.com/documentation/manage/">Manage</a></li>
          <li><a href="https://extensionworkshop.com/documentation/enterprise/">Enterprise</a></li>
        </ol>
      </details>
    </li>
    <li><a href="/en-US/docs/Mozilla/Add-ons/Contact_us"><strong>Contact us</strong></a></li>
    <li>
      <details>
        <summary>Channels</summary>
        <ol>
          <li><a href="https://blog.mozilla.org/addons">Add-ons blog</a></li>
          <li><a href="https://discourse.mozilla.org/c/add-ons">Add-ons forum</a></li>
          <li><a href="https://chat.mozilla.org/#/room/%23addons:mozilla.org">Add-ons chat</a></li>
        </ol>
      </details>
    </li>
  </ol>
</div></div></nav></aside><div class="toc-container"><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#javascript_apis">JavaScript APIs</a></li><li class="document-toc-item "><a class="document-toc-link" href="#manifest.json_keys">manifest.json keys</a></li><li class="document-toc-item "><a class="document-toc-link" href="#native_messaging">Native messaging</a></li><li class="document-toc-item "><a class="document-toc-link" href="#data_cloning_algorithm">Data cloning algorithm</a></li></ul></section></div></nav></aside></div></div><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Chrome incompatibilities</h1></header><div class="section-content"><p>The WebExtension APIs aim to provide compatibility across all the main browsers, so extensions should run on any browser with minimal changes.</p>
<p>However, there are significant differences between Chrome (and Chromium-based browsers), Firefox, and Safari. In particular:</p>
<ul>
  <li>Support for WebExtension APIs differs across browsers. See <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a> for details.</li>
  <li>Support for <code>manifest.json</code> keys differs across browsers. See the <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json#browser_compatibility">"Browser compatibility" section</a> on the <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json"><code>manifest.json</code></a> page for more details.</li>
  <li>Extension API namespace:
    <ul>
      <li><strong>In Firefox and Safari:</strong> Extension APIs are accessed under the <code>browser</code> namespace. The <code>chrome</code> namespace is also supported for compatibility with Chrome.</li>
      <li><strong>In Chrome:</strong> Extension APIs are accessed under the <code>chrome</code> namespace. (cf. <a href="https://crbug.com/798169" class="external" target="_blank">Chrome bug 798169</a>)</li>
    </ul>
  </li>
  <li>Asynchronous APIs:
    <ul>
      <li><strong>In Firefox and Safari:</strong> Asynchronous APIs are implemented using promises.</li>
      <li><strong>In Chrome:</strong> In Manifest V2, asynchronous APIs are implemented using callbacks. In Manifest V3, support is provided for <a href="https://developer.chrome.com/docs/extensions/mv3/intro/mv3-overview/#promises" class="external" target="_blank">promises</a> on most appropriate methods. (cf. <a href="https://crbug.com/328932" class="external" target="_blank">Chrome bug 328932</a>) Callbacks are supported in Manifest V3 for backward compatibility.</li>
    </ul>
  </li>
</ul>
<p>The rest of this page details these and other incompatibilities.</p></div><section aria-labelledby="javascript_apis"><h2 id="javascript_apis"><a href="#javascript_apis">JavaScript APIs</a></h2><div class="section-content"></div></section><section aria-labelledby="chrome._and_browser._namespace"><h3 id="chrome._and_browser._namespace"><a href="#chrome._and_browser._namespace">chrome.* and browser.* namespace</a></h3><div class="section-content"><ul>
  <li><strong>In Firefox and Safari:</strong> The APIs are accessed using the <code>browser</code> namespace.
    <div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code>browser<span class="token punctuation">.</span>browserAction<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"path/to/icon.png"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
  </li>
  <li><strong>In Chrome:</strong> The APIs are accessed using the <code>chrome</code> namespace.
    <div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code>chrome<span class="token punctuation">.</span>browserAction<span class="token punctuation">.</span><span class="token function">setIcon</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">"path/to/icon.png"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
  </li>
</ul></div></section><section aria-labelledby="callbacks_and_promises"><h3 id="callbacks_and_promises"><a href="#callbacks_and_promises">Callbacks and promises</a></h3><div class="section-content"><ul>
  <li><strong>In Firefox and Safari (all versions), and Chrome (starting from Manifest Version 3):</strong> Asynchronous APIs use <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">promises</a> to return values.
    <div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">logCookie</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">logError</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> setCookie <span class="token operator">=</span> browser<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"https://developer.mozilla.org/"</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
setCookie<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>logCookie<span class="token punctuation">,</span> logError<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
  </li>
  <li><strong>In Chrome:</strong> In Manifest V2, asynchronous APIs use callbacks to return values and <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/lastError"><code>runtime.lastError</code></a> to communicate errors. In Manifest V3, callbacks are supported for backward compatibility, along with support for <a href="https://developer.chrome.com/docs/extensions/mv3/intro/mv3-overview/#promises" class="external" target="_blank">promises</a> on most appropriate methods.
    <div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">logCookie</span><span class="token punctuation">(</span><span class="token parameter">c</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>chrome<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>lastError<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>chrome<span class="token punctuation">.</span>runtime<span class="token punctuation">.</span>lastError<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

chrome<span class="token punctuation">.</span>cookies<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"https://developer.mozilla.org/"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> logCookie<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
  </li>
</ul></div></section><section aria-labelledby="firefox_supports_both_the_chrome_and_browser_namespaces"><h3 id="firefox_supports_both_the_chrome_and_browser_namespaces"><a href="#firefox_supports_both_the_chrome_and_browser_namespaces">Firefox supports both the chrome and browser namespaces</a></h3><div class="section-content"><p>As a porting aid, the Firefox implementation of WebExtensions supports <code>chrome</code> using callbacks and <code>browser</code> using promises. This means that many Chrome extensions work in Firefox without changes.</p>
<div class="notecard note" id="sect1">
  <p><strong>Note:</strong> The <code>browser</code> namespace is supported by Firefox and Safari. Chrome does not offer the <code>browser</code> namespace, until <a href="https://crbug.com/798169" class="external" target="_blank">Chrome bug 798169</a> is resolved.</p>
</div>
<p>If you choose to write your extension to use <code>browser</code> and promises, Firefox provides a polyfill that should enable it to run in Chrome: <a href="https://github.com/mozilla/webextension-polyfill" class="external" target="_blank">https://github.com/mozilla/webextension-polyfill</a>.</p></div></section><section aria-labelledby="partially_supported_apis"><h3 id="partially_supported_apis"><a href="#partially_supported_apis">Partially supported APIs</a></h3><div class="section-content"><p>The <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs">Browser support for JavaScript APIs</a> page includes compatibility tables for all APIs that have any support in Firefox. Where there are caveats regarding support for an API method, property, type, or event, this is indicated in these tables with an asterisk "*". Selecting the asterisk expands the table to display a note explaining the caveat.</p>
<p>The tables are generated from compatibility data stored as <a href="https://github.com/mdn/browser-compat-data" class="external" target="_blank">JSON files in GitHub</a>.</p>
<p>The rest of this section describes the main compatibility issues you may need to consider when building a cross-browser extension. Also, remember to check the browser compatibility tables, as they may contain additional compatibility information.</p>
<h4 id="notifications_api">Notifications API</h4>
<p>For <code>notifications.create()</code>, with <code>type "basic"</code>:</p>
<ul>
  <li><strong>In Firefox</strong>: <code>iconUrl</code> is optional.</li>
  <li><strong>In Chrome</strong>: <code>iconUrl</code> is required.</li>
</ul>
<p>When the user clicks on a notification:</p>
<ul>
  <li><strong>In Firefox</strong>: The notification is cleared immediately.</li>
  <li><strong>In Chrome</strong>: This is not the case.</li>
</ul>
<p>If you call <code>notifications.create()</code> more than once in rapid succession:</p>
<ul>
  <li><strong>In Firefox</strong>: The notifications may not display. Waiting to make subsequent calls within the <code>notifications.create()</code> callback function is not a sufficient delay to prevent this.</li>
</ul>
<h4 id="proxy_api">Proxy API</h4>
<p>Firefox and Chrome include a Proxy API. However, the design of these two APIs is incompatible.</p>
<ul>
  <li>
    <strong>In Firefox</strong>: Proxies are set using the <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/settings">proxy.settings</a> property or <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/onRequest">proxy.onRequest</a> to provide <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/ProxyInfo">ProxyInfo</a> dynamically.
    See <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy">proxy</a> for more information on the API.
  </li>
  <li>
    <strong>In Chrome</strong>: Proxy settings are defined in a <a href="https://developer.chrome.com/docs/extensions/reference/proxy/#type-ProxyConfig" class="external" target="_blank"><code>proxy.ProxyConfig</code></a> object. Depending on Chrome's proxy settings, the settings may contain <a href="https://developer.chrome.com/docs/extensions/reference/proxy/#type-ProxyRules" class="external" target="_blank"><code>proxy.ProxyRules</code></a> or a <a href="https://developer.chrome.com/docs/extensions/reference/proxy/#type-PacScript" class="external" target="_blank"><code>proxy.PacScript</code></a>. Proxies are set using the <a href="https://developer.chrome.com/docs/extensions/reference/proxy/#property-settings" class="external" target="_blank">proxy.settings</a> property.
    See <a href="https://developer.chrome.com/docs/extensions/reference/proxy/" class="external" target="_blank">chrome.proxy</a> for more information on the API.
  </li>
</ul>
<h4 id="tabs_api">Tabs API</h4>
<p>When using <code>tabs.executeScript()</code> or <code>tabs.insertCSS()</code>:</p>
<ul>
  <li><strong>In Firefox</strong>: Relative URLs passed are resolved relative to the current page URL.</li>
  <li><strong>In Chrome</strong>: Relative URLs are resolved relative to the extension's base URL.</li>
</ul>
<p>To work cross-browser, you can specify the path as an absolute URL, starting at the extension's root, like this:</p>
<pre class="brush: plain notranslate">/path/to/script.js
</pre>
<p>When calling <code>tabs.remove()</code>:</p>
<ul>
  <li><strong>In Firefox</strong>: The <code>tabs.remove()</code> promise is fulfilled after the <code>beforeunload</code> event.</li>
  <li><strong>In Chrome</strong>: The callback does not wait for <code>beforeunload</code>.</li>
</ul>
<h4 id="webrequest_api">WebRequest API</h4>
<ul>
  <li><strong>In Firefox:</strong>
    <ul>
      <li>Requests can be redirected only if their original URL uses the <code>http:</code> or <code>https:</code> scheme.</li>
      <li>The <code>activeTab</code> permission does not allow for intercepting network requests in the current tab. (See <a href="https://bugzil.la/1617479" class="external" target="_blank">bug 1617479</a>)</li>
      <li>Events are not fired for system requests (for example, extension upgrades or search bar suggestions).
        <ul>
          <li><strong>From Firefox 57 onwards:</strong> Firefox makes an exception for extensions that need to intercept <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/onAuthRequired"><code>webRequest.onAuthRequired</code></a> for proxy authorization. See the documentation for <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/onAuthRequired"><code>webRequest.onAuthRequired</code></a>.</li>
        </ul>
      </li>
      <li>If an extension wants to redirect a public (e.g., HTTPS) URL to an <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages">extension page</a>, the extension's <code>manifest.json</code> file must contain a <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources"><code>web_accessible_resources</code></a> key with the URL of the extension page.
        <div class="notecard note" id="sect2">
          <p><strong>Note:</strong> <em>Any</em> website may link or redirect to that URL, and extensions should treat any input (POST data, for example) as if it came from an untrusted source, as a normal web page should.</p>
        </div>
      </li>
      <li>Some of the <code>browser.webRequest.*</code> APIs allow for returning Promises that resolves <code>webRequest.BlockingResponse</code> asynchronously.</li>
    </ul>
  </li>
  <li><strong>In Chrome:</strong> Only <code>webRequest.onAuthRequired</code> supports asynchronous <code>webRequest.BlockingResponse</code> by supplying <code>'asyncBlocking'</code>, through a callback instead of a Promise.</li>
</ul>
<h4 id="windows_api">Windows API</h4>
<ul>
  <li><strong>In Firefox:</strong> <code>onFocusChanged</code> of the <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows"><code>windows</code></a> API triggers multiple times for a focus change.</li>
</ul></div></section><section aria-labelledby="unsupported_apis"><h3 id="unsupported_apis"><a href="#unsupported_apis">Unsupported APIs</a></h3><div class="section-content"><h4 id="declarativecontent_api">DeclarativeContent API</h4>
<ul>
  <li><strong>In Firefox:</strong> Chrome's <a href="https://developer.chrome.com/docs/extensions/reference/declarativeContent/" class="external" target="_blank">declarativeContent</a> API <a href="https://bugzil.la/1435864" class="external" target="_blank">is not implemented</a>. In addition, Firefox <a href="https://bugzil.la/1323433#c16" class="external" target="_blank">will not support</a> the <code>declarativeContent.RequestContentScript</code> API (which is rarely used and is unavailable in stable releases of Chrome).</li>
</ul></div></section><section aria-labelledby="miscellaneous_incompatibilities"><h3 id="miscellaneous_incompatibilities"><a href="#miscellaneous_incompatibilities">Miscellaneous incompatibilities</a></h3><div class="section-content"><h4 id="urls_in_css">URLs in CSS</h4>
<ul>
  <li><strong>In Firefox:</strong> URLs in injected CSS files are resolved relative to <em>the CSS file</em>.</li>
  <li><strong>In Chrome:</strong> URLs in injected CSS files are resolved relative to <em>the page they are injected into</em>.</li>
</ul>
<h4 id="support_for_dialogs_in_background_pages">Support for dialogs in background pages</h4>
<ul>
  <li><strong>In Firefox:</strong> <a href="/en-US/docs/Web/API/Window/alert"><code>alert()</code></a>, <a href="/en-US/docs/Web/API/Window/confirm"><code>confirm()</code></a>, and <a href="/en-US/docs/Web/API/Window/prompt"><code>prompt()</code></a> are not supported in background pages.</li>
</ul>
<h4 id="web_accessible_resources">web_accessible_resources</h4>
<ul>
  <li><strong>In Firefox:</strong> Resources are assigned a random <a href="/en-US/docs/Glossary/UUID">UUID</a> that changes for every instance of Firefox: <code>moz-extension://«random-UUID»/«path»</code>. This randomness can prevent you from doing things, such as adding your extension's URL to another domain's CSP policy.</li>
  <li><strong>In Chrome:</strong> When a resource is listed in <code>web_accessible_resources</code>, it is accessible as <code>chrome-extension://«your-extension-id»/«path»</code>. The extension ID is fixed for an extension.</li>
</ul>
<h4 id="manifest_key_property">Manifest "key" property</h4>
<ul>
  <li><strong>In Firefox:</strong> As Firefox uses random UUIDs for <code>web_accessible_resources</code>, this property is unsupported. Firefox extensions can fix their extension ID through the <code>browser_specific_settings.gecko.id</code> manifest key (see <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings#firefox_gecko_properties">browser_specific_settings.gecko</a>).</li>
  <li><strong>In Chrome:</strong> When working with an unpacked extension, the manifest may include a <a href="https://developer.chrome.com/docs/extensions/mv3/manifest/key/" class="external" target="_blank"><code>"key"</code> property</a> to pin the extension ID across different machines. This is mainly useful when working with <code>web_accessible_resources</code>.</li>
</ul>
<h4 id="content_script_https_requests">Content script HTTP(S) requests</h4>
<ul>
  <li><strong>In Firefox:</strong> When a content script makes an HTTP(S) request, you <em>must</em> provide absolute URLs.</li>
  <li><strong>In Chrome:</strong> When a content script makes a request (for example, using <a href="/en-US/docs/Web/API/Fetch_API/Using_Fetch"><code>fetch()</code></a>) to a relative URL (like <code>/api</code>), it is sent to <code>https://example.com/api</code>.</li>
</ul>
<h4 id="content_script_environment">Content script environment</h4>
<ul>
  <li><strong>In Firefox:</strong> The global scope of the <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#content_script_environment">content script environment</a> is not strictly equal to <code>window</code> (<a href="https://bugzil.la/1208775" class="external" target="_blank">Firefox bug 1208775</a>). More specifically, the global scope (<code>globalThis</code>) is composed of standard JavaScript features as usual, plus <code>window</code> as the prototype of the global scope. Most DOM APIs are inherited from the page through <code>window</code>, through <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts#xray_vision_in_firefox">Xray vision</a> to shield the content script from modifications by the web page. A content script may encounter JavaScript objects from its global scope or Xray-wrapped versions from the web page.</li>
  <li><strong>In Chrome:</strong> The global scope is <code>window</code>, and the available DOM APIs are generally independent of the web page (other than sharing the underlying DOM). Content scripts cannot directly access JavaScript objects from the web page.</li>
</ul>
<h4 id="executing_code_in_a_web_page_from_content_script">Executing code in a web page from content script</h4>
<ul>
  <li><strong>In Firefox:</strong> <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval"><code>eval</code></a> runs code in the context of the content script and <code>window.eval</code> runs code in the context of the page. See <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#using_eval_in_content_scripts">Using <code>eval</code> in content scripts</a>.</li>
  <li><strong>In Chrome:</strong> <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval"><code>eval</code></a> and <code>window.eval</code> always runs code in the context of the content script, not in the context of the page.</li>
</ul>
<h4 id="sharing_variables_between_content_scripts">Sharing variables between content scripts</h4>
<ul>
  <li><strong>In Firefox:</strong> You cannot share variables between content scripts by assigning them to <code>this.{variableName}</code> in one script and then attempting to access them using <code>window.{variableName}</code> in another. This is a limitation created by the sandbox environment in Firefox. This limitation may be removed; see <a href="https://bugzil.la/1208775" class="external" target="_blank">Firefox bug 1208775</a>.</li>
</ul>
<h4 id="content_script_lifecycle_during_navigation">Content script lifecycle during navigation</h4>
<ul>
  <li>
    <strong>In Firefox:</strong> Content scripts remain injected in a web page after the user has navigated away. However, window object properties are destroyed. For example, if a content script sets <code>window.prop1 = "prop"</code> and the user then navigates away and returns to the page <code>window.prop1</code> is undefined. This issue is tracked in <a href="https://bugzil.la/1525400" class="external" target="_blank">Firefox bug 1525400</a>.
    To mimic the behavior of Chrome, listen for the <a href="/en-US/docs/Web/API/Window/pageshow_event">pageshow</a> and <a href="/en-US/docs/Web/API/Window/pagehide_event">pagehide</a> events. Then simulate the injection or destruction of the content script.
  </li>
  <li><strong>In Chrome:</strong> Content scripts are destroyed when the user navigates away from a web page. If the user clicks the back button to return to the page through history, the content script is injected into the web page.</li>
</ul>
<h4 id="per-tab_zoom_behavior">"per-tab" zoom behavior</h4>
<ul>
  <li><strong>In Firefox:</strong> The zoom level persists across page loads and navigation within the tab.</li>
  <li><strong>In Chrome:</strong> Zoom changes are reset on navigation; navigating a tab always loads pages with their per-origin zoom factors.</li>
</ul>
<p>See <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/ZoomSettingsScope"><code>tabs.ZoomSettingsScope</code></a>.</p></div></section><section aria-labelledby="manifest.json_keys"><h2 id="manifest.json_keys"><a href="#manifest.json_keys">manifest.json keys</a></h2><div class="section-content"><p>The main <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json"><code>manifest.json</code></a> page includes a table describing browser support for <code>manifest.json</code> keys. Where there are caveats around support for a given key, this is indicated in the table with an asterisk "*". Selecting the asterisk expands the table to display a note explaining the caveat.</p>
<p>The tables are generated from compatibility data stored as <a href="https://github.com/mdn/browser-compat-data" class="external" target="_blank">JSON files in GitHub</a>.</p></div></section><section aria-labelledby="native_messaging"><h2 id="native_messaging"><a href="#native_messaging">Native messaging</a></h2><div class="section-content"></div></section><section aria-labelledby="connection-based_messaging_arguments"><h3 id="connection-based_messaging_arguments"><a href="#connection-based_messaging_arguments">Connection-based messaging arguments</a></h3><div class="section-content"><p><strong>On Linux and Mac:</strong> Chrome passes one argument to the native app, which is the origin of the extension that started it, in the form of <code>chrome-extension://«extensionID/»</code> (trailing slash required). This enables the app to identify the extension.</p>
<p><strong>On Windows:</strong> Chrome passes two arguments:</p>
<ol>
  <li>The origin of the extension</li>
  <li>A handle to the Chrome native window that started the app</li>
</ol></div></section><section aria-labelledby="allowed_extensions"><h3 id="allowed_extensions"><a href="#allowed_extensions">allowed_extensions</a></h3><div class="section-content"><ul>
  <li><strong>In Firefox:</strong> The manifest key is called <code>allowed_extensions</code>.</li>
  <li><strong>In Chrome:</strong> The manifest key is called <code>allowed_origins</code>.</li>
</ul></div></section><section aria-labelledby="app_manifest_location"><h3 id="app_manifest_location"><a href="#app_manifest_location">App manifest location</a></h3><div class="section-content"><ul>
  <li><strong>In Chrome:</strong> The app manifest is expected in a different place. See <a href="https://developer.chrome.com/docs/apps/nativeMessaging/#native-messaging-host-location" class="external" target="_blank">Native messaging host location</a> in the Chrome docs.</li>
</ul></div></section><section aria-labelledby="app_persistence"><h3 id="app_persistence"><a href="#app_persistence">App persistence</a></h3><div class="section-content"><ul>
  <li><strong>In Firefox:</strong> When a native messaging connection is closed, Firefox kills the subprocesses if they do not break away. On Windows, the browser puts the native application's process into a <a href="https://msdn.microsoft.com/library/windows/desktop/ms684161(v=vs.85).aspx" class="external" target="_blank">Job object</a> and kills the job. Suppose the native application launches other processes and wants them to remain open after the native application is killed. In that case, the native application must use <code>CreateProcess</code>, instead of <code>ShellExecute</code>, to launch the additional process with the <a href="https://msdn.microsoft.com/library/windows/desktop/ms684863(v=vs.85).aspx" class="external" target="_blank"><code>CREATE_BREAKAWAY_FROM_JOB</code></a> flag.</li>
</ul></div></section><section aria-labelledby="data_cloning_algorithm"><h2 id="data_cloning_algorithm"><a href="#data_cloning_algorithm">Data cloning algorithm</a></h2><div class="section-content"><p>Some extension APIs allow an extension to send data from one part of the extension to another, such as <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/sendMessage"><code>runtime.sendMessage()</code></a>, <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/sendMessage"><code>tabs.sendMessage()</code></a>, <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage"><code>runtime.onMessage</code></a>, the <code>postMessage()</code> method of <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/Port"><code>runtime.port</code></a>, and <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript"><code>tabs.executeScript()</code></a>.</p>
<ul>
  <li><strong>In Firefox:</strong> The <a href="/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm">Structured clone algorithm</a> is used.</li>
  <li><strong>In Chrome:</strong> The <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#description">JSON serialization algorithm</a> is used. It may switch to structured cloning in the future (<a href="https://crbug.com/248548" class="external" target="_blank">issue 248548</a>).</li>
</ul>
<p>The Structured clone algorithm supports more types than the JSON serialization algorithm. A notable exception are (DOM) objects with a <code>toJSON</code> method. DOM objects are not cloneable nor JSON-serializable by default, but with a <code>toJSON()</code> method, these can be JSON-serialized (but still not cloned with the structured cloning algorithm). Examples of JSON-serializable objects that are not structured cloneable include instances of <a href="/en-US/docs/Web/API/URL"><code>URL</code></a> and <a href="/en-US/docs/Web/API/PerformanceEntry"><code>PerformanceEntry</code></a>.</p>
<p>Extensions that rely on the <code>toJSON()</code> method of the JSON serialization algorithm can use <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code></a> followed by <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse"><code>JSON.parse()</code></a> to ensure that a message can be exchanged because a parsed JSON value is always structurally cloneable.</p></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/main/files/en-us/mozilla/add-ons/webextensions/chrome_incompatibilities/index.md" title="This will take you to GitHub, where you&#x27;ll need to sign in first." target="_blank" rel="noopener noreferrer">Edit the page on GitHub</a>.</li><li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions%2FChrome_incompatibilities&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fmozilla%2Fadd-ons%2Fwebextensions%2Fchrome_incompatibilities%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FMozilla%2FAdd-ons%2FWebExtensions%2FChrome_incompatibilities%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fmozilla%2Fadd-ons%2Fwebextensions%2Fchrome_incompatibilities%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F7d1685e832a40071b006e12794c038157b7e4955%0A*+Document+last+modified%3A+2023-11-15T06%3A44%3A56.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">Report the content issue</a>.</li><li><a href="https://github.com/mdn/content/blob/main/files/en-us/mozilla/add-ons/webextensions/chrome_incompatibilities/index.md?plain=1" title="Folder: en-us/mozilla/add-ons/webextensions/chrome_incompatibilities (Opens in a new tab)" target="_blank" rel="noopener noreferrer">View the source on GitHub</a>.</li></ul>Want to get more involved?<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">Learn how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time dateTime="2023-11-15T06:44:56.000Z">Nov 15, 2023</time> by<!-- --> <a href="/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div></div><footer id="nav-footer" class="page-footer"><div class="page-footer-grid"><div class="page-footer-logo-col"><a href="/" class="mdn-footer-logo" aria-label="MDN homepage"><svg width="48" height="17" viewBox="0 0 48 17" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mdn-footer-logo-svg">MDN logo</title><path d="M20.04 16.512H15.504V10.416C15.504 9.488 15.344 8.824 15.024 8.424C14.72 8.024 14.264 7.824 13.656 7.824C12.92 7.824 12.384 8.064 12.048 8.544C11.728 9.024 11.568 9.64 11.568 10.392V14.184H13.008V16.512H8.472V10.416C8.472 9.488 8.312 8.824 7.992 8.424C7.688 8.024 7.232 7.824 6.624 7.824C5.872 7.824 5.336 8.064 5.016 8.544C4.696 9.024 4.536 9.64 4.536 10.392V14.184H6.6V16.512H0V14.184H1.44V8.04H0.024V5.688H4.536V7.32C5.224 6.088 6.32 5.472 7.824 5.472C8.608 5.472 9.328 5.664 9.984 6.048C10.64 6.432 11.096 7.016 11.352 7.8C11.992 6.248 13.168 5.472 14.88 5.472C15.856 5.472 16.72 5.776 17.472 6.384C18.224 6.992 18.6 7.936 18.6 9.216V14.184H20.04V16.512Z" fill="currentColor"></path><path d="M33.6714 16.512H29.1354V14.496C28.8314 15.12 28.3834 15.656 27.7914 16.104C27.1994 16.536 26.4154 16.752 25.4394 16.752C24.0154 16.752 22.8954 16.264 22.0794 15.288C21.2634 14.312 20.8554 12.984 20.8554 11.304C20.8554 9.688 21.2554 8.312 22.0554 7.176C22.8554 6.04 24.0634 5.472 25.6794 5.472C26.5594 5.472 27.2794 5.648 27.8394 6C28.3994 6.352 28.8314 6.8 29.1354 7.344V2.352H26.9754V0H32.2314V14.184H33.6714V16.512ZM29.1354 11.04V10.776C29.1354 9.88 28.8954 9.184 28.4154 8.688C27.9514 8.176 27.3674 7.92 26.6634 7.92C25.9754 7.92 25.3674 8.176 24.8394 8.688C24.3274 9.2 24.0714 10.008 24.0714 11.112C24.0714 12.152 24.3114 12.944 24.7914 13.488C25.2714 14.032 25.8394 14.304 26.4954 14.304C27.3114 14.304 27.9514 13.96 28.4154 13.272C28.8954 12.584 29.1354 11.84 29.1354 11.04Z" fill="currentColor"></path><path d="M47.9589 16.512H41.9829V14.184H43.4229V10.416C43.4229 9.488 43.2629 8.824 42.9429 8.424C42.6389 8.024 42.1829 7.824 41.5749 7.824C40.8389 7.824 40.2709 8.056 39.8709 8.52C39.4709 8.968 39.2629 9.56 39.2469 10.296V14.184H40.6869V16.512H34.7109V14.184H36.1509V8.04H34.5909V5.688H39.2469V7.344C39.9669 6.096 41.1269 5.472 42.7269 5.472C43.7509 5.472 44.6389 5.776 45.3909 6.384C46.1429 6.992 46.5189 7.936 46.5189 9.216V14.184H47.9589V16.512Z" fill="currentColor"></path></svg></a><p>Your blueprint for a better internet.</p><ul class="social-icons"><li><a class="icon icon-mastodon" href="https://mozilla.social/@mdn" target="_blank" rel="me noopener noreferrer"><span class="visually-hidden">MDN on Mastodon</span></a></li><li><a class="icon icon-twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="icon icon-github-mark-small" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on GitHub</span></a></li><li><a class="icon icon-feed" href="/en-US/blog/rss.xml" target="_blank"><span class="visually-hidden">MDN Blog RSS Feed</span></a></li></ul></div><div class="page-footer-nav-col-1"><h2 class="footer-nav-heading">MDN</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a href="/en-US/about">About</a></li><li class="footer-nav-item"><a href="/en-US/blog/">Blog</a></li><li class="footer-nav-item"><a href="https://www.mozilla.org/en-US/careers/listings/?team=ProdOps" target="_blank" rel="noopener noreferrer">Careers</a></li><li class="footer-nav-item"><a href="/en-US/advertising">Advertise with us</a></li></ul></div><div class="page-footer-nav-col-2"><h2 class="footer-nav-heading">Support</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/MDN/Community/Issues">Report an issue</a></li></ul></div><div class="page-footer-nav-col-3"><h2 class="footer-nav-heading">Our communities</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/community">MDN Community</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="https://discourse.mozilla.org/c/mdn/236" target="_blank" rel="noopener noreferrer">MDN Forum</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/discord" target="_blank" rel="noopener noreferrer">MDN Chat</a></li></ul></div><div class="page-footer-nav-col-4"><h2 class="footer-nav-heading">Developers</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Web">Web Technologies</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Learn">Learn Web Development</a></li><li class="footer-nav-item"><a href="https://hacks.mozilla.org/" target="_blank" rel="noopener noreferrer">Hacks Blog</a></li></ul></div><div class="page-footer-moz"><a href="https://www.mozilla.org/" class="footer-moz-logo-link" target="_blank" rel="noopener noreferrer"><svg width="112" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mozilla-footer-logo-svg">Mozilla logo</title><path d="M41.753 14.218c-2.048 0-3.324 1.522-3.324 4.157 0 2.423 1.119 4.286 3.29 4.286 2.082 0 3.447-1.678 3.447-4.347 0-2.826-1.522-4.096-3.413-4.096Zm54.89 7.044c0 .901.437 1.618 1.645 1.618 1.427 0 2.949-1.024 3.044-3.352-.649-.095-1.365-.185-2.02-.185-1.426-.005-2.668.397-2.668 1.92Z" fill="currentColor"></path><path d="M0 0v32h111.908V0H0Zm32.56 25.426h-5.87v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h1.864v3.044h-5.864v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h2.669v3.044H6.642v-3.044h1.863v-7.918H6.642V11.42h5.864v2.11c.839-1.489 2.3-2.39 4.252-2.39 2.02 0 3.878.963 4.566 3.01.778-1.862 2.361-3.01 4.566-3.01 2.512 0 4.812 1.522 4.812 4.84v6.402h1.863v3.044h-.005Zm9.036.307c-4.314 0-7.296-2.635-7.296-7.106 0-4.096 2.484-7.481 7.514-7.481s7.481 3.38 7.481 7.29c0 4.472-3.228 7.297-7.699 7.297Zm22.578-.307H51.942l-.403-2.11 7.7-8.846h-4.376l-.621 2.17-2.888-.313.498-4.907h12.294l.313 2.11-7.767 8.852h4.533l.654-2.172 3.167.308-.872 4.908Zm7.99 0h-4.191v-5.03h4.19v5.03Zm0-8.976h-4.191v-5.03h4.19v5.03Zm2.618 8.976 6.054-21.358h3.945l-6.054 21.358h-3.945Zm8.136 0 6.048-21.358h3.945l-6.054 21.358h-3.939Zm21.486.307c-1.863 0-2.887-1.085-3.072-2.792-.805 1.427-2.232 2.792-4.498 2.792-2.02 0-4.314-1.085-4.314-4.006 0-3.447 3.323-4.253 6.518-4.253.778 0 1.584.034 2.3.124v-.465c0-1.427-.034-3.133-2.3-3.133-.84 0-1.488.061-2.143.402l-.453 1.578-3.195-.34.549-3.224c2.45-.996 3.692-1.27 5.992-1.27 3.01 0 5.556 1.55 5.556 4.75v6.083c0 .805.314 1.085.963 1.085.184 0 .375-.034.587-.095l.034 2.11a5.432 5.432 0 0 1-2.524.654Z" fill="currentColor"></path></svg></a><ul class="footer-moz-list"><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Website Privacy Notice</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/#cookies" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Cookies</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/legal/terms/mozilla" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Legal</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/governance/policies/participation/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Community Participation Guidelines</a></li></ul></div><div class="page-footer-legal"><p id="license" class="page-footer-legal-text">Visit<!-- --> <a href="https://www.mozilla.org" target="_blank" rel="noopener noreferrer">Mozilla Corporation’s</a> <!-- -->not-for-profit parent, the<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://foundation.mozilla.org/">Mozilla Foundation</a>.<br/>Portions of this content are ©1998–<!-- -->2023<!-- --> by individual mozilla.org contributors. Content available under<!-- --> <a href="/en-US/docs/MDN/Writing_guidelines/Attrib_copyright_license">a Creative Commons license</a>.</p></div></div></footer></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Chrome incompatibilities","mdn_url":"/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions\"><strong>Browser extensions</strong></a></li>\n    <li>\n      <details>\n        <summary>Getting started</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/What_are_WebExtensions\">What are extensions?</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_first_WebExtension\">Your first extension</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Your_second_WebExtension\">Your second extension</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Anatomy_of_a_WebExtension\">Anatomy of an extension</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Examples\">Example extensions</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/What_next_\">What next?</a></li>\n        </ol>\n      </details>\n    </li>\n    <li>\n      <details open=\"\">\n        <summary>Concepts</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API\">JavaScript APIs</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts\">Content scripts</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Background_scripts\">Background scripts</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns\">Match patterns</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_files\">Work with files</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Internationalization\">Internationalization</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_Security_Policy\">Content Security Policy</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Native_messaging\">Native messaging</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Differences_between_API_implementations\">Differences between API implementations</a></li>\n<li><em><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities\" aria-current=\"page\">Chrome incompatibilities</a></em></li>\n        </ol>\n      </details>\n    </li>\n    <li>\n      <details>\n        <summary>User interface</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface\">User interface</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Browser_action\">Toolbar button</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Page_actions\">Address bar button</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Sidebars\">Sidebars</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Context_menu_items\">Context menu items</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Options_pages\">Options page</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">Extension pages</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Notifications\">Notifications</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Omnibox\">Address bar suggestions</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/devtools_panels\">devtools panels</a></li>\n        </ol>\n      </details>\n    </li>\n    <li>\n      <details>\n        <summary>How to</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Intercept_HTTP_requests\">Intercept HTTP requests</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Modify_a_web_page\">Modify a web page</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Safely_inserting_external_content_into_a_page\">Insert external content</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts\">Share objects with page scripts</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Add_a_button_to_the_toolbar\">Add a button to the toolbar</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Implement_a_settings_page\">Implement a settings page</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Working_with_the_Tabs_API\">Work with the Tabs API</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Bookmarks_API\">Work with the Bookmarks API</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_the_Cookies_API\">Work with the Cookies API</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Work_with_contextual_identities\">Work with contextual identities</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Interact_with_the_clipboard\">Interact with the clipboard</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Extending_the_developer_tools\">Extend the developer tools</a></li>\n<li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Build_a_cross_browser_extension\">Build a cross-browser extension</a></li>\n        </ol>\n      </details>\n    </li>\n    <li>\n      <details>\n        <summary>JavaScript APIs</summary>\n        <ol><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/action\">action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/alarms\">alarms</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/bookmarks\">bookmarks</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserAction\">browserAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browserSettings\">browserSettings</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/browsingData\">browsingData</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/captivePortal\">captivePortal</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/clipboard\">clipboard</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/commands\">commands</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contentScripts\">contentScripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/contextualIdentities\">contextualIdentities</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/cookies\">cookies</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/declarativeNetRequest\">declarativeNetRequest</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/devtools\">devtools</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dns\">dns</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/dom\">dom</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/downloads\">downloads</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/events\">events</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extension\">extension</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/extensionTypes\">extensionTypes</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/find\">find</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/history\">history</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/i18n\">i18n</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/identity\">identity</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/idle\">idle</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/management\">management</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/menus\">menus</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/notifications\">notifications</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/omnibox\">omnibox</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pageAction\">pageAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/permissions\">permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/pkcs11\">pkcs11</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/privacy\">privacy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime\">runtime</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/scripting\">scripting</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/search\">search</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sessions\">sessions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/sidebarAction\">sidebarAction</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/storage\">storage</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs\">tabs</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/theme\">theme</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/topSites\">topSites</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/types\">types</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/userScripts\">userScripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webNavigation\">webNavigation</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest\">webRequest</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows\">windows</a></li></ol>\n      </details>\n    </li>\n    <li>\n      <details>\n      <summary>Manifest keys</summary>\n        <ol>\n          <li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json\">manifest.json</a></li>\n        </ol>\n      <ol><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/action\">action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/author\">author</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/background\">background</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_action\">browser_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings\">browser_specific_settings</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_settings_overrides\">chrome_settings_overrides</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/chrome_url_overrides\">chrome_url_overrides</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands\">commands</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_scripts\">content_scripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/content_security_policy\">content_security_policy</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/declarative_net_request\">declarative_net_request</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/default_locale\">default_locale</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/description\">description</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/developer\">developer</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/devtools_page\">devtools_page</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/dictionaries\">dictionaries</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/externally_connectable\">externally_connectable</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/homepage_url\">homepage_url</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/host_permissions\">host_permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/icons\">icons</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/incognito\">incognito</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/manifest_version\">manifest_version</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/name\">name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/offline_enabled\">offline_enabled</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/omnibox\">omnibox</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/optional_permissions\">optional_permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_page\">options_page</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/options_ui\">options_ui</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/page_action\">page_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/permissions\">permissions</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/protocol_handlers\">protocol_handlers</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/short_name\">short_name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/sidebar_action\">sidebar_action</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/storage\">storage</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme\">theme</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/theme_experiment\">theme_experiment</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/user_scripts\">user_scripts</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version\">version</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/version_name\">version_name</a></li><li><a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\">web_accessible_resources</a></li></ol>\n      </details>\n    </li>\n     <li>\n      <details>\n        <summary>Extension Workshop</summary>\n        <ol>\n          <li><a href=\"https://extensionworkshop.com/documentation/develop/\">Develop</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/publish/\">Publish</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/manage/\">Manage</a></li>\n          <li><a href=\"https://extensionworkshop.com/documentation/enterprise/\">Enterprise</a></li>\n        </ol>\n      </details>\n    </li>\n    <li><a href=\"/en-US/docs/Mozilla/Add-ons/Contact_us\"><strong>Contact us</strong></a></li>\n    <li>\n      <details>\n        <summary>Channels</summary>\n        <ol>\n          <li><a href=\"https://blog.mozilla.org/addons\">Add-ons blog</a></li>\n          <li><a href=\"https://discourse.mozilla.org/c/add-ons\">Add-ons forum</a></li>\n          <li><a href=\"https://chat.mozilla.org/#/room/%23addons:mozilla.org\">Add-ons chat</a></li>\n        </ol>\n      </details>\n    </li>\n  </ol>\n","sidebarMacro":"AddonSidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The WebExtension APIs aim to provide compatibility across all the main browsers, so extensions should run on any browser with minimal changes.</p>\n<p>However, there are significant differences between Chrome (and Chromium-based browsers), Firefox, and Safari. In particular:</p>\n<ul>\n  <li>Support for WebExtension APIs differs across browsers. See <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a> for details.</li>\n  <li>Support for <code>manifest.json</code> keys differs across browsers. See the <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json#browser_compatibility\">\"Browser compatibility\" section</a> on the <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json\"><code>manifest.json</code></a> page for more details.</li>\n  <li>Extension API namespace:\n    <ul>\n      <li><strong>In Firefox and Safari:</strong> Extension APIs are accessed under the <code>browser</code> namespace. The <code>chrome</code> namespace is also supported for compatibility with Chrome.</li>\n      <li><strong>In Chrome:</strong> Extension APIs are accessed under the <code>chrome</code> namespace. (cf. <a href=\"https://crbug.com/798169\" class=\"external\" target=\"_blank\">Chrome bug 798169</a>)</li>\n    </ul>\n  </li>\n  <li>Asynchronous APIs:\n    <ul>\n      <li><strong>In Firefox and Safari:</strong> Asynchronous APIs are implemented using promises.</li>\n      <li><strong>In Chrome:</strong> In Manifest V2, asynchronous APIs are implemented using callbacks. In Manifest V3, support is provided for <a href=\"https://developer.chrome.com/docs/extensions/mv3/intro/mv3-overview/#promises\" class=\"external\" target=\"_blank\">promises</a> on most appropriate methods. (cf. <a href=\"https://crbug.com/328932\" class=\"external\" target=\"_blank\">Chrome bug 328932</a>) Callbacks are supported in Manifest V3 for backward compatibility.</li>\n    </ul>\n  </li>\n</ul>\n<p>The rest of this page details these and other incompatibilities.</p>"}},{"type":"prose","value":{"id":"javascript_apis","title":"JavaScript APIs","isH3":false,"content":""}},{"type":"prose","value":{"id":"chrome._and_browser._namespace","title":"chrome.* and browser.* namespace","isH3":true,"content":"<ul>\n  <li><strong>In Firefox and Safari:</strong> The APIs are accessed using the <code>browser</code> namespace.\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>browser<span class=\"token punctuation\">.</span>browserAction<span class=\"token punctuation\">.</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"path/to/icon.png\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n  </li>\n  <li><strong>In Chrome:</strong> The APIs are accessed using the <code>chrome</code> namespace.\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>chrome<span class=\"token punctuation\">.</span>browserAction<span class=\"token punctuation\">.</span><span class=\"token function\">setIcon</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">path</span><span class=\"token operator\">:</span> <span class=\"token string\">\"path/to/icon.png\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"callbacks_and_promises","title":"Callbacks and promises","isH3":true,"content":"<ul>\n  <li><strong>In Firefox and Safari (all versions), and Chrome (starting from Manifest Version 3):</strong> Asynchronous APIs use <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\">promises</a> to return values.\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">logCookie</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">logError</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">let</span> setCookie <span class=\"token operator\">=</span> browser<span class=\"token punctuation\">.</span>cookies<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://developer.mozilla.org/\"</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsetCookie<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span>logCookie<span class=\"token punctuation\">,</span> logError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n  </li>\n  <li><strong>In Chrome:</strong> In Manifest V2, asynchronous APIs use callbacks to return values and <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/lastError\"><code>runtime.lastError</code></a> to communicate errors. In Manifest V3, callbacks are supported for backward compatibility, along with support for <a href=\"https://developer.chrome.com/docs/extensions/mv3/intro/mv3-overview/#promises\" class=\"external\" target=\"_blank\">promises</a> on most appropriate methods.\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">logCookie</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">c</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>chrome<span class=\"token punctuation\">.</span>runtime<span class=\"token punctuation\">.</span>lastError<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>chrome<span class=\"token punctuation\">.</span>runtime<span class=\"token punctuation\">.</span>lastError<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\nchrome<span class=\"token punctuation\">.</span>cookies<span class=\"token punctuation\">.</span><span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">url</span><span class=\"token operator\">:</span> <span class=\"token string\">\"https://developer.mozilla.org/\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> logCookie<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"firefox_supports_both_the_chrome_and_browser_namespaces","title":"Firefox supports both the chrome and browser namespaces","isH3":true,"content":"<p>As a porting aid, the Firefox implementation of WebExtensions supports <code>chrome</code> using callbacks and <code>browser</code> using promises. This means that many Chrome extensions work in Firefox without changes.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> The <code>browser</code> namespace is supported by Firefox and Safari. Chrome does not offer the <code>browser</code> namespace, until <a href=\"https://crbug.com/798169\" class=\"external\" target=\"_blank\">Chrome bug 798169</a> is resolved.</p>\n</div>\n<p>If you choose to write your extension to use <code>browser</code> and promises, Firefox provides a polyfill that should enable it to run in Chrome: <a href=\"https://github.com/mozilla/webextension-polyfill\" class=\"external\" target=\"_blank\">https://github.com/mozilla/webextension-polyfill</a>.</p>"}},{"type":"prose","value":{"id":"partially_supported_apis","title":"Partially supported APIs","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Browser_support_for_JavaScript_APIs\">Browser support for JavaScript APIs</a> page includes compatibility tables for all APIs that have any support in Firefox. Where there are caveats regarding support for an API method, property, type, or event, this is indicated in these tables with an asterisk \"*\". Selecting the asterisk expands the table to display a note explaining the caveat.</p>\n<p>The tables are generated from compatibility data stored as <a href=\"https://github.com/mdn/browser-compat-data\" class=\"external\" target=\"_blank\">JSON files in GitHub</a>.</p>\n<p>The rest of this section describes the main compatibility issues you may need to consider when building a cross-browser extension. Also, remember to check the browser compatibility tables, as they may contain additional compatibility information.</p>\n<h4 id=\"notifications_api\">Notifications API</h4>\n<p>For <code>notifications.create()</code>, with <code>type \"basic\"</code>:</p>\n<ul>\n  <li><strong>In Firefox</strong>: <code>iconUrl</code> is optional.</li>\n  <li><strong>In Chrome</strong>: <code>iconUrl</code> is required.</li>\n</ul>\n<p>When the user clicks on a notification:</p>\n<ul>\n  <li><strong>In Firefox</strong>: The notification is cleared immediately.</li>\n  <li><strong>In Chrome</strong>: This is not the case.</li>\n</ul>\n<p>If you call <code>notifications.create()</code> more than once in rapid succession:</p>\n<ul>\n  <li><strong>In Firefox</strong>: The notifications may not display. Waiting to make subsequent calls within the <code>notifications.create()</code> callback function is not a sufficient delay to prevent this.</li>\n</ul>\n<h4 id=\"proxy_api\">Proxy API</h4>\n<p>Firefox and Chrome include a Proxy API. However, the design of these two APIs is incompatible.</p>\n<ul>\n  <li>\n    <strong>In Firefox</strong>: Proxies are set using the <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/settings\">proxy.settings</a> property or <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/onRequest\">proxy.onRequest</a> to provide <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy/ProxyInfo\">ProxyInfo</a> dynamically.\n    See <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/proxy\">proxy</a> for more information on the API.\n  </li>\n  <li>\n    <strong>In Chrome</strong>: Proxy settings are defined in a <a href=\"https://developer.chrome.com/docs/extensions/reference/proxy/#type-ProxyConfig\" class=\"external\" target=\"_blank\"><code>proxy.ProxyConfig</code></a> object. Depending on Chrome's proxy settings, the settings may contain <a href=\"https://developer.chrome.com/docs/extensions/reference/proxy/#type-ProxyRules\" class=\"external\" target=\"_blank\"><code>proxy.ProxyRules</code></a> or a <a href=\"https://developer.chrome.com/docs/extensions/reference/proxy/#type-PacScript\" class=\"external\" target=\"_blank\"><code>proxy.PacScript</code></a>. Proxies are set using the <a href=\"https://developer.chrome.com/docs/extensions/reference/proxy/#property-settings\" class=\"external\" target=\"_blank\">proxy.settings</a> property.\n    See <a href=\"https://developer.chrome.com/docs/extensions/reference/proxy/\" class=\"external\" target=\"_blank\">chrome.proxy</a> for more information on the API.\n  </li>\n</ul>\n<h4 id=\"tabs_api\">Tabs API</h4>\n<p>When using <code>tabs.executeScript()</code> or <code>tabs.insertCSS()</code>:</p>\n<ul>\n  <li><strong>In Firefox</strong>: Relative URLs passed are resolved relative to the current page URL.</li>\n  <li><strong>In Chrome</strong>: Relative URLs are resolved relative to the extension's base URL.</li>\n</ul>\n<p>To work cross-browser, you can specify the path as an absolute URL, starting at the extension's root, like this:</p>\n<pre class=\"brush: plain notranslate\">/path/to/script.js\n</pre>\n<p>When calling <code>tabs.remove()</code>:</p>\n<ul>\n  <li><strong>In Firefox</strong>: The <code>tabs.remove()</code> promise is fulfilled after the <code>beforeunload</code> event.</li>\n  <li><strong>In Chrome</strong>: The callback does not wait for <code>beforeunload</code>.</li>\n</ul>\n<h4 id=\"webrequest_api\">WebRequest API</h4>\n<ul>\n  <li><strong>In Firefox:</strong>\n    <ul>\n      <li>Requests can be redirected only if their original URL uses the <code>http:</code> or <code>https:</code> scheme.</li>\n      <li>The <code>activeTab</code> permission does not allow for intercepting network requests in the current tab. (See <a href=\"https://bugzil.la/1617479\" class=\"external\" target=\"_blank\">bug 1617479</a>)</li>\n      <li>Events are not fired for system requests (for example, extension upgrades or search bar suggestions).\n        <ul>\n          <li><strong>From Firefox 57 onwards:</strong> Firefox makes an exception for extensions that need to intercept <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/onAuthRequired\"><code>webRequest.onAuthRequired</code></a> for proxy authorization. See the documentation for <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/onAuthRequired\"><code>webRequest.onAuthRequired</code></a>.</li>\n        </ul>\n      </li>\n      <li>If an extension wants to redirect a public (e.g., HTTPS) URL to an <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/user_interface/Extension_pages\">extension page</a>, the extension's <code>manifest.json</code> file must contain a <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/web_accessible_resources\"><code>web_accessible_resources</code></a> key with the URL of the extension page.\n        <div class=\"notecard note\" id=\"sect2\">\n          <p><strong>Note:</strong> <em>Any</em> website may link or redirect to that URL, and extensions should treat any input (POST data, for example) as if it came from an untrusted source, as a normal web page should.</p>\n        </div>\n      </li>\n      <li>Some of the <code>browser.webRequest.*</code> APIs allow for returning Promises that resolves <code>webRequest.BlockingResponse</code> asynchronously.</li>\n    </ul>\n  </li>\n  <li><strong>In Chrome:</strong> Only <code>webRequest.onAuthRequired</code> supports asynchronous <code>webRequest.BlockingResponse</code> by supplying <code>'asyncBlocking'</code>, through a callback instead of a Promise.</li>\n</ul>\n<h4 id=\"windows_api\">Windows API</h4>\n<ul>\n  <li><strong>In Firefox:</strong> <code>onFocusChanged</code> of the <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/windows\"><code>windows</code></a> API triggers multiple times for a focus change.</li>\n</ul>"}},{"type":"prose","value":{"id":"unsupported_apis","title":"Unsupported APIs","isH3":true,"content":"<h4 id=\"declarativecontent_api\">DeclarativeContent API</h4>\n<ul>\n  <li><strong>In Firefox:</strong> Chrome's <a href=\"https://developer.chrome.com/docs/extensions/reference/declarativeContent/\" class=\"external\" target=\"_blank\">declarativeContent</a> API <a href=\"https://bugzil.la/1435864\" class=\"external\" target=\"_blank\">is not implemented</a>. In addition, Firefox <a href=\"https://bugzil.la/1323433#c16\" class=\"external\" target=\"_blank\">will not support</a> the <code>declarativeContent.RequestContentScript</code> API (which is rarely used and is unavailable in stable releases of Chrome).</li>\n</ul>"}},{"type":"prose","value":{"id":"miscellaneous_incompatibilities","title":"Miscellaneous incompatibilities","isH3":true,"content":"<h4 id=\"urls_in_css\">URLs in CSS</h4>\n<ul>\n  <li><strong>In Firefox:</strong> URLs in injected CSS files are resolved relative to <em>the CSS file</em>.</li>\n  <li><strong>In Chrome:</strong> URLs in injected CSS files are resolved relative to <em>the page they are injected into</em>.</li>\n</ul>\n<h4 id=\"support_for_dialogs_in_background_pages\">Support for dialogs in background pages</h4>\n<ul>\n  <li><strong>In Firefox:</strong> <a href=\"/en-US/docs/Web/API/Window/alert\"><code>alert()</code></a>, <a href=\"/en-US/docs/Web/API/Window/confirm\"><code>confirm()</code></a>, and <a href=\"/en-US/docs/Web/API/Window/prompt\"><code>prompt()</code></a> are not supported in background pages.</li>\n</ul>\n<h4 id=\"web_accessible_resources\">web_accessible_resources</h4>\n<ul>\n  <li><strong>In Firefox:</strong> Resources are assigned a random <a href=\"/en-US/docs/Glossary/UUID\">UUID</a> that changes for every instance of Firefox: <code>moz-extension://«random-UUID»/«path»</code>. This randomness can prevent you from doing things, such as adding your extension's URL to another domain's CSP policy.</li>\n  <li><strong>In Chrome:</strong> When a resource is listed in <code>web_accessible_resources</code>, it is accessible as <code>chrome-extension://«your-extension-id»/«path»</code>. The extension ID is fixed for an extension.</li>\n</ul>\n<h4 id=\"manifest_key_property\">Manifest \"key\" property</h4>\n<ul>\n  <li><strong>In Firefox:</strong> As Firefox uses random UUIDs for <code>web_accessible_resources</code>, this property is unsupported. Firefox extensions can fix their extension ID through the <code>browser_specific_settings.gecko.id</code> manifest key (see <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/browser_specific_settings#firefox_gecko_properties\">browser_specific_settings.gecko</a>).</li>\n  <li><strong>In Chrome:</strong> When working with an unpacked extension, the manifest may include a <a href=\"https://developer.chrome.com/docs/extensions/mv3/manifest/key/\" class=\"external\" target=\"_blank\"><code>\"key\"</code> property</a> to pin the extension ID across different machines. This is mainly useful when working with <code>web_accessible_resources</code>.</li>\n</ul>\n<h4 id=\"content_script_https_requests\">Content script HTTP(S) requests</h4>\n<ul>\n  <li><strong>In Firefox:</strong> When a content script makes an HTTP(S) request, you <em>must</em> provide absolute URLs.</li>\n  <li><strong>In Chrome:</strong> When a content script makes a request (for example, using <a href=\"/en-US/docs/Web/API/Fetch_API/Using_Fetch\"><code>fetch()</code></a>) to a relative URL (like <code>/api</code>), it is sent to <code>https://example.com/api</code>.</li>\n</ul>\n<h4 id=\"content_script_environment\">Content script environment</h4>\n<ul>\n  <li><strong>In Firefox:</strong> The global scope of the <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#content_script_environment\">content script environment</a> is not strictly equal to <code>window</code> (<a href=\"https://bugzil.la/1208775\" class=\"external\" target=\"_blank\">Firefox bug 1208775</a>). More specifically, the global scope (<code>globalThis</code>) is composed of standard JavaScript features as usual, plus <code>window</code> as the prototype of the global scope. Most DOM APIs are inherited from the page through <code>window</code>, through <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Sharing_objects_with_page_scripts#xray_vision_in_firefox\">Xray vision</a> to shield the content script from modifications by the web page. A content script may encounter JavaScript objects from its global scope or Xray-wrapped versions from the web page.</li>\n  <li><strong>In Chrome:</strong> The global scope is <code>window</code>, and the available DOM APIs are generally independent of the web page (other than sharing the underlying DOM). Content scripts cannot directly access JavaScript objects from the web page.</li>\n</ul>\n<h4 id=\"executing_code_in_a_web_page_from_content_script\">Executing code in a web page from content script</h4>\n<ul>\n  <li><strong>In Firefox:</strong> <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\"><code>eval</code></a> runs code in the context of the content script and <code>window.eval</code> runs code in the context of the page. See <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts#using_eval_in_content_scripts\">Using <code>eval</code> in content scripts</a>.</li>\n  <li><strong>In Chrome:</strong> <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/eval\"><code>eval</code></a> and <code>window.eval</code> always runs code in the context of the content script, not in the context of the page.</li>\n</ul>\n<h4 id=\"sharing_variables_between_content_scripts\">Sharing variables between content scripts</h4>\n<ul>\n  <li><strong>In Firefox:</strong> You cannot share variables between content scripts by assigning them to <code>this.{variableName}</code> in one script and then attempting to access them using <code>window.{variableName}</code> in another. This is a limitation created by the sandbox environment in Firefox. This limitation may be removed; see <a href=\"https://bugzil.la/1208775\" class=\"external\" target=\"_blank\">Firefox bug 1208775</a>.</li>\n</ul>\n<h4 id=\"content_script_lifecycle_during_navigation\">Content script lifecycle during navigation</h4>\n<ul>\n  <li>\n    <strong>In Firefox:</strong> Content scripts remain injected in a web page after the user has navigated away. However, window object properties are destroyed. For example, if a content script sets <code>window.prop1 = \"prop\"</code> and the user then navigates away and returns to the page <code>window.prop1</code> is undefined. This issue is tracked in <a href=\"https://bugzil.la/1525400\" class=\"external\" target=\"_blank\">Firefox bug 1525400</a>.\n    To mimic the behavior of Chrome, listen for the <a href=\"/en-US/docs/Web/API/Window/pageshow_event\">pageshow</a> and <a href=\"/en-US/docs/Web/API/Window/pagehide_event\">pagehide</a> events. Then simulate the injection or destruction of the content script.\n  </li>\n  <li><strong>In Chrome:</strong> Content scripts are destroyed when the user navigates away from a web page. If the user clicks the back button to return to the page through history, the content script is injected into the web page.</li>\n</ul>\n<h4 id=\"per-tab_zoom_behavior\">\"per-tab\" zoom behavior</h4>\n<ul>\n  <li><strong>In Firefox:</strong> The zoom level persists across page loads and navigation within the tab.</li>\n  <li><strong>In Chrome:</strong> Zoom changes are reset on navigation; navigating a tab always loads pages with their per-origin zoom factors.</li>\n</ul>\n<p>See <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/ZoomSettingsScope\"><code>tabs.ZoomSettingsScope</code></a>.</p>"}},{"type":"prose","value":{"id":"manifest.json_keys","title":"manifest.json keys","isH3":false,"content":"<p>The main <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json\"><code>manifest.json</code></a> page includes a table describing browser support for <code>manifest.json</code> keys. Where there are caveats around support for a given key, this is indicated in the table with an asterisk \"*\". Selecting the asterisk expands the table to display a note explaining the caveat.</p>\n<p>The tables are generated from compatibility data stored as <a href=\"https://github.com/mdn/browser-compat-data\" class=\"external\" target=\"_blank\">JSON files in GitHub</a>.</p>"}},{"type":"prose","value":{"id":"native_messaging","title":"Native messaging","isH3":false,"content":""}},{"type":"prose","value":{"id":"connection-based_messaging_arguments","title":"Connection-based messaging arguments","isH3":true,"content":"<p><strong>On Linux and Mac:</strong> Chrome passes one argument to the native app, which is the origin of the extension that started it, in the form of <code>chrome-extension://«extensionID/»</code> (trailing slash required). This enables the app to identify the extension.</p>\n<p><strong>On Windows:</strong> Chrome passes two arguments:</p>\n<ol>\n  <li>The origin of the extension</li>\n  <li>A handle to the Chrome native window that started the app</li>\n</ol>"}},{"type":"prose","value":{"id":"allowed_extensions","title":"allowed_extensions","isH3":true,"content":"<ul>\n  <li><strong>In Firefox:</strong> The manifest key is called <code>allowed_extensions</code>.</li>\n  <li><strong>In Chrome:</strong> The manifest key is called <code>allowed_origins</code>.</li>\n</ul>"}},{"type":"prose","value":{"id":"app_manifest_location","title":"App manifest location","isH3":true,"content":"<ul>\n  <li><strong>In Chrome:</strong> The app manifest is expected in a different place. See <a href=\"https://developer.chrome.com/docs/apps/nativeMessaging/#native-messaging-host-location\" class=\"external\" target=\"_blank\">Native messaging host location</a> in the Chrome docs.</li>\n</ul>"}},{"type":"prose","value":{"id":"app_persistence","title":"App persistence","isH3":true,"content":"<ul>\n  <li><strong>In Firefox:</strong> When a native messaging connection is closed, Firefox kills the subprocesses if they do not break away. On Windows, the browser puts the native application's process into a <a href=\"https://msdn.microsoft.com/library/windows/desktop/ms684161(v=vs.85).aspx\" class=\"external\" target=\"_blank\">Job object</a> and kills the job. Suppose the native application launches other processes and wants them to remain open after the native application is killed. In that case, the native application must use <code>CreateProcess</code>, instead of <code>ShellExecute</code>, to launch the additional process with the <a href=\"https://msdn.microsoft.com/library/windows/desktop/ms684863(v=vs.85).aspx\" class=\"external\" target=\"_blank\"><code>CREATE_BREAKAWAY_FROM_JOB</code></a> flag.</li>\n</ul>"}},{"type":"prose","value":{"id":"data_cloning_algorithm","title":"Data cloning algorithm","isH3":false,"content":"<p>Some extension APIs allow an extension to send data from one part of the extension to another, such as <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/sendMessage\"><code>runtime.sendMessage()</code></a>, <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/sendMessage\"><code>tabs.sendMessage()</code></a>, <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/onMessage\"><code>runtime.onMessage</code></a>, the <code>postMessage()</code> method of <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/runtime/Port\"><code>runtime.port</code></a>, and <a href=\"/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/executeScript\"><code>tabs.executeScript()</code></a>.</p>\n<ul>\n  <li><strong>In Firefox:</strong> The <a href=\"/en-US/docs/Web/API/Web_Workers_API/Structured_clone_algorithm\">Structured clone algorithm</a> is used.</li>\n  <li><strong>In Chrome:</strong> The <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#description\">JSON serialization algorithm</a> is used. It may switch to structured cloning in the future (<a href=\"https://crbug.com/248548\" class=\"external\" target=\"_blank\">issue 248548</a>).</li>\n</ul>\n<p>The Structured clone algorithm supports more types than the JSON serialization algorithm. A notable exception are (DOM) objects with a <code>toJSON</code> method. DOM objects are not cloneable nor JSON-serializable by default, but with a <code>toJSON()</code> method, these can be JSON-serialized (but still not cloned with the structured cloning algorithm). Examples of JSON-serializable objects that are not structured cloneable include instances of <a href=\"/en-US/docs/Web/API/URL\"><code>URL</code></a> and <a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a>.</p>\n<p>Extensions that rely on the <code>toJSON()</code> method of the JSON serialization algorithm can use <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify()</code></a> followed by <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\"><code>JSON.parse()</code></a> to ensure that a message can be exchanged because a parsed JSON value is always structurally cloneable.</p>"}}],"toc":[{"text":"JavaScript APIs","id":"javascript_apis"},{"text":"manifest.json keys","id":"manifest.json_keys"},{"text":"Native messaging","id":"native_messaging"},{"text":"Data cloning algorithm","id":"data_cloning_algorithm"}],"summary":"The WebExtension APIs aim to provide compatibility across all the main browsers, so extensions should run on any browser with minimal changes.","popularity":0.0037,"modified":"2023-11-15T06:44:56.000Z","source":{"folder":"en-us/mozilla/add-ons/webextensions/chrome_incompatibilities","github_url":"https://github.com/mdn/content/blob/main/files/en-us/mozilla/add-ons/webextensions/chrome_incompatibilities/index.md","last_commit_url":"https://github.com/mdn/content/commit/7d1685e832a40071b006e12794c038157b7e4955","filename":"index.md"},"short_title":"Chrome incompatibilities","parents":[{"uri":"/en-US/docs/Mozilla","title":"Mozilla"},{"uri":"/en-US/docs/Mozilla/Add-ons","title":"Add-ons"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions","title":"Browser extensions"},{"uri":"/en-US/docs/Mozilla/Add-ons/WebExtensions/Chrome_incompatibilities","title":"Chrome incompatibilities"}],"pageTitle":"Chrome incompatibilities - Mozilla | MDN","noIndexing":false}}</script></body></html>