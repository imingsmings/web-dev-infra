{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{"broken_links":[{"explanation":"Can't resolve /en-US/Gecko","id":"link1","href":"/en-US/Gecko","suggestion":null,"fixable":false,"line":9,"column":60},{"explanation":"Can't resolve /en-US/Firefox_3_for_developers","id":"link2","href":"/en-US/Firefox_3_for_developers","suggestion":null,"fixable":false,"line":11,"column":10},{"explanation":"Can't resolve /en-US/docs/Web/API/Window/routeEvent","id":"link3","href":"/en-US/docs/Web/API/Window/routeEvent","suggestion":null,"fixable":false,"line":39,"column":140}]},"title":"Site compatibility for Firefox 3","mdn_url":"/en-US/docs/Mozilla/Firefox/Releases/3/Site_compatibility","locale":"en-US","native":"English (US)","sidebarHTML":"\n  <ol>\n    <li class=\"toggle\">\n        <details>\n            <summary>Firefox releases</summary>\n            <ol>\n              <li><a href=\"/en-US/docs/Mozilla/Firefox/Releases\">Firefox release notes for developers</a></li>\n              <li><a href=\"/en-US/docs/Mozilla/Firefox/Experimental_features\">Experimental features in Firefox</a></li>\n            </ol>\n        </details>\n    </li>\n    <li class=\"toggle\">\n        <details>\n            <summary>Add-ons</summary>\n            <ol>\n              <li><a href=\"/en-US/Add-ons/WebExtensions\">Browser extensions</a></li>\n              <li><a href=\"/en-US/Add-ons/Themes\">Themes</a></li>\n            </ol>\n        </details>\n    </li>\n    <li>\n      <a href=\"https://firefox-source-docs.mozilla.org/\">Firefox documentation</a>\n    </li>\n  </ol>\n","sidebarMacro":"FirefoxSidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>This page tries to give an overview of the changes between <a href=\"/en-US/Gecko\" class=\"page-not-created\" title=\"This is a link to an unwritten page\" data-flaw=\"link1\">Gecko</a> 1.8 and Gecko 1.9, that could possibly affect websites in their behavior or rendering.</p>\n<p>See also <a href=\"/en-US/Firefox_3_for_developers\" class=\"page-not-created\" title=\"This is a link to an unwritten page\" data-flaw=\"link2\">Firefox 3 for developers</a>.</p>"}},{"type":"prose","value":{"id":"events","title":"Events","isH3":false,"content":""}},{"type":"prose","value":{"id":"capturing_load_event_listeners","title":"Capturing load event listeners","isH3":true,"content":"<p>In Gecko 1.8, it was not possible to set capturing load event listeners on images. In Gecko 1.9, this has been fixed by <a href=\"https://bugzil.la/234455\" class=\"external\" target=\"_blank\">Firefox bug 234455</a>. But this can cause problems on websites that incorrectly have their event listeners set to capture the load event. See the discussion in <a href=\"https://bugzil.la/335251\" class=\"external\" target=\"_blank\">Webkit bug 335251</a>. To fix this problem, the problematic page in question should not set a capturing load event listener.</p>\n<p>For example, this:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">bash</span></p><pre class=\"brush: bash notranslate\"><code>window.addEventListener<span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span>, yourFunction, <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>should be changed into this:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">bash</span></p><pre class=\"brush: bash notranslate\"><code>window.addEventListener<span class=\"token punctuation\">(</span><span class=\"token string\">'load'</span>, yourFunction, <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>For an explanation of how event capture works, see <a href=\"https://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-flow-capture\" class=\"external\" target=\"_blank\">DOM Level 2 Event capture</a></p>"}},{"type":"prose","value":{"id":"preventbubble_has_been_removed","title":"<code>preventBubble</code> has been removed","isH3":true,"content":"<p>In Gecko 1.8, the <code>preventBubble</code> method existed on events to prevent events from bubbling upwards. In Gecko 1.9 this method has been removed. Instead, you should use the standard <a href=\"/en-US/docs/Web/API/Event/stopPropagation\">stopPropagation()</a>, which also works fine in Gecko 1.8. The patch in <a href=\"https://bugzil.la/330494\" class=\"external\" target=\"_blank\">Firefox bug 330494</a> made this happen. See also <a href=\"https://bugzil.la/105280\" class=\"external\" target=\"_blank\">Webkit bug 105280</a>.</p>","titleAsText":"preventBubble has been removed"}},{"type":"prose","value":{"id":"a_few_other_old_event_apis_are_no_longer_supported","title":"A few other old event APIs are no longer supported","isH3":true,"content":"<p><a href=\"/en-US/docs/Web/API/Window/captureEvents\"><code>window.captureEvents</code></a>, <a href=\"/en-US/docs/Web/API/Window/releaseEvents\"><code>window.releaseEvents</code></a> and <a href=\"/en-US/docs/Web/API/Window/routeEvent\" class=\"page-not-created\" title=\"This is a link to an unwritten page\" data-flaw=\"link3\"><code>window.routeEvent</code></a> are now considered deprecated since Gecko 1.9.</p>"}},{"type":"prose","value":{"id":"dom","title":"DOM","isH3":false,"content":""}},{"type":"prose","value":{"id":"wrong_document_err","title":"<code>WRONG_DOCUMENT_ERR</code>","isH3":true,"content":"<p>Nodes from external documents should be cloned using <a href=\"/en-US/docs/Web/API/Document/importNode\"><code>document.importNode()</code></a> (or adopted using <a href=\"/en-US/docs/Web/API/Document/adoptNode\"><code>document.adoptNode()</code></a>) before they can be inserted into the current document. For more on the <a href=\"/en-US/docs/Web/API/Node/ownerDocument\"><code>Node.ownerDocument</code></a> issues, see the <a href=\"https://www.w3.org/DOM/faq.html#ownerdoc\" class=\"external\" target=\"_blank\">W3C DOM FAQ</a>.</p>\n<p>Firefox doesn't currently enforce this rule (it did for a while during the development of Firefox 3, but too many sites break when this rule is enforced). We encourage Web developers to fix their code to follow this rule for improved future compatibility.</p>","titleAsText":"WRONG_DOCUMENT_ERR"}},{"type":"prose","value":{"id":"ranges","title":"Ranges","isH3":false,"content":""}},{"type":"prose","value":{"id":"intersectsnode_has_been_removed","title":"<code>intersectsNode</code> has been removed","isH3":true,"content":"<p>In Gecko 1.8 the function <code>intersectsNode</code> code be used to test if a node intersected a range. However the return values from this function were confusing and rarely useful and has therefore been removed in Gecko 1.9. Instead use the more precise and standard function <a href=\"/en-US/docs/Web/API/Range/compareBoundaryPoints\">compareBoundaryPoints</a>. The patch in <a href=\"https://bugzil.la/358073\" class=\"external\" target=\"_blank\">Firefox bug 358073</a> removed this function.</p>\n<p>See the documentation for <a href=\"/en-US/docs/Web/API/Range/intersectsNode\">intersectsNode</a> for how to use <code>compareBoundaryPoints</code> instead.</p>","titleAsText":"intersectsNode has been removed"}},{"type":"prose","value":{"id":"comparenode_has_been_removed","title":"<code>compareNode</code> has been removed","isH3":true,"content":"<p>In Gecko 1.8 the function <code>compareNode</code> code be used to test how a node intersected a range. However the return values from this function were confusing and rarely useful and has therefore been removed in Gecko 1.9. Instead use the more precise and standard function <a href=\"/en-US/docs/Web/API/Range/compareBoundaryPoints\">compareBoundaryPoints</a>. The patch in <a href=\"https://bugzil.la/358073\" class=\"external\" target=\"_blank\">Firefox bug 358073</a> removed this function.</p>\n<p>See the documentation for <a href=\"/en-US/docs/Web/API/Range/compareNode\">compareNode</a> for how to use <code>compareBoundaryPoints</code> instead.</p>","titleAsText":"compareNode has been removed"}},{"type":"prose","value":{"id":"html","title":"HTML","isH3":false,"content":""}},{"type":"prose","value":{"id":"many_bugs_in_the_object_have_been_fixed","title":"Many bugs in the <code>&lt;object&gt;</code> have been fixed","isH3":true,"content":"<p><code>object</code> and <code>embed</code> elements no longer need a <code>type</code> attribute to render. Changing the <code>src</code> attribute (of <code>&lt;embed&gt;</code>) or the <code>data</code> attribute (of <code>&lt;object&gt;</code>) via JavaScript now works correctly. The Content-Type header sent by the server (if any) now takes precedence over the <code>type</code> attribute of an <code>&lt;object&gt;</code> element as per the HTML specification (this is not the case for <code>embed</code>).</p>","titleAsText":"Many bugs in the <object> have been fixed"}}],"toc":[{"text":"Events","id":"events"},{"text":"DOM","id":"dom"},{"text":"Ranges","id":"ranges"},{"text":"HTML","id":"html"}],"summary":"This page tries to give an overview of the changes between Gecko 1.8 and Gecko 1.9, that could possibly affect websites in their behavior or rendering.","popularity":0,"modified":"2023-11-02T21:05:11.000Z","source":{"folder":"en-us/mozilla/firefox/releases/3/site_compatibility","github_url":"https://github.com/mdn/content/blob/main/files/en-us/mozilla/firefox/releases/3/site_compatibility/index.md","last_commit_url":"https://github.com/mdn/content/commit/88241bf466f1025d3c2f4ce2752586dd85d1ae13","filename":"index.md"},"short_title":"Site compatibility for Firefox 3","parents":[{"uri":"/en-US/docs/Mozilla","title":"Mozilla"},{"uri":"/en-US/docs/Mozilla/Firefox","title":"Firefox"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases","title":"Firefox release notes for developers"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases/3","title":"Firefox 3 for developers"},{"uri":"/en-US/docs/Mozilla/Firefox/Releases/3/Site_compatibility","title":"Site compatibility for Firefox 3"}],"pageTitle":"Site compatibility for Firefox 3 - Mozilla | MDN","noIndexing":false}}