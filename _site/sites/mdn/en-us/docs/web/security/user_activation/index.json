{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Features gated by user activation","mdn_url":"/en-US/docs/Web/Security/User_activation","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Security/Certificate_Transparency\">Certificate Transparency</a></li><li><em><a href=\"/en-US/docs/Web/Security/User_activation\" aria-current=\"page\">Features gated by user activation</a></em></li><li><a href=\"/en-US/docs/Web/Security/Firefox_Security_Guidelines\">Firefox security guidelines</a></li><li><a href=\"/en-US/docs/Web/Security/IFrame_credentialless\">IFrame credentialless</a></li><li><a href=\"/en-US/docs/Web/Security/Insecure_passwords\">Insecure passwords</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a><ol><li><a href=\"/en-US/docs/Web/Security/Mixed_content\">Mixed content</a></li><li><a href=\"/en-US/docs/Web/Security/Mixed_content/How_to_fix_website_with_mixed_content\">How to fix a website with blocked mixed content</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Referer_header:_privacy_and_security_concerns\">Referer header: Privacy and security concerns</a></li><li><a href=\"/en-US/docs/Web/Security/Same-origin_policy\">Same-origin policy</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a><ol><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts\">Secure contexts</a></li><li><a href=\"/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">Features restricted to secure contexts</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Securing_your_site\">Securing your site</a><ol><li><a href=\"/en-US/docs/Web/Security/Securing_your_site\">Securing your site</a></li><li><a href=\"/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\">How to turn off form autocompletion</a></li></ol></li><li><a href=\"/en-US/docs/Web/Security/Subdomain_takeovers\">Subdomain takeovers</a></li><li><a href=\"/en-US/docs/Web/Security/Subresource_Integrity\">Subresource Integrity</a></li><li><a href=\"/en-US/docs/Web/Security/Transport_Layer_Security\">Transport Layer Security</a></li><li><a href=\"/en-US/docs/Web/Security/Types_of_attacks\">Types of attacks</a></li><li><a href=\"/en-US/docs/Web/Security/Weak_Signature_Algorithm\">Weak signature algorithms</a></li></ol>\n","sidebarMacro":"QuickLinksWithSubpages","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>To ensure applications are unable to abuse APIs that can create a bad user experience when the behavior is not desired, some APIs can only be used when the user is in an \"active interaction\" state, meaning the user is currently interacting with the web page, or has interacted with the page at least once. Browsers limit access to sensitive APIs like popups, fullscreen, or vibration APIs to active user interactions to prevent malicious scripts from abusing these features. This page lists web platform features available only after user activation.</p>\n<p>A user activation either implies that the user is currently interacting with the page, or has completed an interaction since page load. Typically, this is a click on a button or some other user interaction with the UI.</p>\n<p>More precisely, an <em>activation triggering input event</em> is an event which:</p>\n<ul>\n  <li>has the <a href=\"/en-US/docs/Web/API/Event/isTrusted\"><code>isTrusted</code></a> attribute set to <code>true</code>, and</li>\n  <li>is an event of the following types:\n    <ul>\n      <li><a href=\"/en-US/docs/Web/API/Element/keydown_event\"><code>keydown</code></a> (except for the <kbd>Esc</kbd> key nor a shortcut key reserved by the user agent)</li>\n      <li><a href=\"/en-US/docs/Web/API/Element/mousedown_event\"><code>mousedown</code></a></li>\n      <li><a href=\"/en-US/docs/Web/API/Element/pointerdown_event\"><code>pointerdown</code></a> (if <code>pointerType</code> is \"mouse\")</li>\n      <li><a href=\"/en-US/docs/Web/API/Element/pointerup_event\"><code>pointerup</code></a> (if <code>pointerType</code> is not \"mouse\")</li>\n      <li><a href=\"/en-US/docs/Web/API/Element/touchend_event\"><code>touchend</code></a></li>\n    </ul>\n  </li>\n</ul>\n<p>If an activation has been triggered, the user agent differentiates between two types of user activation window states: sticky and transient.</p>"}},{"type":"prose","value":{"id":"transient_activation","title":"Transient activation","isH3":false,"content":"<p><a href=\"/en-US/docs/Glossary/Transient_activation\">Transient activation</a> is a window state that indicates a user has recently pressed a button, moved a mouse, used a menu, or performed some other user interaction. Transient activation expires after a timeout (if not renewed by further interaction) and may also be consumed by some APIs (like <a href=\"/en-US/docs/Web/API/Window/open\"><code>Window.open()</code></a>).</p>\n<p>APIs that require transient activation (list is not exhaustive):</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/Window/beforeunload_event\" title=\"beforeunload\"><code>beforeunload</code></a> event</li>\n  <li><a href=\"/en-US/docs/Web/API/Clients/openWindow\"><code>Clients.openWindow()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Clipboard/read\"><code>Clipboard.read()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Clipboard/readText\"><code>Clipboard.readText()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Clipboard/writeText\"><code>Clipboard.writeText()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/ContactsManager/select\"><code>ContactsManager.select()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Document/requestStorageAccess\"><code>Document.requestStorageAccess()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/DocumentPictureInPicture/requestWindow\"><code>DocumentPictureInPicture.requestWindow()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/requestFullscreen\"><code>Element.requestFullScreen()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Element/requestPointerLock\"><code>Element.requestPointerLock()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/EyeDropper/open\"><code>EyeDropper.open()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/GPUAdapter/requestAdapterInfo\"><code>GPUAdapter.requestAdapterInfo()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/HID/requestDevice\"><code>HID.requestDevice()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLInputElement/showPicker\"><code>HTMLInputElement.showPicker()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLSelectElement/showPicker\"><code>HTMLSelectElement.showPicker()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLVideoElement/requestPictureInPicture\"><code>HTMLVideoElement.requestPictureInPicture()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/IdleDetector/requestPermission_static\" title=\"IdleDetector.requestPermission()\"><code>IdleDetector.requestPermission()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Keyboard/lock\"><code>Keyboard.lock()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/MediaDevices/getDisplayMedia\"><code>MediaDevices.getDisplayMedia()</code></a></li>\n  <li><code>MediaDevices.getViewportMedia()</code></li>\n  <li><a href=\"/en-US/docs/Web/API/MediaDevices/selectAudioOutput\"><code>MediaDevices.selectAudioOutput()</code></a></li>\n  <li><code>MediaStreamTrack.sendCaptureAction()</code></li>\n  <li><a href=\"/en-US/docs/Web/API/Navigator/share\"><code>Navigator.share()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PaymentRequest/show\"><code>PaymentRequest.show()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PresentationRequest/start\"><code>PresentationRequest.start()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/RemotePlayback/prompt\"><code>RemotePlayback.prompt()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Serial/requestPort\"><code>Serial.requestPort()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/USB/requestDevice\"><code>USB.requestDevice()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Keyboard/lock\"><code>Keyboard.lock()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/getScreenDetails\"><code>Window.getScreenDetails()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/open\"><code>Window.open()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/queryLocalFonts\"><code>Window.queryLocalFonts()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/showOpenFilePicker\"><code>Window.showOpenFilePicker()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/showSaveFilePicker\"><code>Window.showSaveFilePicker()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/showDirectoryPicker\"><code>Window.showDirectoryPicker()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/WindowClient/focus\"><code>WindowClient.focus()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/XRSystem/requestSession\"><code>XRSystem.requestSession()</code></a></li>\n</ul>"}},{"type":"prose","value":{"id":"sticky_activation","title":"Sticky activation","isH3":false,"content":"<p><a href=\"/en-US/docs/Glossary/Sticky_activation\">Sticky activation</a> is a window state that indicates a user has pressed a button, moved a mouse, used a menu, or performed some other user interaction. It is not reset after it has been set initially (unlike transient activation).</p>\n<p>APIs that require sticky activation (not exhaustive):</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/Navigator/vibrate\"><code>Navigator.vibrate()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/VirtualKeyboard/show\"><code>VirtualKeyboard.show()</code></a></li>\n  <li>Autoplay of <a href=\"/en-US/docs/Web/Media/Autoplay_guide\">Media and Web Audio APIs</a> (in particular for <a href=\"/en-US/docs/Web/API/AudioContext\"><code>AudioContexts</code></a>).</li>\n</ul>"}},{"type":"prose","value":{"id":"useractivation_api","title":"UserActivation API","isH3":false,"content":"<p>To programmatically determine if a window has either sticky or transient user activation, the <a href=\"/en-US/docs/Web/API/UserActivation\"><code>UserActivation</code></a> API provides two properties which are available using <a href=\"/en-US/docs/Web/API/Navigator/userActivation\"><code>navigator.userActivation</code></a>:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/UserActivation/hasBeenActive\"><code>UserActivation.hasBeenActive</code></a> indicates whether the window has sticky user activation.</li>\n  <li><a href=\"/en-US/docs/Web/API/UserActivation/isActive\"><code>UserActivation.isActive</code></a> indicates whether the window has transient user activation.</li>\n</ul>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Glossary/Transient_activation\">Transient activation</a></li>\n  <li><a href=\"/en-US/docs/Glossary/Sticky_activation\">Sticky activation</a></li>\n  <li><a href=\"/en-US/docs/Web/API/UserActivation\"><code>UserActivation</code></a> API</li>\n  <li><a href=\"/en-US/docs/Web/Security/Secure_Contexts/features_restricted_to_secure_contexts\">Features restricted to secure contexts</a></li>\n</ul>"}}],"toc":[{"text":"Transient activation","id":"transient_activation"},{"text":"Sticky activation","id":"sticky_activation"},{"text":"UserActivation API","id":"useractivation_api"},{"text":"See also","id":"see_also"}],"summary":"To ensure applications are unable to abuse APIs that can create a bad user experience when the behavior is not desired, some APIs can only be used when the user is in an \"active interaction\" state, meaning the user is currently interacting with the web page, or has interacted with the page at least once. Browsers limit access to sensitive APIs like popups, fullscreen, or vibration APIs to active user interactions to prevent malicious scripts from abusing these features. This page lists web platform features available only after user activation.","popularity":0.006,"modified":"2023-12-08T01:38:14.000Z","source":{"folder":"en-us/web/security/user_activation","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/security/user_activation/index.md","last_commit_url":"https://github.com/mdn/content/commit/72f93ec102520a7fd82aef7ed844fdbca9368565","filename":"index.md"},"short_title":"Features gated by user activation","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/Security","title":"Security on the web"},{"uri":"/en-US/docs/Web/Security/User_activation","title":"Features gated by user activation"}],"pageTitle":"Features gated by user activation - Security on the web | MDN","noIndexing":false}}