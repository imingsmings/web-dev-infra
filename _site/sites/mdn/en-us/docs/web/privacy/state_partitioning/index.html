<!doctype html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="icon" href="/favicon-48x48.cbbd161b.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.6803c6f0.png"/><meta name="theme-color" content="#ffffff"/><link rel="manifest" href="/manifest.56b1cedc.json"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"/><title>State Partitioning - Privacy on the web | MDN</title><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en" /><meta name="robots" content="noindex, nofollow"><meta name="description" content="State Partitioning is a broad effort to rework how Firefox manages client-side
  state (i.e., data stored in the browser) to mitigate the ability of websites
  to abuse state for cross-site tracking. This effort aims to
  achieve that by providing what is effectively a &quot;different&quot;, isolated storage
  location to every website a user visits. This article gives an overview of
  the mechanism, lists the affected APIs and explains how to debug affected
  sites."/><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/Privacy/State_Partitioning"/><meta property="og:title" content="State Partitioning - Privacy on the web | MDN"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:description" content="State Partitioning is a broad effort to rework how Firefox manages client-side
  state (i.e., data stored in the browser) to mitigate the ability of websites
  to abuse state for cross-site tracking. This effort aims to
  achieve that by providing what is effectively a &quot;different&quot;, isolated storage
  location to every website a user visits. This article gives an overview of
  the mechanism, lists the affected APIs and explains how to debug affected
  sites."/><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.cd6c4a5a.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:height" content="1080"/><meta property="og:image:width" content="1920"/><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."/><meta property="og:site_name" content="MDN Web Docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="MozDevNet"/><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/Privacy/State_Partitioning"/><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script defer="defer" src="/static/js/main.8204838d.js"></script><link href="/static/css/main.3551aa81.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e])}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-web document-page"><div class="top-banner loading"><section class="place top container"></section></div><div class="sticky-header-container"><header class="top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zm10.4 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zm10.4 0v92.1H91V0h10.4z" class="logo-m"></path><path d="M627.9 95.6h67v8.8h-67v-8.8z" class="logo-_"></path><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zm34.9 20c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zm51 2.4c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zm69.2 18.5h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm53.1-1.4c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zm45 5.8c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zm34.7 1.9c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z" class="logo-text"></path></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container active"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Web/API" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container "><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/blog/">Blog</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/play">Play</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/plus/ai-help">AI Help <sup class="new beta">Beta</sup></a></li></ul></nav><div class="header-search"><form action="/en-US/search" class="search-form search-widget" id="top-nav-search-form" role="search"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input aria-activedescendant="" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-expanded="false" aria-labelledby="top-nav-search-label" autoComplete="off" id="top-nav-search-input" role="combobox" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""/><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="?next=%2Fen-US%2Fdocs%2FWeb%2FPrivacy%2FState_Partitioning" class="login-link" rel="nofollow">Log in</a></li><li><a href="?next=%2Fen-US%2Fdocs%2FWeb%2FPrivacy%2FState_Partitioning" target="_self" class="button primary mdn-plus-subscribe-link"><span class="button-wrap">Sign up for free</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web/Privacy"><span property="name">Privacy on the web</span></a><meta property="position" content="2"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/en-US/docs/Web/Privacy/State_Partitioning"><span property="name">State Partitioning</span></a><meta property="position" content="3"/></li></ol></nav></div></div></div><div class="main-wrapper"><div class="sidebar-container"><aside id="sidebar-quicklinks" class="sidebar" data-macro="QuickLinksWithSubpages"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><header class="sidebar-actions"><section class="sidebar-filter-container"><div class="sidebar-filter "><label id="sidebar-filter-label" class="sidebar-filter-label" for="sidebar-filter-input"><span class="icon icon-filter"></span><span class="visually-hidden">Filter sidebar</span></label><input id="sidebar-filter-input" autoComplete="off" class="sidebar-filter-input-field false" type="text" placeholder="Filter" value=""/><button type="button" class="button action has-icon clear-sidebar-filter-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear filter input</span></span></button></div></section></header><div class="sidebar-inner-nav"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#motivation">Motivation</a></li><li class="document-toc-item "><a class="document-toc-link" href="#state_partitioning">State partitioning</a></li></ul></section></div></div><div class="sidebar-body">
<ol><li><a href="/en-US/docs/Web/Privacy/Partitioned_cookies">Cookies Having Independent Partitioned State (CHIPS)</a></li><li><a href="/en-US/docs/Web/Privacy/Firefox_tracking_protection">Firefox tracking protection</a></li><li><a href="/en-US/docs/Web/Privacy/Redirect_tracking_protection">Redirect tracking protection</a></li><li><em><a href="/en-US/docs/Web/Privacy/State_Partitioning" aria-current="page">State Partitioning</a></em></li><li><a href="/en-US/docs/Web/Privacy/Storage_Access_Policy">Storage access policy: Block cookies from trackers</a><ol><li><a href="/en-US/docs/Web/Privacy/Storage_Access_Policy">Storage access policy: Block cookies from trackers</a></li><li><a href="/en-US/docs/Web/Privacy/Storage_Access_Policy/Errors">Errors</a></li></ol></li></ol>
</div></div></nav></aside><div class="toc-container"><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#motivation">Motivation</a></li><li class="document-toc-item "><a class="document-toc-link" href="#state_partitioning">State partitioning</a></li></ul></section></div></nav></aside></div></div><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>State Partitioning</h1></header><div class="section-content"><p>
  State Partitioning is a broad effort to rework how Firefox manages client-side
  state (i.e., data stored in the browser) to mitigate the ability of websites
  to abuse state for cross-site tracking. This effort aims to
  achieve that by providing what is effectively a "different", isolated storage
  location to every website a user visits. This article gives an overview of
  the mechanism, lists the affected APIs and explains how to debug affected
  sites.
</p>
<p>
  State Partitioning is currently turned on by default in the Firefox Nightly
  channel. A subset of the state partitioning efforts (namely <a href="#network_partitioning">network partitioning</a>) has been enabled by default in the release channel
  of Firefox since version 85.
</p></div><section aria-labelledby="motivation"><h2 id="motivation"><a href="#motivation">Motivation</a></h2><div class="section-content"></div></section><section aria-labelledby="cross-site_tracking_using_shared_state"><h3 id="cross-site_tracking_using_shared_state"><a href="#cross-site_tracking_using_shared_state">Cross-site tracking using shared state</a></h3><div class="section-content"><p>
  Browsers traditionally key client-side state by the origin (or sometimes
  registrable domain) of the location a resource was loaded from. For example,
  the cookies, localStorage objects, and caches available to an iframe loaded
  from <code>https://example.com/hello.html</code> will be keyed by
  <code>example.com</code>. This is true regardless of whether the browser
  is currently loading resources from that domain as a <em>first-party</em>
  resources or as an embedded <em>third party</em> resources. Trackers have taken
  advantage of this cross-site state to store user identifiers and access them
  across websites. The example below shows how <code>example.com</code> can use
  its cross-site state (in this instance, cookies) to track a user across its
  own site as well as <code>A.example</code> and <code>B.example</code>.
</p>
<p>
  <img src="/en-US/docs/Web/Privacy/State_Partitioning/example-cross-site-state.png" alt="An example of cross-site state" width="635" height="440" loading="lazy">
</p></div></section><section aria-labelledby="past_approaches_to_blocking_cross-site_tracking"><h3 id="past_approaches_to_blocking_cross-site_tracking"><a href="#past_approaches_to_blocking_cross-site_tracking">Past approaches to blocking cross-site tracking</a></h3><div class="section-content"><p>
  Firefox's past cookie policies attempt to mitigate tracking by blocking
  access to some storage APIs (e.g., cookies and localStorage) for certain
  domains under certain conditions. For example, our "block all third-party
  cookies" policy will prevent all domains from accessing certain storage APIs
  when loaded in a third-party context. Our current
  <a href="/en-US/docs/Web/Privacy/Storage_Access_Policy">default cookie policy</a> blocks access in a third-party context only for domains classified as
  trackers.
</p></div></section><section aria-labelledby="state_partitioning"><h2 id="state_partitioning"><a href="#state_partitioning">State partitioning</a></h2><div class="section-content"><p>
  State Partitioning is a different approach to preventing cross-site tracking.
  Rather than block access to certain stateful APIs in a third-party context,
  Firefox provides embedded resources with a separate storage
  bucket for every top-level website. More specifically, Firefox double-keys
  all client-side state by the
  <em><a href="https://html.spec.whatwg.org/multipage/browsers.html#origin" class="external" target="_blank">origin</a></em>
  of the resource being loaded and by the <em>top-level
<a href="https://html.spec.whatwg.org/multipage/browsers.html#site" class="external" target="_blank">site</a></em>.
  In most instances, the top-level site is the scheme and <a href="/en-US/docs/Glossary/eTLD">eTLD+1</a> of the top-level
  page being visited by the user.
</p>
<p>
  In the example below <code>example.com</code> is embedded in
  <code>A.example</code> and <code>B.example</code>. However, since storage is
  partitioned, there are three distinct storage buckets (instead of one). The
  tracker can still access storage, but since every storage bucket is
  additionally keyed under the top-level site, the data it has access to on A
  will be different from the data on B. This will prevent a tracker from storing
  an identifier in their cookies when visited directly and then retrieving that
  identifier when embedded in other websites.
</p>
<p>
  <img src="/en-US/docs/Web/Privacy/State_Partitioning/example-state-partitioning.png" alt="An example of state partitioning" width="672" height="401" loading="lazy">
</p></div></section><section aria-labelledby="standardization"><h3 id="standardization"><a href="#standardization">Standardization</a></h3><div class="section-content"><p>
  The <a href="https://privacycg.github.io/" class="external" target="_blank">Privacy Community Group</a> has a Work Item for
  <a href="https://privacycg.github.io/storage-partitioning/" class="external" target="_blank">Client-Side Storage Partitioning</a>. This serves as an overview of the
  standardization efforts for storage partitioning in the individual standards
  affected. We intend to align our state partitioning implementation with these
  efforts as the Work Item is standardized.
</p></div></section><section aria-labelledby="status_of_partitioning_in_firefox"><h3 id="status_of_partitioning_in_firefox"><a href="#status_of_partitioning_in_firefox">Status of partitioning in Firefox</a></h3><div class="section-content"><ul>
  <li><a href="#network_partitioning"><strong>Network Partitioning</strong></a>: Enabled by default for all users since Firefox 85.</li>
  <li><a href="#dynamic_state_partitioning"><strong>Dynamic State Partitioning</strong></a>:
    <ul>
      <li>
        Since Firefox 86: Enabled for users that have
        <a href="https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop#w_strict-enhanced-tracking-protection" class="external" target="_blank">"Strict" privacy protections</a> enabled.
      </li>
      <li>Since Firefox 90: Enabled in private browsing.</li>
    </ul>
  </li>
</ul></div></section><section aria-labelledby="static_partitioning"><h3 id="static_partitioning"><a href="#static_partitioning">Static partitioning</a></h3><div class="section-content"><h4 id="storage_partitioning">Storage partitioning</h4>
<p>
  To prevent JavaScript-accessible storage APIs from being used for cross-site
  tracking, accessible storage is partitioned by top-level site. This
  mechanism means that, generally, a third-party embedded in one top-level site
  cannot access data stored under another top-level site.
</p>
<h4 id="storage_apis">Storage APIs</h4>
<ul>
  <li><a href="/en-US/docs/Web/API/Window/localStorage">localStorage</a></li>
  <li><a href="/en-US/docs/Web/API/Window/sessionStorage">sessionStorage</a></li>
  <li><a href="/en-US/docs/Web/API/Cache">DOM Cache</a></li>
  <li><a href="/en-US/docs/Web/API/IndexedDB_API">IndexedDB</a></li>
  <li><a href="/en-US/docs/Web/API/BroadcastChannel">Broadcast Channel</a></li>
  <li><a href="/en-US/docs/Web/API/SharedWorker">Shared Workers</a></li>
  <li><a href="/en-US/docs/Web/API/Service_Worker_API">Service Workers</a></li>
</ul>
<h4 id="network_partitioning">Network partitioning</h4>
<p>
  Networking-related APIs are not intended to be used for websites to store
  data, but they can be
  <a href="https://blog.mozilla.org/security/2021/01/26/supercookie-protections/" class="external" target="_blank">abused</a>
  for cross-site tracking. As such, the following network APIs and caches are
  <strong>permanently</strong> partitioned by the top-level site.
</p>
<div class="notecard note" id="sect1">
  <p>
    <strong>Note:</strong> Network Partitioning is permanent. Websites can't
    control or relax these restrictions.
  </p>
</div>
<h4 id="network_apis">Network APIs</h4>
<ul>
  <li><a href="/en-US/docs/Web/HTTP/Caching">HTTP Cache</a></li>
  <li>Image Cache</li>
  <li>Favicon Cache</li>
  <li>Connection Pooling</li>
  <li>Stylesheet Cache</li>
  <li><a href="/en-US/docs/Glossary/DNS">DNS</a></li>
  <li>HTTP Authentication</li>
  <li><a href="/en-US/docs/Web/HTTP/Headers/Alt-Svc">Alt-Svc</a></li>
  <li>Speculative Connections</li>
  <li>Fonts &amp; Font Cache</li>
  <li><a href="/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security">HSTS</a></li>
  <li>OCSP</li>
  <li>Intermediate CA Cache</li>
  <li>TLS Client Certificates</li>
  <li>TLS Session Identifiers</li>
  <li>Prefetch</li>
  <li>Preconnect</li>
  <li><a href="/en-US/docs/Glossary/Preflight_request">CORS-preflight</a> Cache</li>
  <li>WebRTC deviceID</li>
</ul></div></section><section aria-labelledby="dynamic_partitioning"><h3 id="dynamic_partitioning"><a href="#dynamic_partitioning">Dynamic partitioning</a></h3><div class="section-content"><p>
  Generally, if accessible storage is partitioned by top-level site, access to a third-parties unpartitioned cookies
  can still be granted if the Storage Access API is supported:
</p>
<ul>
  <li>using the <a href="#storage_access_api">Storage Access API</a>.</li>
  <li>automatically, such as for third-parties providing federated login.</li>
</ul>
<p>
  Details about automatic grants are provided in the
  <a href="#storage_access_heuristics">Storage Access Heuristics</a> section.
</p>
<h4 id="dynamically-partitioned_apis">Dynamically-partitioned APIs</h4>
<ul>
  <li><a href="/en-US/docs/Web/API/Document/cookie">Cookies</a></li>
</ul>
<h4 id="storage_access_heuristics">Storage access heuristics</h4>
<p>
  To improve web compatibility, Firefox currently includes some heuristics to
  grant unpartitioned access to cookies automatically to third parties that
  receive user interaction. These heuristics are intended to allow some
  third-party integrations that are common on the web to continue to function.
</p>
<div class="notecard warning" id="sect2">
  <p>
    <strong>Warning:</strong> Storage access heuristics are a transitional
    feature meant to prevent website breakage. They should not be relied upon
    for current and future web development.
  </p>
</div>
<h5 id="opener_heuristics">Opener Heuristics</h5>
<ul>
  <li>
    When a partitioned third-party opens a pop-up window that has
    <a href="/en-US/docs/Web/API/Window/opener">opener access</a> to the
    originating document, the third-party is granted storage access to its
    embedder for 30 days.
  </li>
  <li>
    When a first-party <code>a.example</code> opens a third-party pop-up
    <code>b.example</code>, <code>b.example</code> is granted
    third-party storage access to <code>a.example</code> for 30 days.
  </li>
</ul>
<div class="notecard note" id="sect3">
  <p>
    <strong>Note:</strong> For third-parties which abuse these heuristic for
    tracking purposes, we may require user interaction with the popup before
    storage access is granted.
  </p>
</div>
<h5 id="redirect_heuristics">Redirect Heuristics</h5>
<ul>
  <li>
    If a site <code>b.example</code> redirects to <code>a.example</code>, then
    <code>b.example</code> receives storage access to its embedder
    <code>a.example</code> if both <code>a.example</code> and
    <code>b.example</code> have been visited and interacted with within the
    last 10 minutes. This storage access will be granted for 15 minutes.
  </li>
  <li>
    If a tracker <code>tracker.example</code> (as classified by the Enhanced
    Tracking Protection) redirects to a non-tracker
    <code>a.example</code> and <code>tracker.example</code> received user
    interaction as a first-party within the last 45 days,
    <code>tracker.example</code> is granted storage access to
    <code>a.example</code> for 15 minutes.
  </li>
</ul>
<h4 id="storage_access_api">Storage Access API</h4>
<p>
  Third-party frames may use
  <a href="/en-US/docs/Web/API/Document/requestStorageAccess">document.requestStorageAccess</a> to request unpartitioned access to cookie through the
  <a href="/en-US/docs/Web/API/Storage_Access_API">Storage Access API</a>. Once
  granted, the requesting party will gain access to its entire first-party cookies (i.e., the cookies it would have access to if visited as a first-party).
</p>
<div class="notecard warning" id="sect4">
  <p>
    <strong>Warning:</strong> When storage access is granted there may still
    be references to the partitioned storage. However, sites shouldn't rely on
    being able to use partitioned and unpartitioned cookies at the same
    time.
  </p>
</div></div></section><section aria-labelledby="debugging"><h3 id="debugging"><a href="#debugging">Debugging</a></h3><div class="section-content"><p>
  We encourage site owners to test their sites, particularly those that rely on
  third-party content integrations. There are several features in Firefox to
  make testing easier.
</p>
<h4 id="logging">Logging</h4>
<p>
  Here is an overview of the messages logged to the web console when interacting
  with storage in a third-party context. In the following examples,
  <code>a.example</code> is the top-level site which embeds the third-party frame
  <code>b.example</code>.
</p>
<figure class="table-container"><table>
  <thead>
    <tr>
      <th>Reason</th>
      <th>Console Message</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Storage of a third-party frame is partitioned</td>
      <td>Partitioned cookie or storage access was provided to "b.example" because it is loaded in the third-party context and storage partitioning is enabled.</td>
    </tr>
    <tr>
      <td>Access to unpartitioned cookies is granted through <a href="#storage_access_heuristics">Storage access heuristics</a></td>
      <td>Storage access automatically granted for First-Party isolation "b.example" on "a.example".</td>
    </tr>
    <tr>
      <td>Access to unpartitioned cookies is granted via the <a href="/en-US/docs/Web/API/Document/requestStorageAccess">StorageAccessAPI</a></td>
      <td>Storage access granted for origin "b.example" on "a.example".</td>
    </tr>
  </tbody>
</table></figure>
<h4 id="clear_third-party_storage-access">Clear third-party storage-access</h4>
<p>
  If a third-party iframe is granted storage access to the parent context,
  Firefox sets a permission. To revoke access you can clear the permission via
  the <a href="https://support.mozilla.org/en-US/kb/site-information-panel" class="external" target="_blank">Site Information Panel</a> in the permissions section under "Cross-site Cookies".
</p>
<h4 id="test_preferences">Test Preferences</h4>
<div class="notecard warning" id="sect5">
  <p>
    <strong>Warning:</strong> Make sure to set these preferences in a separate
    Firefox profile or reset them after testing.
  </p>
</div>
<h5 id="disable_web_compatibility_features">Disable Web Compatibility Features</h5>
<p>
  Setting <code>privacy.antitracking.enableWebcompat</code> to <code>false</code> will <strong>disable</strong> all
  ETP and State Partitioning web-compatibility features. Disabling these features
  can be useful when testing, to ensure your website is fully compatible with the
  State Partitioning mechanism in Firefox, and it does not rely on temporary
  heuristics.
</p>
<p>Features disabled by the pref include:</p>
<ul>
  <li>
    <a href="#storage_access_heuristics">Storage access heuristics</a>: Unpartitioned
    access to cookies can only be acquired via the Storage Access API.
  </li>
  <li>
    Automatic storage access grants:
    <a href="/en-US/docs/Web/API/Document/requestStorageAccess">document.requestStorageAccess</a>
    will always prompt the user.
  </li>
  <li>
    <a href="https://blog.mozilla.org/security/2021/07/13/smartblock-v2/" class="external" target="_blank">SmartBlock's "unblock on opt-in" feature</a>, which
    will allow certain trackers when users interact with them.
  </li>
  <li>
    Any temporary <a href="https://wiki.mozilla.org/Security/Anti_tracking_policy#Temporary_Web_Compatibility_Interventions" class="external" target="_blank">anti-tracking exceptions</a>
    granted to websites via the skip-listing mechanism.
  </li>
</ul>
<h5 id="disable_heuristics">Disable Heuristics</h5>
<p>
  The following preferences can be used to disable individual storage access
  heuristics via the
  <a href="https://support.mozilla.org/en-US/kb/about-config-editor-firefox" class="external" target="_blank">config editor</a>:
</p>
<ul>
  <li>
    Enable / disable the <a href="#storage_access_redirect_heuristics">redirect heuristics</a>:
    <code>privacy.restrict3rdpartystorage.heuristic.recently_visited</code>,
    <code>privacy.restrict3rdpartystorage.heuristic.redirect</code>
  </li>
  <li>
    Enable / disable the <a href="#storage_access_window_open_heuristics">window open heuristics</a>:
    <code>privacy.restrict3rdpartystorage.heuristic.window_open</code>,
    <code>privacy.restrict3rdpartystorage.heuristic.opened_window_after_interaction</code>
  </li>
</ul>
<h5 id="disable_network_partitioning">Disable Network Partitioning</h5>
<p>
  Network partitioning can be disabled with the
  <code>privacy.partition.network_state</code> pref.
</p>
<h5 id="disable_dynamic_state_partitioning">Disable Dynamic State Partitioning</h5>
<p>
  To disable dynamic storage partitioning for all sites you can use the
  <code>network.cookie.cookieBehavior</code> pref:
</p>
<figure class="table-container"><table>
  <thead>
    <tr>
      <th>Value</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>5</td>
      <td>Reject (known) trackers and partition third-party storage.</td>
    </tr>
    <tr>
      <td>4</td>
      <td>Only reject trackers (Storage partitioning disabled).</td>
    </tr>
    <tr>
      <td>0</td>
      <td>Allow all</td>
    </tr>
  </tbody>
</table></figure>
<h5 id="exempt_specific_origins_from_partitioning">Exempt specific origins from partitioning</h5>
<p>
  Dynamic State Partitioning can also be disabled for specific
  origins with the <code>privacy.restrict3rdpartystorage.skip_list</code>
  preference. This pref holds a comma separated list of origins to exempt.
  The pref value should follow the following format
  <code>first-party_origin_1,third-party_origin_1;first-party_origin_2,third-party_origin_2;...</code>.
</p>
<p>
  For example, to disable partitioning for <code>tracker.example</code>
  on <code>example.com</code> and for <code>social.example</code> on
  <code>news.example</code>, you would set the pref to the following:
</p>
<pre class="brush: plain notranslate">https://tracker.example,http://example.com;https://social.example,https://news.example
</pre></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/privacy/state_partitioning/index.md" title="This will take you to GitHub, where you&#x27;ll need to sign in first." target="_blank" rel="noopener noreferrer">Edit the page on GitHub</a>.</li><li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FPrivacy%2FState_Partitioning&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fprivacy%2Fstate_partitioning%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FPrivacy%2FState_Partitioning%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fprivacy%2Fstate_partitioning%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F6d606174faaedaa5dee7b7ebd87602cd51e5dd7e%0A*+Document+last+modified%3A+2023-07-24T23%3A45%3A00.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">Report the content issue</a>.</li><li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/privacy/state_partitioning/index.md?plain=1" title="Folder: en-us/web/privacy/state_partitioning (Opens in a new tab)" target="_blank" rel="noopener noreferrer">View the source on GitHub</a>.</li></ul>Want to get more involved?<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">Learn how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time dateTime="2023-07-24T23:45:00.000Z">Jul 25, 2023</time> by<!-- --> <a href="/en-US/docs/Web/Privacy/State_Partitioning/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div></div><footer id="nav-footer" class="page-footer"><div class="page-footer-grid"><div class="page-footer-logo-col"><a href="/" class="mdn-footer-logo" aria-label="MDN homepage"><svg width="48" height="17" viewBox="0 0 48 17" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mdn-footer-logo-svg">MDN logo</title><path d="M20.04 16.512H15.504V10.416C15.504 9.488 15.344 8.824 15.024 8.424C14.72 8.024 14.264 7.824 13.656 7.824C12.92 7.824 12.384 8.064 12.048 8.544C11.728 9.024 11.568 9.64 11.568 10.392V14.184H13.008V16.512H8.472V10.416C8.472 9.488 8.312 8.824 7.992 8.424C7.688 8.024 7.232 7.824 6.624 7.824C5.872 7.824 5.336 8.064 5.016 8.544C4.696 9.024 4.536 9.64 4.536 10.392V14.184H6.6V16.512H0V14.184H1.44V8.04H0.024V5.688H4.536V7.32C5.224 6.088 6.32 5.472 7.824 5.472C8.608 5.472 9.328 5.664 9.984 6.048C10.64 6.432 11.096 7.016 11.352 7.8C11.992 6.248 13.168 5.472 14.88 5.472C15.856 5.472 16.72 5.776 17.472 6.384C18.224 6.992 18.6 7.936 18.6 9.216V14.184H20.04V16.512Z" fill="currentColor"></path><path d="M33.6714 16.512H29.1354V14.496C28.8314 15.12 28.3834 15.656 27.7914 16.104C27.1994 16.536 26.4154 16.752 25.4394 16.752C24.0154 16.752 22.8954 16.264 22.0794 15.288C21.2634 14.312 20.8554 12.984 20.8554 11.304C20.8554 9.688 21.2554 8.312 22.0554 7.176C22.8554 6.04 24.0634 5.472 25.6794 5.472C26.5594 5.472 27.2794 5.648 27.8394 6C28.3994 6.352 28.8314 6.8 29.1354 7.344V2.352H26.9754V0H32.2314V14.184H33.6714V16.512ZM29.1354 11.04V10.776C29.1354 9.88 28.8954 9.184 28.4154 8.688C27.9514 8.176 27.3674 7.92 26.6634 7.92C25.9754 7.92 25.3674 8.176 24.8394 8.688C24.3274 9.2 24.0714 10.008 24.0714 11.112C24.0714 12.152 24.3114 12.944 24.7914 13.488C25.2714 14.032 25.8394 14.304 26.4954 14.304C27.3114 14.304 27.9514 13.96 28.4154 13.272C28.8954 12.584 29.1354 11.84 29.1354 11.04Z" fill="currentColor"></path><path d="M47.9589 16.512H41.9829V14.184H43.4229V10.416C43.4229 9.488 43.2629 8.824 42.9429 8.424C42.6389 8.024 42.1829 7.824 41.5749 7.824C40.8389 7.824 40.2709 8.056 39.8709 8.52C39.4709 8.968 39.2629 9.56 39.2469 10.296V14.184H40.6869V16.512H34.7109V14.184H36.1509V8.04H34.5909V5.688H39.2469V7.344C39.9669 6.096 41.1269 5.472 42.7269 5.472C43.7509 5.472 44.6389 5.776 45.3909 6.384C46.1429 6.992 46.5189 7.936 46.5189 9.216V14.184H47.9589V16.512Z" fill="currentColor"></path></svg></a><p>Your blueprint for a better internet.</p><ul class="social-icons"><li><a class="icon icon-mastodon" href="https://mozilla.social/@mdn" target="_blank" rel="me noopener noreferrer"><span class="visually-hidden">MDN on Mastodon</span></a></li><li><a class="icon icon-twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="icon icon-github-mark-small" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on GitHub</span></a></li><li><a class="icon icon-feed" href="/en-US/blog/rss.xml" target="_blank"><span class="visually-hidden">MDN Blog RSS Feed</span></a></li></ul></div><div class="page-footer-nav-col-1"><h2 class="footer-nav-heading">MDN</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a href="/en-US/about">About</a></li><li class="footer-nav-item"><a href="/en-US/blog/">Blog</a></li><li class="footer-nav-item"><a href="https://www.mozilla.org/en-US/careers/listings/?team=ProdOps" target="_blank" rel="noopener noreferrer">Careers</a></li><li class="footer-nav-item"><a href="/en-US/advertising">Advertise with us</a></li></ul></div><div class="page-footer-nav-col-2"><h2 class="footer-nav-heading">Support</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/MDN/Community/Issues">Report an issue</a></li></ul></div><div class="page-footer-nav-col-3"><h2 class="footer-nav-heading">Our communities</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/community">MDN Community</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="https://discourse.mozilla.org/c/mdn/236" target="_blank" rel="noopener noreferrer">MDN Forum</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/discord" target="_blank" rel="noopener noreferrer">MDN Chat</a></li></ul></div><div class="page-footer-nav-col-4"><h2 class="footer-nav-heading">Developers</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Web">Web Technologies</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Learn">Learn Web Development</a></li><li class="footer-nav-item"><a href="https://hacks.mozilla.org/" target="_blank" rel="noopener noreferrer">Hacks Blog</a></li></ul></div><div class="page-footer-moz"><a href="https://www.mozilla.org/" class="footer-moz-logo-link" target="_blank" rel="noopener noreferrer"><svg width="112" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mozilla-footer-logo-svg">Mozilla logo</title><path d="M41.753 14.218c-2.048 0-3.324 1.522-3.324 4.157 0 2.423 1.119 4.286 3.29 4.286 2.082 0 3.447-1.678 3.447-4.347 0-2.826-1.522-4.096-3.413-4.096Zm54.89 7.044c0 .901.437 1.618 1.645 1.618 1.427 0 2.949-1.024 3.044-3.352-.649-.095-1.365-.185-2.02-.185-1.426-.005-2.668.397-2.668 1.92Z" fill="currentColor"></path><path d="M0 0v32h111.908V0H0Zm32.56 25.426h-5.87v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h1.864v3.044h-5.864v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h2.669v3.044H6.642v-3.044h1.863v-7.918H6.642V11.42h5.864v2.11c.839-1.489 2.3-2.39 4.252-2.39 2.02 0 3.878.963 4.566 3.01.778-1.862 2.361-3.01 4.566-3.01 2.512 0 4.812 1.522 4.812 4.84v6.402h1.863v3.044h-.005Zm9.036.307c-4.314 0-7.296-2.635-7.296-7.106 0-4.096 2.484-7.481 7.514-7.481s7.481 3.38 7.481 7.29c0 4.472-3.228 7.297-7.699 7.297Zm22.578-.307H51.942l-.403-2.11 7.7-8.846h-4.376l-.621 2.17-2.888-.313.498-4.907h12.294l.313 2.11-7.767 8.852h4.533l.654-2.172 3.167.308-.872 4.908Zm7.99 0h-4.191v-5.03h4.19v5.03Zm0-8.976h-4.191v-5.03h4.19v5.03Zm2.618 8.976 6.054-21.358h3.945l-6.054 21.358h-3.945Zm8.136 0 6.048-21.358h3.945l-6.054 21.358h-3.939Zm21.486.307c-1.863 0-2.887-1.085-3.072-2.792-.805 1.427-2.232 2.792-4.498 2.792-2.02 0-4.314-1.085-4.314-4.006 0-3.447 3.323-4.253 6.518-4.253.778 0 1.584.034 2.3.124v-.465c0-1.427-.034-3.133-2.3-3.133-.84 0-1.488.061-2.143.402l-.453 1.578-3.195-.34.549-3.224c2.45-.996 3.692-1.27 5.992-1.27 3.01 0 5.556 1.55 5.556 4.75v6.083c0 .805.314 1.085.963 1.085.184 0 .375-.034.587-.095l.034 2.11a5.432 5.432 0 0 1-2.524.654Z" fill="currentColor"></path></svg></a><ul class="footer-moz-list"><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Website Privacy Notice</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/#cookies" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Cookies</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/legal/terms/mozilla" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Legal</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/governance/policies/participation/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Community Participation Guidelines</a></li></ul></div><div class="page-footer-legal"><p id="license" class="page-footer-legal-text">Visit<!-- --> <a href="https://www.mozilla.org" target="_blank" rel="noopener noreferrer">Mozilla Corporation’s</a> <!-- -->not-for-profit parent, the<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://foundation.mozilla.org/">Mozilla Foundation</a>.<br/>Portions of this content are ©1998–<!-- -->2023<!-- --> by individual mozilla.org contributors. Content available under<!-- --> <a href="/en-US/docs/MDN/Writing_guidelines/Attrib_copyright_license">a Creative Commons license</a>.</p></div></div></footer></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"State Partitioning","mdn_url":"/en-US/docs/Web/Privacy/State_Partitioning","locale":"en-US","native":"English (US)","sidebarHTML":"\n<ol><li><a href=\"/en-US/docs/Web/Privacy/Partitioned_cookies\">Cookies Having Independent Partitioned State (CHIPS)</a></li><li><a href=\"/en-US/docs/Web/Privacy/Firefox_tracking_protection\">Firefox tracking protection</a></li><li><a href=\"/en-US/docs/Web/Privacy/Redirect_tracking_protection\">Redirect tracking protection</a></li><li><em><a href=\"/en-US/docs/Web/Privacy/State_Partitioning\" aria-current=\"page\">State Partitioning</a></em></li><li><a href=\"/en-US/docs/Web/Privacy/Storage_Access_Policy\">Storage access policy: Block cookies from trackers</a><ol><li><a href=\"/en-US/docs/Web/Privacy/Storage_Access_Policy\">Storage access policy: Block cookies from trackers</a></li><li><a href=\"/en-US/docs/Web/Privacy/Storage_Access_Policy/Errors\">Errors</a></li></ol></li></ol>\n","sidebarMacro":"QuickLinksWithSubpages","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>\n  State Partitioning is a broad effort to rework how Firefox manages client-side\n  state (i.e., data stored in the browser) to mitigate the ability of websites\n  to abuse state for cross-site tracking. This effort aims to\n  achieve that by providing what is effectively a \"different\", isolated storage\n  location to every website a user visits. This article gives an overview of\n  the mechanism, lists the affected APIs and explains how to debug affected\n  sites.\n</p>\n<p>\n  State Partitioning is currently turned on by default in the Firefox Nightly\n  channel. A subset of the state partitioning efforts (namely <a href=\"#network_partitioning\">network partitioning</a>) has been enabled by default in the release channel\n  of Firefox since version 85.\n</p>"}},{"type":"prose","value":{"id":"motivation","title":"Motivation","isH3":false,"content":""}},{"type":"prose","value":{"id":"cross-site_tracking_using_shared_state","title":"Cross-site tracking using shared state","isH3":true,"content":"<p>\n  Browsers traditionally key client-side state by the origin (or sometimes\n  registrable domain) of the location a resource was loaded from. For example,\n  the cookies, localStorage objects, and caches available to an iframe loaded\n  from <code>https://example.com/hello.html</code> will be keyed by\n  <code>example.com</code>. This is true regardless of whether the browser\n  is currently loading resources from that domain as a <em>first-party</em>\n  resources or as an embedded <em>third party</em> resources. Trackers have taken\n  advantage of this cross-site state to store user identifiers and access them\n  across websites. The example below shows how <code>example.com</code> can use\n  its cross-site state (in this instance, cookies) to track a user across its\n  own site as well as <code>A.example</code> and <code>B.example</code>.\n</p>\n<p>\n  <img src=\"/en-US/docs/Web/Privacy/State_Partitioning/example-cross-site-state.png\" alt=\"An example of cross-site state\" width=\"635\" height=\"440\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"past_approaches_to_blocking_cross-site_tracking","title":"Past approaches to blocking cross-site tracking","isH3":true,"content":"<p>\n  Firefox's past cookie policies attempt to mitigate tracking by blocking\n  access to some storage APIs (e.g., cookies and localStorage) for certain\n  domains under certain conditions. For example, our \"block all third-party\n  cookies\" policy will prevent all domains from accessing certain storage APIs\n  when loaded in a third-party context. Our current\n  <a href=\"/en-US/docs/Web/Privacy/Storage_Access_Policy\">default cookie policy</a> blocks access in a third-party context only for domains classified as\n  trackers.\n</p>"}},{"type":"prose","value":{"id":"state_partitioning","title":"State partitioning","isH3":false,"content":"<p>\n  State Partitioning is a different approach to preventing cross-site tracking.\n  Rather than block access to certain stateful APIs in a third-party context,\n  Firefox provides embedded resources with a separate storage\n  bucket for every top-level website. More specifically, Firefox double-keys\n  all client-side state by the\n  <em><a href=\"https://html.spec.whatwg.org/multipage/browsers.html#origin\" class=\"external\" target=\"_blank\">origin</a></em>\n  of the resource being loaded and by the <em>top-level\n<a href=\"https://html.spec.whatwg.org/multipage/browsers.html#site\" class=\"external\" target=\"_blank\">site</a></em>.\n  In most instances, the top-level site is the scheme and <a href=\"/en-US/docs/Glossary/eTLD\">eTLD+1</a> of the top-level\n  page being visited by the user.\n</p>\n<p>\n  In the example below <code>example.com</code> is embedded in\n  <code>A.example</code> and <code>B.example</code>. However, since storage is\n  partitioned, there are three distinct storage buckets (instead of one). The\n  tracker can still access storage, but since every storage bucket is\n  additionally keyed under the top-level site, the data it has access to on A\n  will be different from the data on B. This will prevent a tracker from storing\n  an identifier in their cookies when visited directly and then retrieving that\n  identifier when embedded in other websites.\n</p>\n<p>\n  <img src=\"/en-US/docs/Web/Privacy/State_Partitioning/example-state-partitioning.png\" alt=\"An example of state partitioning\" width=\"672\" height=\"401\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"standardization","title":"Standardization","isH3":true,"content":"<p>\n  The <a href=\"https://privacycg.github.io/\" class=\"external\" target=\"_blank\">Privacy Community Group</a> has a Work Item for\n  <a href=\"https://privacycg.github.io/storage-partitioning/\" class=\"external\" target=\"_blank\">Client-Side Storage Partitioning</a>. This serves as an overview of the\n  standardization efforts for storage partitioning in the individual standards\n  affected. We intend to align our state partitioning implementation with these\n  efforts as the Work Item is standardized.\n</p>"}},{"type":"prose","value":{"id":"status_of_partitioning_in_firefox","title":"Status of partitioning in Firefox","isH3":true,"content":"<ul>\n  <li><a href=\"#network_partitioning\"><strong>Network Partitioning</strong></a>: Enabled by default for all users since Firefox 85.</li>\n  <li><a href=\"#dynamic_state_partitioning\"><strong>Dynamic State Partitioning</strong></a>:\n    <ul>\n      <li>\n        Since Firefox 86: Enabled for users that have\n        <a href=\"https://support.mozilla.org/en-US/kb/enhanced-tracking-protection-firefox-desktop#w_strict-enhanced-tracking-protection\" class=\"external\" target=\"_blank\">\"Strict\" privacy protections</a> enabled.\n      </li>\n      <li>Since Firefox 90: Enabled in private browsing.</li>\n    </ul>\n  </li>\n</ul>"}},{"type":"prose","value":{"id":"static_partitioning","title":"Static partitioning","isH3":true,"content":"<h4 id=\"storage_partitioning\">Storage partitioning</h4>\n<p>\n  To prevent JavaScript-accessible storage APIs from being used for cross-site\n  tracking, accessible storage is partitioned by top-level site. This\n  mechanism means that, generally, a third-party embedded in one top-level site\n  cannot access data stored under another top-level site.\n</p>\n<h4 id=\"storage_apis\">Storage APIs</h4>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/Window/localStorage\">localStorage</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Window/sessionStorage\">sessionStorage</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Cache\">DOM Cache</a></li>\n  <li><a href=\"/en-US/docs/Web/API/IndexedDB_API\">IndexedDB</a></li>\n  <li><a href=\"/en-US/docs/Web/API/BroadcastChannel\">Broadcast Channel</a></li>\n  <li><a href=\"/en-US/docs/Web/API/SharedWorker\">Shared Workers</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Service_Worker_API\">Service Workers</a></li>\n</ul>\n<h4 id=\"network_partitioning\">Network partitioning</h4>\n<p>\n  Networking-related APIs are not intended to be used for websites to store\n  data, but they can be\n  <a href=\"https://blog.mozilla.org/security/2021/01/26/supercookie-protections/\" class=\"external\" target=\"_blank\">abused</a>\n  for cross-site tracking. As such, the following network APIs and caches are\n  <strong>permanently</strong> partitioned by the top-level site.\n</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p>\n    <strong>Note:</strong> Network Partitioning is permanent. Websites can't\n    control or relax these restrictions.\n  </p>\n</div>\n<h4 id=\"network_apis\">Network APIs</h4>\n<ul>\n  <li><a href=\"/en-US/docs/Web/HTTP/Caching\">HTTP Cache</a></li>\n  <li>Image Cache</li>\n  <li>Favicon Cache</li>\n  <li>Connection Pooling</li>\n  <li>Stylesheet Cache</li>\n  <li><a href=\"/en-US/docs/Glossary/DNS\">DNS</a></li>\n  <li>HTTP Authentication</li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Alt-Svc\">Alt-Svc</a></li>\n  <li>Speculative Connections</li>\n  <li>Fonts &amp; Font Cache</li>\n  <li><a href=\"/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security\">HSTS</a></li>\n  <li>OCSP</li>\n  <li>Intermediate CA Cache</li>\n  <li>TLS Client Certificates</li>\n  <li>TLS Session Identifiers</li>\n  <li>Prefetch</li>\n  <li>Preconnect</li>\n  <li><a href=\"/en-US/docs/Glossary/Preflight_request\">CORS-preflight</a> Cache</li>\n  <li>WebRTC deviceID</li>\n</ul>"}},{"type":"prose","value":{"id":"dynamic_partitioning","title":"Dynamic partitioning","isH3":true,"content":"<p>\n  Generally, if accessible storage is partitioned by top-level site, access to a third-parties unpartitioned cookies\n  can still be granted if the Storage Access API is supported:\n</p>\n<ul>\n  <li>using the <a href=\"#storage_access_api\">Storage Access API</a>.</li>\n  <li>automatically, such as for third-parties providing federated login.</li>\n</ul>\n<p>\n  Details about automatic grants are provided in the\n  <a href=\"#storage_access_heuristics\">Storage Access Heuristics</a> section.\n</p>\n<h4 id=\"dynamically-partitioned_apis\">Dynamically-partitioned APIs</h4>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/Document/cookie\">Cookies</a></li>\n</ul>\n<h4 id=\"storage_access_heuristics\">Storage access heuristics</h4>\n<p>\n  To improve web compatibility, Firefox currently includes some heuristics to\n  grant unpartitioned access to cookies automatically to third parties that\n  receive user interaction. These heuristics are intended to allow some\n  third-party integrations that are common on the web to continue to function.\n</p>\n<div class=\"notecard warning\" id=\"sect2\">\n  <p>\n    <strong>Warning:</strong> Storage access heuristics are a transitional\n    feature meant to prevent website breakage. They should not be relied upon\n    for current and future web development.\n  </p>\n</div>\n<h5 id=\"opener_heuristics\">Opener Heuristics</h5>\n<ul>\n  <li>\n    When a partitioned third-party opens a pop-up window that has\n    <a href=\"/en-US/docs/Web/API/Window/opener\">opener access</a> to the\n    originating document, the third-party is granted storage access to its\n    embedder for 30 days.\n  </li>\n  <li>\n    When a first-party <code>a.example</code> opens a third-party pop-up\n    <code>b.example</code>, <code>b.example</code> is granted\n    third-party storage access to <code>a.example</code> for 30 days.\n  </li>\n</ul>\n<div class=\"notecard note\" id=\"sect3\">\n  <p>\n    <strong>Note:</strong> For third-parties which abuse these heuristic for\n    tracking purposes, we may require user interaction with the popup before\n    storage access is granted.\n  </p>\n</div>\n<h5 id=\"redirect_heuristics\">Redirect Heuristics</h5>\n<ul>\n  <li>\n    If a site <code>b.example</code> redirects to <code>a.example</code>, then\n    <code>b.example</code> receives storage access to its embedder\n    <code>a.example</code> if both <code>a.example</code> and\n    <code>b.example</code> have been visited and interacted with within the\n    last 10 minutes. This storage access will be granted for 15 minutes.\n  </li>\n  <li>\n    If a tracker <code>tracker.example</code> (as classified by the Enhanced\n    Tracking Protection) redirects to a non-tracker\n    <code>a.example</code> and <code>tracker.example</code> received user\n    interaction as a first-party within the last 45 days,\n    <code>tracker.example</code> is granted storage access to\n    <code>a.example</code> for 15 minutes.\n  </li>\n</ul>\n<h4 id=\"storage_access_api\">Storage Access API</h4>\n<p>\n  Third-party frames may use\n  <a href=\"/en-US/docs/Web/API/Document/requestStorageAccess\">document.requestStorageAccess</a> to request unpartitioned access to cookie through the\n  <a href=\"/en-US/docs/Web/API/Storage_Access_API\">Storage Access API</a>. Once\n  granted, the requesting party will gain access to its entire first-party cookies (i.e., the cookies it would have access to if visited as a first-party).\n</p>\n<div class=\"notecard warning\" id=\"sect4\">\n  <p>\n    <strong>Warning:</strong> When storage access is granted there may still\n    be references to the partitioned storage. However, sites shouldn't rely on\n    being able to use partitioned and unpartitioned cookies at the same\n    time.\n  </p>\n</div>"}},{"type":"prose","value":{"id":"debugging","title":"Debugging","isH3":true,"content":"<p>\n  We encourage site owners to test their sites, particularly those that rely on\n  third-party content integrations. There are several features in Firefox to\n  make testing easier.\n</p>\n<h4 id=\"logging\">Logging</h4>\n<p>\n  Here is an overview of the messages logged to the web console when interacting\n  with storage in a third-party context. In the following examples,\n  <code>a.example</code> is the top-level site which embeds the third-party frame\n  <code>b.example</code>.\n</p>\n<figure class=\"table-container\"><table>\n  <thead>\n    <tr>\n      <th>Reason</th>\n      <th>Console Message</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>Storage of a third-party frame is partitioned</td>\n      <td>Partitioned cookie or storage access was provided to \"b.example\" because it is loaded in the third-party context and storage partitioning is enabled.</td>\n    </tr>\n    <tr>\n      <td>Access to unpartitioned cookies is granted through <a href=\"#storage_access_heuristics\">Storage access heuristics</a></td>\n      <td>Storage access automatically granted for First-Party isolation \"b.example\" on \"a.example\".</td>\n    </tr>\n    <tr>\n      <td>Access to unpartitioned cookies is granted via the <a href=\"/en-US/docs/Web/API/Document/requestStorageAccess\">StorageAccessAPI</a></td>\n      <td>Storage access granted for origin \"b.example\" on \"a.example\".</td>\n    </tr>\n  </tbody>\n</table></figure>\n<h4 id=\"clear_third-party_storage-access\">Clear third-party storage-access</h4>\n<p>\n  If a third-party iframe is granted storage access to the parent context,\n  Firefox sets a permission. To revoke access you can clear the permission via\n  the <a href=\"https://support.mozilla.org/en-US/kb/site-information-panel\" class=\"external\" target=\"_blank\">Site Information Panel</a> in the permissions section under \"Cross-site Cookies\".\n</p>\n<h4 id=\"test_preferences\">Test Preferences</h4>\n<div class=\"notecard warning\" id=\"sect5\">\n  <p>\n    <strong>Warning:</strong> Make sure to set these preferences in a separate\n    Firefox profile or reset them after testing.\n  </p>\n</div>\n<h5 id=\"disable_web_compatibility_features\">Disable Web Compatibility Features</h5>\n<p>\n  Setting <code>privacy.antitracking.enableWebcompat</code> to <code>false</code> will <strong>disable</strong> all\n  ETP and State Partitioning web-compatibility features. Disabling these features\n  can be useful when testing, to ensure your website is fully compatible with the\n  State Partitioning mechanism in Firefox, and it does not rely on temporary\n  heuristics.\n</p>\n<p>Features disabled by the pref include:</p>\n<ul>\n  <li>\n    <a href=\"#storage_access_heuristics\">Storage access heuristics</a>: Unpartitioned\n    access to cookies can only be acquired via the Storage Access API.\n  </li>\n  <li>\n    Automatic storage access grants:\n    <a href=\"/en-US/docs/Web/API/Document/requestStorageAccess\">document.requestStorageAccess</a>\n    will always prompt the user.\n  </li>\n  <li>\n    <a href=\"https://blog.mozilla.org/security/2021/07/13/smartblock-v2/\" class=\"external\" target=\"_blank\">SmartBlock's \"unblock on opt-in\" feature</a>, which\n    will allow certain trackers when users interact with them.\n  </li>\n  <li>\n    Any temporary <a href=\"https://wiki.mozilla.org/Security/Anti_tracking_policy#Temporary_Web_Compatibility_Interventions\" class=\"external\" target=\"_blank\">anti-tracking exceptions</a>\n    granted to websites via the skip-listing mechanism.\n  </li>\n</ul>\n<h5 id=\"disable_heuristics\">Disable Heuristics</h5>\n<p>\n  The following preferences can be used to disable individual storage access\n  heuristics via the\n  <a href=\"https://support.mozilla.org/en-US/kb/about-config-editor-firefox\" class=\"external\" target=\"_blank\">config editor</a>:\n</p>\n<ul>\n  <li>\n    Enable / disable the <a href=\"#storage_access_redirect_heuristics\">redirect heuristics</a>:\n    <code>privacy.restrict3rdpartystorage.heuristic.recently_visited</code>,\n    <code>privacy.restrict3rdpartystorage.heuristic.redirect</code>\n  </li>\n  <li>\n    Enable / disable the <a href=\"#storage_access_window_open_heuristics\">window open heuristics</a>:\n    <code>privacy.restrict3rdpartystorage.heuristic.window_open</code>,\n    <code>privacy.restrict3rdpartystorage.heuristic.opened_window_after_interaction</code>\n  </li>\n</ul>\n<h5 id=\"disable_network_partitioning\">Disable Network Partitioning</h5>\n<p>\n  Network partitioning can be disabled with the\n  <code>privacy.partition.network_state</code> pref.\n</p>\n<h5 id=\"disable_dynamic_state_partitioning\">Disable Dynamic State Partitioning</h5>\n<p>\n  To disable dynamic storage partitioning for all sites you can use the\n  <code>network.cookie.cookieBehavior</code> pref:\n</p>\n<figure class=\"table-container\"><table>\n  <thead>\n    <tr>\n      <th>Value</th>\n      <th>Description</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>5</td>\n      <td>Reject (known) trackers and partition third-party storage.</td>\n    </tr>\n    <tr>\n      <td>4</td>\n      <td>Only reject trackers (Storage partitioning disabled).</td>\n    </tr>\n    <tr>\n      <td>0</td>\n      <td>Allow all</td>\n    </tr>\n  </tbody>\n</table></figure>\n<h5 id=\"exempt_specific_origins_from_partitioning\">Exempt specific origins from partitioning</h5>\n<p>\n  Dynamic State Partitioning can also be disabled for specific\n  origins with the <code>privacy.restrict3rdpartystorage.skip_list</code>\n  preference. This pref holds a comma separated list of origins to exempt.\n  The pref value should follow the following format\n  <code>first-party_origin_1,third-party_origin_1;first-party_origin_2,third-party_origin_2;...</code>.\n</p>\n<p>\n  For example, to disable partitioning for <code>tracker.example</code>\n  on <code>example.com</code> and for <code>social.example</code> on\n  <code>news.example</code>, you would set the pref to the following:\n</p>\n<pre class=\"brush: plain notranslate\">https://tracker.example,http://example.com;https://social.example,https://news.example\n</pre>"}}],"toc":[{"text":"Motivation","id":"motivation"},{"text":"State partitioning","id":"state_partitioning"}],"summary":"State Partitioning is a broad effort to rework how Firefox manages client-side\n  state (i.e., data stored in the browser) to mitigate the ability of websites\n  to abuse state for cross-site tracking. This effort aims to\n  achieve that by providing what is effectively a \"different\", isolated storage\n  location to every website a user visits. This article gives an overview of\n  the mechanism, lists the affected APIs and explains how to debug affected\n  sites.","popularity":0.0102,"modified":"2023-07-24T23:45:00.000Z","source":{"folder":"en-us/web/privacy/state_partitioning","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/privacy/state_partitioning/index.md","last_commit_url":"https://github.com/mdn/content/commit/6d606174faaedaa5dee7b7ebd87602cd51e5dd7e","filename":"index.md"},"short_title":"State Partitioning","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/Privacy","title":"Privacy on the web"},{"uri":"/en-US/docs/Web/Privacy/State_Partitioning","title":"State Partitioning"}],"pageTitle":"State Partitioning - Privacy on the web | MDN","noIndexing":false}}</script></body></html>