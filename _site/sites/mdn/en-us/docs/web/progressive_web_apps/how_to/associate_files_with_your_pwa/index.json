{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Associate files with your PWA","mdn_url":"/en-US/docs/Web/Progressive_web_apps/How_to/Associate_files_with_your_PWA","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><a href=\"/en-US/docs/Web/Progressive_web_apps\"><strong>Progressive web apps</strong></a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides\"><strong>Guides</strong></a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides/What_is_a_progressive_web_app\">What is a progressive web app?</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides/Installing\">Installing and uninstalling web apps</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides/Making_PWAs_installable\">Making PWAs installable</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides/Offline_and_background_operation\">Offline and background operation</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides/Caching\">Caching</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Guides/Best_practices\">Best practices for PWAs</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials\"><strong>Tutorials</strong></a></li><li><ol><li><details><summary>CycleTracker</summary><ol><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/CycleTracker\">CycleTracker</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/CycleTracker/HTML_and_CSS\">Base HTML and CSS</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/CycleTracker/Secure_connection\">Secure connection</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/CycleTracker/JavaScript_functionality\">JavaScript functionality</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/CycleTracker/Manifest_file\">Manifest and iconography</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/CycleTracker/Service_workers\">Service workers</a></li></ol></details></li></ol></li><li><ol><li><details><summary>js13kGames</summary><ol><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames\">js13kGames</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/App_structure\">Progressive web app structure</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Offline_Service_workers\">Making PWAs work offline with Service workers</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Installable_PWAs\">How to make PWAs installable</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Re-engageable_Notifications_Push\">How to make PWAs re-engageable using Notifications and Push</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Tutorials/js13kGames/Loading\">Progressive loading</a></li></ol></details></li></ol></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to\"><strong>How to</strong></a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Trigger_install_prompt\">Trigger installation from your PWA</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Define_app_icons\">Define your app icons</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Create_a_standalone_app\">Create a standalone app</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Customize_your_app_colors\">Customize your app's theme and background colors</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Display_badge_on_app_icon\">Display a badge on the app icon</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Expose_common_actions_as_shortcuts\">Expose common app actions as shortcuts</a></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Share_data_between_apps\">Share data between apps</a></li><li><em><a href=\"/en-US/docs/Web/Progressive_web_apps/How_to/Associate_files_with_your_PWA\" aria-current=\"page\">Associate files with your PWA</a></em></li><li><a href=\"/en-US/docs/Web/Progressive_web_apps/Reference\"><strong>Reference</strong></a></li></ol>","sidebarMacro":"PWASidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>On a device, files are usually associated with apps, so when the user opens the file, the operating system launches the appropriate app and passes the file to it. For example, HTML files are often opened in a web browser, text files in a text editor, and videos in a video player.</p>\n<p>Progressive Web Apps can participate in this feature, so when the user clicks on files of specific types, the PWA may be launched to handle it.</p>\n<p>There are two parts to adding support for file handling:</p>\n<ul>\n  <li>Declare support for certain file types using the <a href=\"/en-US/docs/Web/Manifest/file_handlers\"><code>file_handlers</code></a> web app manifest member.</li>\n  <li>Handling files using the <a href=\"/en-US/docs/Web/API/LaunchQueue\"><code>LaunchQueue</code></a> interface.</li>\n</ul>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> At present this feature is only available on Chromium-based browsers, and only on desktop operating systems.</p>\n</div>"}},{"type":"prose","value":{"id":"declaring_support_for_file_types","title":"Declaring support for file types","isH3":false,"content":"<p>To declare support for particular file types, include the <a href=\"/en-US/docs/Web/Manifest/file_handlers\"><code>file_handlers</code></a> member in your <a href=\"/en-US/docs/Web/Manifest\">manifest file</a>.</p>\n<p>The <code>file_handlers</code> member is an array of file handler objects. Each file handler object has two mandatory properties, <code>action</code> and <code>accept</code>.</p>\n<ul>\n  <li>The <code>accept</code> property contains <a href=\"/en-US/docs/Glossary/MIME_type\">MIME types</a> and associated file extensions for files that the handler knows how to handle.</li>\n  <li>The <code>action</code> property is a URL to which the PWA will navigate when the user opens the file. This page must be in the PWA's scope.</li>\n</ul>\n<p>The manifest file below includes a <code>file_handlers</code> member with a single handler, which can handle <a href=\"/en-US/docs/Glossary/JPEG\">JPEG</a> and <a href=\"/en-US/docs/Glossary/PNG\">PNG</a> files, and will navigate to the PWA's root page when the user clicks one of these files.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">json</span></p><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"File handling demo\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"icons\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"src\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"icons/lightbulb.png\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"sizes\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"512x512\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"type\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"image/png\"</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"start_url\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"display\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"standalone\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"file_handlers\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"action\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token property\">\"accept\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">\"image/jpeg\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\".jpg\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\".jpeg\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token property\">\"image/png\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">\".png\"</span><span class=\"token punctuation\">]</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>With this manifest, once the PWA is installed, it may be opened when the user opens files of these types.</p>\n<p>More than one app can usually open files of any given type, so the operating system usually provides a feature enabling the user to choose which app to use to open a file, and to set a default handler. For example, on macOS, the user can right-click a file, select \"Get Info\", and configure the default handler in the resulting dialog:</p>\n<p>\n  <img src=\"/en-US/docs/Web/Progressive_web_apps/How_to/Associate_files_with_your_PWA/macos-get-info-dialog.png\" alt=\"Selecting the default handler on macOS\" width=\"524\" height=\"1060\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"asking_permission","title":"Asking permission","isH3":false,"content":"<p>The first time the browser is about to launch your PWA to handle one or more files that the user opened, it will ask the user to confirm that they want to use your PWA to open it. For example, the Chrome dialog looks like this:</p>\n<p>\n  <img src=\"/en-US/docs/Web/Progressive_web_apps/How_to/Associate_files_with_your_PWA/macos-chrome-launch-warning.png\" alt=\"Chrome warning dialog for launching PWA to handle a file\" width=\"988\" height=\"580\" loading=\"lazy\">\n</p>"}},{"type":"prose","value":{"id":"handling_the_files","title":"Handling the files","isH3":false,"content":"<p>When the browser launches your PWA and navigates to the page you specified in the <code>action</code> property of the <code>file_handlers</code> manifest member, you'll need to run some code to handle the file. This code will run in the page that was specified in the <code>action</code> property.</p>\n<p>The key interface here is <a href=\"/en-US/docs/Web/API/LaunchQueue\"><code>LaunchQueue</code></a>, which is available as a property of the global <a href=\"/en-US/docs/Web/API/Window\"><code>Window</code></a> object.</p>\n<p>The <code>LaunchQueue</code> interface has a single method, <a href=\"/en-US/docs/Web/API/LaunchQueue/setConsumer\" title=\"setConsumer()\"><code>setConsumer()</code></a>, which takes as an argument a callback function which will be called when the browser has launched the PWA with one or more files to handle.</p>\n<p>The callback is passed a <a href=\"/en-US/docs/Web/API/LaunchParams\"><code>LaunchParams</code></a> object, which includes a <a href=\"/en-US/docs/Web/API/LaunchParams/files\" title=\"files\"><code>files</code></a> property containing an array of <a href=\"/en-US/docs/Web/API/FileSystemHandle\"><code>FileSystemHandle</code></a> objects, each of which represents one of the files that the user opened.</p>\n<p>For example, the code below reads the files and assigns their contents to <a href=\"/en-US/docs/Web/HTML/Element/img\"><code>&lt;img&gt;</code></a> elements, which it adds to the page:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> imageContainer <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelector</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"#container\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"launchQueue\"</span> <span class=\"token keyword\">in</span> window<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  launchQueue<span class=\"token punctuation\">.</span><span class=\"token function\">setConsumer</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">launchParams</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> file <span class=\"token keyword\">of</span> launchParams<span class=\"token punctuation\">.</span>files<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> img <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"img\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      img<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> <span class=\"token constant\">URL</span><span class=\"token punctuation\">.</span><span class=\"token function\">createObjectURL</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> file<span class=\"token punctuation\">.</span><span class=\"token function\">getFile</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      imageContainer<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>img<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Note that the code checks that <code>launchQueue</code> exists before using it, to ensure the app behaves gracefully in browsers that don't support the API.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/Manifest/file_handlers\"><code>file_handlers</code></a> manifest member</li>\n  <li><a href=\"/en-US/docs/Web/API/LaunchQueue\"><code>LaunchQueue</code></a> interface</li>\n  <li><a href=\"/en-US/docs/Web/API/File_System_API\">File System API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/File_API\">File API</a></li>\n  <li><a href=\"https://developer.chrome.com/articles/file-handling/\" class=\"external\" target=\"_blank\">Let installed web applications be file handlers</a> on web.dev (2022)</li>\n  <li><a href=\"https://learn.microsoft.com/en-us/microsoft-edge/progressive-web-apps-chromium/how-to/handle-files\" class=\"external\" target=\"_blank\">Handle files in Progressive Web Apps</a> on learn.microsoft.com (2023)</li>\n</ul>"}}],"toc":[{"text":"Declaring support for file types","id":"declaring_support_for_file_types"},{"text":"Asking permission","id":"asking_permission"},{"text":"Handling the files","id":"handling_the_files"},{"text":"See also","id":"see_also"}],"summary":"On a device, files are usually associated with apps, so when the user opens the file, the operating system launches the appropriate app and passes the file to it. For example, HTML files are often opened in a web browser, text files in a text editor, and videos in a video player.","popularity":0.0019,"modified":"2023-08-02T14:09:01.000Z","source":{"folder":"en-us/web/progressive_web_apps/how_to/associate_files_with_your_pwa","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/progressive_web_apps/how_to/associate_files_with_your_pwa/index.md","last_commit_url":"https://github.com/mdn/content/commit/5885c6c72de0970c0eb264d02808658465bf1cee","filename":"index.md"},"short_title":"Associate files with your PWA","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/Progressive_web_apps","title":"Progressive web apps"},{"uri":"/en-US/docs/Web/Progressive_web_apps/How_to","title":"How to"},{"uri":"/en-US/docs/Web/Progressive_web_apps/How_to/Associate_files_with_your_PWA","title":"Associate files with your PWA"}],"pageTitle":"Associate files with your PWA - Progressive web apps | MDN","noIndexing":false}}