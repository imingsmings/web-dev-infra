<!doctype html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="icon" href="/favicon-48x48.cbbd161b.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.6803c6f0.png"/><meta name="theme-color" content="#ffffff"/><link rel="manifest" href="/manifest.56b1cedc.json"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"/><title>PaymentRequest: show() method - Web APIs | MDN</title><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en" /><meta name="robots" content="noindex, nofollow"><meta name="description" content="The PaymentRequest interface&apos;s
  show() method instructs the user agent to begin the
  process of showing and handling the user interface for the payment request to the
  user."/><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/show"/><meta property="og:title" content="PaymentRequest: show() method - Web APIs | MDN"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:description" content="The PaymentRequest interface&apos;s
  show() method instructs the user agent to begin the
  process of showing and handling the user interface for the payment request to the
  user."/><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.cd6c4a5a.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:height" content="1080"/><meta property="og:image:width" content="1920"/><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."/><meta property="og:site_name" content="MDN Web Docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="MozDevNet"/><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/API/PaymentRequest/show"/><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script defer="defer" src="/static/js/main.8204838d.js"></script><link href="/static/css/main.3551aa81.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e])}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="top-banner loading"><section class="place top container"></section></div><div class="sticky-header-container"><header class="top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zm10.4 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zm10.4 0v92.1H91V0h10.4z" class="logo-m"></path><path d="M627.9 95.6h67v8.8h-67v-8.8z" class="logo-_"></path><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zm34.9 20c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zm51 2.4c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zm69.2 18.5h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm53.1-1.4c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zm45 5.8c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zm34.7 1.9c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z" class="logo-text"></path></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container active"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Web/API" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container "><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/blog/">Blog</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/play">Play</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/plus/ai-help">AI Help <sup class="new beta">Beta</sup></a></li></ul></nav><div class="header-search"><form action="/en-US/search" class="search-form search-widget" id="top-nav-search-form" role="search"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input aria-activedescendant="" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-expanded="false" aria-labelledby="top-nav-search-label" autoComplete="off" id="top-nav-search-input" role="combobox" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""/><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPaymentRequest%2Fshow" class="login-link" rel="nofollow">Log in</a></li><li><a href="?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPaymentRequest%2Fshow" target="_self" class="button primary mdn-plus-subscribe-link"><span class="button-wrap">Sign up for free</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web/API"><span property="name">Web APIs</span></a><meta property="position" content="2"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web/API/PaymentRequest"><span property="name">PaymentRequest</span></a><meta property="position" content="3"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/en-US/docs/Web/API/PaymentRequest/show"><span property="name">show()</span></a><meta property="position" content="4"/></li></ol></nav></div></div></div><div class="main-wrapper"><div class="sidebar-container"><aside id="sidebar-quicklinks" class="sidebar" data-macro="APIRef"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><header class="sidebar-actions"><section class="sidebar-filter-container"><div class="sidebar-filter "><label id="sidebar-filter-label" class="sidebar-filter-label" for="sidebar-filter-input"><span class="icon icon-filter"></span><span class="visually-hidden">Filter sidebar</span></label><input id="sidebar-filter-input" autoComplete="off" class="sidebar-filter-input-field false" type="text" placeholder="Filter" value=""/><button type="button" class="button action has-icon clear-sidebar-filter-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear filter input</span></span></button></div></section></header><div class="sidebar-inner-nav"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#syntax">Syntax</a></li><li class="document-toc-item "><a class="document-toc-link" href="#security">Security</a></li><li class="document-toc-item "><a class="document-toc-link" href="#usage_notes">Usage notes</a></li><li class="document-toc-item "><a class="document-toc-link" href="#examples">Examples</a></li><li class="document-toc-item "><a class="document-toc-link" href="#specifications">Specifications</a></li><li class="document-toc-item "><a class="document-toc-link" href="#browser_compatibility">Browser compatibility</a></li><li class="document-toc-item "><a class="document-toc-link" href="#see_also">See also</a></li></ul></section></div></div><div class="sidebar-body"><ol><li><strong><a href="/en-US/docs/Web/API/Payment_Request_API">Payment Request API</a></strong></li><li><strong><a href="/en-US/docs/Web/API/PaymentRequest"><code>PaymentRequest</code></a></strong></li><li class="toggle"><details open=""><summary>Constructor</summary><ol><li><a href="/en-US/docs/Web/API/PaymentRequest/PaymentRequest"><code>PaymentRequest()</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Instance properties</summary><ol><li><a href="/en-US/docs/Web/API/PaymentRequest/id"><code>id</code></a></li><li><a href="/en-US/docs/Web/API/PaymentRequest/shippingAddress"><code>shippingAddress</code></a><abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using.">
    <span class="visually-hidden">Non-standard</span>
</abbr><abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></li><li><a href="/en-US/docs/Web/API/PaymentRequest/shippingOption"><code>shippingOption</code></a><abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using.">
    <span class="visually-hidden">Non-standard</span>
</abbr><abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></li><li><a href="/en-US/docs/Web/API/PaymentRequest/shippingType"><code>shippingType</code></a><abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using.">
    <span class="visually-hidden">Non-standard</span>
</abbr><abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></li></ol></details></li><li class="toggle"><details open=""><summary>Instance methods</summary><ol><li><a href="/en-US/docs/Web/API/PaymentRequest/abort"><code>abort()</code></a></li><li><a href="/en-US/docs/Web/API/PaymentRequest/canMakePayment"><code>canMakePayment()</code></a></li><li><em><code>show()</code> </em></li></ol></details></li><li class="toggle"><details open=""><summary>Events</summary><ol><li><a href="/en-US/docs/Web/API/PaymentRequest/merchantvalidation_event"><code>merchantvalidation</code></a><abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></li><li><a href="/en-US/docs/Web/API/PaymentRequest/paymentmethodchange_event"><code>paymentmethodchange</code></a></li><li><a href="/en-US/docs/Web/API/PaymentRequest/shippingaddresschange_event"><code>shippingaddresschange</code></a><abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using.">
    <span class="visually-hidden">Non-standard</span>
</abbr><abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></li><li><a href="/en-US/docs/Web/API/PaymentRequest/shippingoptionchange_event"><code>shippingoptionchange</code></a><abbr class="icon icon-nonstandard" title="Non-standard. Check cross-browser support before using.">
    <span class="visually-hidden">Non-standard</span>
</abbr><abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></li></ol></details></li><li class="toggle"><details open=""><summary>Inheritance:</summary><ol><li><a href="/en-US/docs/Web/API/EventTarget"><code>EventTarget</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Related pages for Payment Request API</summary><ol><li><a href="/en-US/docs/Web/API/HTMLIFrameElement/allowPaymentRequest"><code>HTMLIFrameElement.allowPaymentRequest</code></a></li><li><a href="/en-US/docs/Web/API/MerchantValidationEvent"><code>MerchantValidationEvent</code></a></li><li><a href="/en-US/docs/Web/API/PaymentAddress"><code>PaymentAddress</code></a></li><li><a href="/en-US/docs/Web/API/PaymentMethodChangeEvent"><code>PaymentMethodChangeEvent</code></a></li><li><a href="/en-US/docs/Web/API/PaymentRequestUpdateEvent"><code>PaymentRequestUpdateEvent</code></a></li><li><a href="/en-US/docs/Web/API/PaymentResponse"><code>PaymentResponse</code></a></li><li><a href="/en-US/docs/Web/API/SecurePaymentConfirmationRequest"><code>SecurePaymentConfirmationRequest</code></a></li></ol></details></li></ol></div></div></nav></aside><div class="toc-container"><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#syntax">Syntax</a></li><li class="document-toc-item "><a class="document-toc-link" href="#security">Security</a></li><li class="document-toc-item "><a class="document-toc-link" href="#usage_notes">Usage notes</a></li><li class="document-toc-item "><a class="document-toc-link" href="#examples">Examples</a></li><li class="document-toc-item "><a class="document-toc-link" href="#specifications">Specifications</a></li><li class="document-toc-item "><a class="document-toc-link" href="#browser_compatibility">Browser compatibility</a></li><li class="document-toc-item "><a class="document-toc-link" href="#see_also">See also</a></li></ul></section></div></nav></aside></div></div><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>PaymentRequest: show() method</h1></header><div class="section-content"><div class="notecard secure" id="sect1"><p><strong>Secure context:</strong> This feature is available only in <a href="/en-US/docs/Web/Security/Secure_Contexts">secure contexts</a> (HTTPS), in some or all <a href="#browser_compatibility">supporting browsers</a>.</p></div>
<p>
  The <strong><a href="/en-US/docs/Web/API/PaymentRequest"><code>PaymentRequest</code></a></strong> interface's
  <strong><code>show()</code></strong> method instructs the user agent to begin the
  process of showing and handling the user interface for the payment request to the
  user.
</p>
<p>
  Only one payment request can be in the process of being handled at once, across all
  documents. Once one <code>PaymentRequest</code>'s <code>show()</code> method has been
  called, any other call to <code>show()</code> will by rejected with an
  <code>AbortError</code> until the returned promise has been concluded, either by being
  fulfilled with a <a href="/en-US/docs/Web/API/PaymentResponse"><code>PaymentResponse</code></a> indicating the results of the payment
  request, or by being rejected with an error.
</p>
<div class="notecard note" id="sect2">
  <p>
    <strong>Note:</strong> In reality, despite the fact that the specification says this
    can't be done, some browsers, including Firefox, support multiple active payment
    requests at a time.
  </p>
</div>
<p>
  If your architecture doesn't necessarily have all of the data ready to go at the moment
  it instantiates the payment interface by calling <code>show()</code>, specify the
  <code>detailsPromise</code> parameter, providing a <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that is
  fulfilled once the data is ready. If this is provided, <code>show()</code> will not
  allow the user to interact with the payment interface until the promise is fulfilled, so
  that data can be updated prior to the user engaging with the payment process.
</p>
<p>
  Processing the result and, if necessary, calling <a href="/en-US/docs/Web/API/PaymentResponse/retry"><code>PaymentResponse.retry()</code></a>
  to retry a failed payment can all be done either asynchronously or synchronously,
  depending on your needs. For the best user experience, asynchronous solutions are
  typically the best way to go. Most examples on MDN and elsewhere use
  <a href="/en-US/docs/Web/JavaScript/Reference/Statements/async_function"><code>async</code></a>/<a href="/en-US/docs/Web/JavaScript/Reference/Operators/await"><code>await</code></a>
  to wait asynchronously while results are validated and so forth.
</p></div><section aria-labelledby="syntax"><h2 id="syntax"><a href="#syntax">Syntax</a></h2><div class="section-content"><div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">show</span><span class="token punctuation">(</span>detailsPromise<span class="token punctuation">)</span>
</code></pre></div></div></section><section aria-labelledby="parameters"><h3 id="parameters"><a href="#parameters">Parameters</a></h3><div class="section-content"><dl>
  <dt id="detailspromise"><a href="#detailspromise"><code>detailsPromise</code></a> <span class="badge inline optional">Optional</span></dt>
  <dd>
    <p>
      An optional <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that you can provide if your architecture requires
      that the payment request's details need to be updated between instantiating the
      payment interface and the user beginning to interact with it. The promise should
      resolve with an object containing the updated information:
    </p>
    <dl>
      <dt id="displayitems"><a href="#displayitems"><code>displayItems</code></a> <span class="badge inline optional">Optional</span></dt>
      <dd>
        <p>An array of objects, each describing one line item for the payment request. These represent the line items on a receipt or invoice, each with the following properties:</p>
        <dl>
          <dt id="amount"><a href="#amount"><code>amount</code></a></dt>
          <dd>
            <p>An object describing the monetary value of the item. This object includes the following fields:</p>
            <dl>
              <dt id="currency"><a href="#currency"><code>currency</code></a></dt>
              <dd>
                <p>A string containing a valid 3-letter <a href="https://www.iso.org/iso-4217-currency-codes.html" class="external" target="_blank">ISO 4217</a> currency identifier (<a href="https://en.wikipedia.org/wiki/ISO_4217" class="external" target="_blank">ISO 4217</a>) indicating the currency used for the payment <code>value</code>.</p>
              </dd>
              <dt id="value"><a href="#value"><code>value</code></a></dt>
              <dd>
                <p>A string containing a valid decimal value representing the mount of currency constituting the payment amount. This string must only contain an optional leading "-" to indicate a negative value, then one or more digits from 0 to 9, and an optional decimal point (".", regardless of locale) followed by at least one more digit. No whitespace is permitted.</p>
              </dd>
            </dl>
          </dd>
          <dt id="label"><a href="#label"><code>label</code></a></dt>
          <dd>
            <p>A string specifying a human-readable name or description of the item or service being charged for. This may be displayed to the user by the <a href="/en-US/docs/Glossary/User_agent">user agent</a>, depending on the design of the interface.</p>
          </dd>
          <dt id="pending"><a href="#pending"><code>pending</code></a></dt>
          <dd>
            <p>A Boolean value which is <code>true</code> if the specified <code>amount</code> has not yet been finalized. This can be used to show items such as shipping or tax amounts that depend upon the selection of shipping address, shipping option, or so forth. The user agent may show this information but is not required to do so.</p>
          </dd>
        </dl>
      </dd>
      <dt id="error"><a href="#error"><code>error</code></a> <span class="badge inline optional">Optional</span> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></dt>
      <dd>
        <p>A string specifying an error message to present to the user*.* When calling <a href="/en-US/docs/Web/API/PaymentRequestUpdateEvent/updateWith" title="updateWith()"><code>updateWith()</code></a>, including <code>error</code> in the updated data causes the <a href="/en-US/docs/Glossary/User_agent">user agent</a> to display the text as a general error message. For address field specific errors, use <code>shippingAddressErrors</code>.</p>
      </dd>
      <dt id="modifiers"><a href="#modifiers"><code>modifiers</code></a> <span class="badge inline optional">Optional</span></dt>
      <dd>
        <p>An array of <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!" data-flaw-src="{{domxref(&quot;PaymentDetailsModifier&quot;)}}"><code>PaymentDetailsModifier</code></a> objects, each describing a modifier for particular payment method identifiers. For example, you can use one to adjust the total payment amount based on the selected payment method ("5% cash discount!").</p>
      </dd>
      <dt id="shippingaddresserrors"><a href="#shippingaddresserrors"><code>shippingAddressErrors</code></a> <span class="badge inline optional">Optional</span> <abbr class="icon icon-deprecated" title="Deprecated. Not for use in new websites.">
  <span class="visually-hidden">Deprecated</span>
</abbr></dt>
      <dd>
        <p>An <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!" data-flaw-src="{{domxref(&quot;AddressErrors&quot;)}}"><code>AddressErrors</code></a> object which includes an error message for each property of the shipping address that could not be validated.</p>
      </dd>
      <dt id="shippingoptions"><a href="#shippingoptions"><code>shippingOptions</code></a> <span class="badge inline optional">Optional</span></dt>
      <dd>
        <p>An array of <a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!" data-flaw-src="{{domxref(&quot;PaymentShippingOption&quot;)}}"><code>PaymentShippingOption</code></a> objects, each describing one available shipping option from which the user may choose.</p>
      </dd>
      <dt id="total"><a href="#total"><code>total</code></a> <span class="badge inline optional">Optional</span></dt>
      <dd>
        <p>An object with the same properties as the objects in <code>displayItems</code> providing an updated total for the payment. Make sure this equals the sum of all of the items in <code>displayItems</code>. <em>This is not calculated automatically</em>. You must update this value yourself anytime the total amount due changes. This lets you have flexibility for how to handle things like tax, discounts, and other adjustments to the total price charged.</p>
      </dd>
    </dl>
  </dd>
</dl></div></section><section aria-labelledby="return_value"><h3 id="return_value"><a href="#return_value">Return value</a></h3><div class="section-content"><p>
  A <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that eventually resolves with a <a href="/en-US/docs/Web/API/PaymentResponse"><code>PaymentResponse</code></a>.
  The promise is resolved when the user accepts the payment request (such as by clicking a
  "Pay" button in the browser's payment sheet).
</p></div></section><section aria-labelledby="exceptions"><h3 id="exceptions"><a href="#exceptions">Exceptions</a></h3><div class="section-content"><p>Exceptions are not thrown but returned when the <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> rejects.</p>
<dl>
  <dt id="aborterror"><a href="#aborterror"><code>AbortError</code></a> <a href="/en-US/docs/Web/API/DOMException"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Returned if the
      <a href="/en-US/docs/Glossary/User_agent">user agent</a> is already showing a payment panel. Only one payment
      panel may be visible at a time <em>across all documents loaded by the user
agent</em>.
    </p>
    <p>
      The promise is also rejected with <code>AbortError</code> if the user cancels the
      payment request.
    </p>
  </dd>
  <dt id="invalidstateerror"><a href="#invalidstateerror"><code>InvalidStateError</code></a> <a href="/en-US/docs/Web/API/DOMException"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Returned if the same payment has
      already been shown for this request (its state is <code>interactive</code> because it
      is being shown already).
    </p>
  </dd>
  <dt id="notsupportederror"><a href="#notsupportederror"><code>NotSupportedError</code></a> <a href="/en-US/docs/Web/API/DOMException"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Returned if the user agent does not
      support the payment methods specified when the
      <a href="/en-US/docs/Web/API/PaymentRequest/PaymentRequest" title="PaymentRequest"><code>PaymentRequest</code></a> constructor was called.
    </p>
  </dd>
  <dt id="securityerror"><a href="#securityerror"><code>SecurityError</code></a> <a href="/en-US/docs/Web/API/DOMException"><code>DOMException</code></a></dt>
  <dd>
    <p>
      Returned if the call to
      <code>show()</code> was not in response to a user action, such as a <a href="/en-US/docs/Web/API/Element/click_event" title="click"><code>click</code></a>
      or <a href="/en-US/docs/Web/API/Element/keyup_event" title="keyup"><code>keyup</code></a> event. Other reasons a <code>SecurityError</code> may be thrown
      are at the discretion of the user agent, and may include situations such as too many
      calls to <code>show()</code> being made in a short time or <code>show()</code> being
      called while payment requests are blocked by parental controls.
    </p>
  </dd>
</dl></div></section><section aria-labelledby="security"><h2 id="security"><a href="#security">Security</a></h2><div class="section-content"><p><a href="/en-US/docs/Web/Security/User_activation">Transient user activation</a> is required. The user has to interact with the page or a UI element in order for this feature to work.</p></div></section><section aria-labelledby="usage_notes"><h2 id="usage_notes"><a href="#usage_notes">Usage notes</a></h2><div class="section-content"><p>
  The most common patterns for using <code>show()</code> involve either the
  <a href="/en-US/docs/Web/JavaScript/Reference/Statements/async_function"><code>async</code></a>/<a href="/en-US/docs/Web/JavaScript/Reference/Operators/await"><code>await</code></a>
  syntax or the use of <code>show().then().catch()</code> to handle the response and any
  possible rejection. Those look like this:
</p></div></section><section aria-labelledby="asyncawait_syntax"><h3 id="asyncawait_syntax"><a href="#asyncawait_syntax">async/await syntax</a></h3><div class="section-content"><p>
  Using <code>await</code> to wait for a promise to be resolved makes it possible to
  write the code to handle payments particularly cleanly:
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">processPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> payRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PaymentRequest</span><span class="token punctuation">(</span>methodData<span class="token punctuation">,</span> details<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>

    payRequest<span class="token punctuation">.</span><span class="token function-variable function">onshippingaddresschange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      ev<span class="token punctuation">.</span><span class="token function">updateWith</span><span class="token punctuation">(</span><span class="token function">checkAddress</span><span class="token punctuation">(</span>payRequest<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    payRequest<span class="token punctuation">.</span><span class="token function-variable function">onshippingoptionchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
      ev<span class="token punctuation">.</span><span class="token function">updateWith</span><span class="token punctuation">(</span><span class="token function">checkShipping</span><span class="token punctuation">(</span>payRequest<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> payRequest<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">validateResponse</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* handle the error; AbortError usually means a user cancellation */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>
  In this code, the methods <code>checkAddress()</code> and <code>checkShipping()</code>,
  respectively, check the shipping address and the shipping option changes and supply in
  response either an object or a promise to return one;
  this object contains the fields in the <a href="/en-US/docs/Web/API/PaymentResponse"><code>PaymentResponse</code></a> which have been or
  need to be changed.
</p>
<p>
  The <code>validateResponse()</code> method, below, is called once <code>show()</code>
  returns, in order to look at the returned <code>response</code> and either submit the
  payment or reject the payment as failed:
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">validateResponse</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">checkAllValues</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>
  Here, a custom function called <code>checkAllValues()</code> looks at each value in the
  <code>response</code> and ensures that they're valid, returning <code>true</code> if
  every field is valid or <code>false</code> if any are not. If and only if every field is
  valid, the <a href="/en-US/docs/Web/API/PaymentResponse/complete" title="complete()"><code>complete()</code></a> method is called on the
  response with the string <code>"success"</code>, which indicates that everything is
  valid and that the payment can complete accordingly.
</p>
<p>
  If any fields have unacceptable values, or if an exception is thrown by the previous
  code, <code>complete()</code> is called with the string <code>"fail"</code>, which
  indicates that the payment process is complete and failed.
</p>
<p>
  Instead of immediately failing, you could choose to call
  <a href="/en-US/docs/Web/API/PaymentResponse/retry" title="retry()"><code>retry()</code></a> on the response object to ask the user
  agent to try to process the payment again; this should usually only be done after the
  user has made any needed corrections to the order.
</p>
<p>
  Starting the payment process, in the end, is as simple as calling the
  <code>processPayment()</code> method.
</p></div></section><section aria-labelledby="thencatch_syntax"><h3 id="thencatch_syntax"><a href="#thencatch_syntax">then/catch syntax</a></h3><div class="section-content"><p>
  You can also use the older promise-based approach to work with payments, using the
  <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then"><code>then()</code></a> and <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch"><code>catch()</code></a>
  functions on the promise returned by <code>show()</code>:
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">processPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> payRequest <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PaymentRequest</span><span class="token punctuation">(</span>methodData<span class="token punctuation">,</span> details<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>

  payRequest<span class="token punctuation">.</span><span class="token function-variable function">onshippingaddresschange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    ev<span class="token punctuation">.</span><span class="token function">updateWith</span><span class="token punctuation">(</span><span class="token function">checkAddress</span><span class="token punctuation">(</span>payRequest<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  payRequest<span class="token punctuation">.</span><span class="token function-variable function">onshippingoptionchange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">ev</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
    ev<span class="token punctuation">.</span><span class="token function">updateWith</span><span class="token punctuation">(</span><span class="token function">checkShipping</span><span class="token punctuation">(</span>payRequest<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  payRequest
    <span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">validateResponse</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleError</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>
  This is functionally equivalent to the <code>processPayment()</code> method using the
  <code>await</code> syntax.
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">validateResponse</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">checkAllValues</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"fail"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>
  You could even have <code>checkAllValues()</code> be a synchronous function, although
  that may have performance implications you don't want to deal with:
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">validateResponse</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">checkAllValues</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"fail"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>
  See the article <a href="/en-US/docs/Web/JavaScript/Guide/Using_promises">Using promises</a> for more information if you need more information about working with
  promises.
</p></div></section><section aria-labelledby="examples"><h2 id="examples"><a href="#examples">Examples</a></h2><div class="section-content"><p>
  In the following example, a <code>PaymentRequest</code> object is instantiated before
  the <code>show()</code> method is called. This method triggers the user agent's built-in
  process for retrieving payment information from the user. The <code>show()</code> method
  returns a <a href="/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise"><code>Promise</code></a> that resolves to a <a href="/en-US/docs/Web/API/PaymentResponse"><code>PaymentResponse</code></a> object
  when the user interaction is complete. The developer then uses the information in
  the <code>PaymentResponse</code> object to format and send payment data to the server.
  You should send the payment information to the server asynchronously so that the final
  call to <a href="/en-US/docs/Web/API/PaymentResponse/complete"><code>paymentResponse.complete()</code></a> can indicate the success or failure of
  the payment.
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code>button<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">handlePurchase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// Initialization of PaymentRequest arguments are excerpted for the sake of</span>
  <span class="token comment">// brevity.</span>
  <span class="token keyword">const</span> payment <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PaymentRequest</span><span class="token punctuation">(</span>methods<span class="token punctuation">,</span> details<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> payment<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Process response here, including sending payment instrument</span>
    <span class="token comment">// (e.g., credit card) information to the server.</span>
    <span class="token comment">// paymentResponse.methodName contains the selected payment method</span>
    <span class="token comment">// paymentResponse.details contains a payment method specific response</span>
    <span class="token keyword">await</span> response<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Uh oh, something bad happened"</span><span class="token punctuation">,</span> err<span class="token punctuation">.</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div>
<p>
  The following example shows how to update the payment sheet as it's being presented to
  the end-user.
</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">requestPayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// We start with AU$0 as the total.</span>
  <span class="token keyword">const</span> initialDetails <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Total"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"0"</span><span class="token punctuation">,</span> <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">"AUD"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> request <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PaymentRequest</span><span class="token punctuation">(</span>methods<span class="token punctuation">,</span> initialDetails<span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Check if the user supports the `methods`</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token function">canMakePayment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span> <span class="token comment">// no, so use a web form instead.</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Let's update the total as the sheet is shown</span>
  <span class="token keyword">const</span> updatedDetails <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">"Total"</span><span class="token punctuation">,</span>
      <span class="token literal-property property">amount</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"20"</span><span class="token punctuation">,</span> <span class="token literal-property property">currency</span><span class="token operator">:</span> <span class="token string">"AUD"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> request<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>updatedDetails<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Check response, etc.</span>
<span class="token punctuation">}</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"buyButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>onclick <span class="token operator">=</span> requestPayment<span class="token punctuation">;</span>
</code></pre></div></div></section><h2 id="specifications"><a href="#specifications">Specifications</a></h2><table class="standard-table"><thead><tr><th scope="col">Specification</th></tr></thead><tbody><tr><td><a href="https://w3c.github.io/payment-request/#dom-paymentrequest-show">Payment Request API 1.1<!-- --> <br/><small># <!-- -->dom-paymentrequest-show</small></a></td></tr></tbody></table><h2 id="browser_compatibility"><a href="#browser_compatibility">Browser compatibility</a></h2><p>BCD tables only load in the browser<noscript> <!-- -->with JavaScript enabled. Enable JavaScript to view data.</noscript></p><section aria-labelledby="see_also"><h2 id="see_also"><a href="#see_also">See also</a></h2><div class="section-content"><ul>
  <li><a href="/en-US/docs/Web/API/Payment_Request_API">Payment Request API</a></li>
  <li><a href="/en-US/docs/Web/API/Payment_Request_API/Using_the_Payment_Request_API">Using the Payment Request API</a></li>
  <li><a href="/en-US/docs/Web/API/PaymentRequest/abort"><code>PaymentRequest.abort()</code></a></li>
  <li><a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!" data-flaw-src="{{domxref(&quot;PaymentRequest.retry()&quot;)}}"><code>PaymentRequest.retry()</code></a></li>
  <li><a class="page-not-created" title="The documentation about this has not yet been written; please consider contributing!" data-flaw-src="{{domxref(&quot;PaymentRequest.complete()&quot;)}}"><code>PaymentRequest.complete()</code></a></li>
  <li><a href="/en-US/docs/Web/API/PaymentResponse"><code>PaymentResponse</code></a></li>
</ul></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/paymentrequest/show/index.md" title="This will take you to GitHub, where you&#x27;ll need to sign in first." target="_blank" rel="noopener noreferrer">Edit the page on GitHub</a>.</li><li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPaymentRequest%2Fshow&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fpaymentrequest%2Fshow%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPaymentRequest%2Fshow%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fpaymentrequest%2Fshow%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F312081aabba3885b35a81107b3c2fc53428896c5%0A*+Document+last+modified%3A+2023-04-07T06%3A19%3A30.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">Report the content issue</a>.</li><li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/paymentrequest/show/index.md?plain=1" title="Folder: en-us/web/api/paymentrequest/show (Opens in a new tab)" target="_blank" rel="noopener noreferrer">View the source on GitHub</a>.</li></ul>Want to get more involved?<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">Learn how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time dateTime="2023-04-07T06:19:30.000Z">Apr 7, 2023</time> by<!-- --> <a href="/en-US/docs/Web/API/PaymentRequest/show/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div></div><footer id="nav-footer" class="page-footer"><div class="page-footer-grid"><div class="page-footer-logo-col"><a href="/" class="mdn-footer-logo" aria-label="MDN homepage"><svg width="48" height="17" viewBox="0 0 48 17" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mdn-footer-logo-svg">MDN logo</title><path d="M20.04 16.512H15.504V10.416C15.504 9.488 15.344 8.824 15.024 8.424C14.72 8.024 14.264 7.824 13.656 7.824C12.92 7.824 12.384 8.064 12.048 8.544C11.728 9.024 11.568 9.64 11.568 10.392V14.184H13.008V16.512H8.472V10.416C8.472 9.488 8.312 8.824 7.992 8.424C7.688 8.024 7.232 7.824 6.624 7.824C5.872 7.824 5.336 8.064 5.016 8.544C4.696 9.024 4.536 9.64 4.536 10.392V14.184H6.6V16.512H0V14.184H1.44V8.04H0.024V5.688H4.536V7.32C5.224 6.088 6.32 5.472 7.824 5.472C8.608 5.472 9.328 5.664 9.984 6.048C10.64 6.432 11.096 7.016 11.352 7.8C11.992 6.248 13.168 5.472 14.88 5.472C15.856 5.472 16.72 5.776 17.472 6.384C18.224 6.992 18.6 7.936 18.6 9.216V14.184H20.04V16.512Z" fill="currentColor"></path><path d="M33.6714 16.512H29.1354V14.496C28.8314 15.12 28.3834 15.656 27.7914 16.104C27.1994 16.536 26.4154 16.752 25.4394 16.752C24.0154 16.752 22.8954 16.264 22.0794 15.288C21.2634 14.312 20.8554 12.984 20.8554 11.304C20.8554 9.688 21.2554 8.312 22.0554 7.176C22.8554 6.04 24.0634 5.472 25.6794 5.472C26.5594 5.472 27.2794 5.648 27.8394 6C28.3994 6.352 28.8314 6.8 29.1354 7.344V2.352H26.9754V0H32.2314V14.184H33.6714V16.512ZM29.1354 11.04V10.776C29.1354 9.88 28.8954 9.184 28.4154 8.688C27.9514 8.176 27.3674 7.92 26.6634 7.92C25.9754 7.92 25.3674 8.176 24.8394 8.688C24.3274 9.2 24.0714 10.008 24.0714 11.112C24.0714 12.152 24.3114 12.944 24.7914 13.488C25.2714 14.032 25.8394 14.304 26.4954 14.304C27.3114 14.304 27.9514 13.96 28.4154 13.272C28.8954 12.584 29.1354 11.84 29.1354 11.04Z" fill="currentColor"></path><path d="M47.9589 16.512H41.9829V14.184H43.4229V10.416C43.4229 9.488 43.2629 8.824 42.9429 8.424C42.6389 8.024 42.1829 7.824 41.5749 7.824C40.8389 7.824 40.2709 8.056 39.8709 8.52C39.4709 8.968 39.2629 9.56 39.2469 10.296V14.184H40.6869V16.512H34.7109V14.184H36.1509V8.04H34.5909V5.688H39.2469V7.344C39.9669 6.096 41.1269 5.472 42.7269 5.472C43.7509 5.472 44.6389 5.776 45.3909 6.384C46.1429 6.992 46.5189 7.936 46.5189 9.216V14.184H47.9589V16.512Z" fill="currentColor"></path></svg></a><p>Your blueprint for a better internet.</p><ul class="social-icons"><li><a class="icon icon-mastodon" href="https://mozilla.social/@mdn" target="_blank" rel="me noopener noreferrer"><span class="visually-hidden">MDN on Mastodon</span></a></li><li><a class="icon icon-twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="icon icon-github-mark-small" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on GitHub</span></a></li><li><a class="icon icon-feed" href="/en-US/blog/rss.xml" target="_blank"><span class="visually-hidden">MDN Blog RSS Feed</span></a></li></ul></div><div class="page-footer-nav-col-1"><h2 class="footer-nav-heading">MDN</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a href="/en-US/about">About</a></li><li class="footer-nav-item"><a href="/en-US/blog/">Blog</a></li><li class="footer-nav-item"><a href="https://www.mozilla.org/en-US/careers/listings/?team=ProdOps" target="_blank" rel="noopener noreferrer">Careers</a></li><li class="footer-nav-item"><a href="/en-US/advertising">Advertise with us</a></li></ul></div><div class="page-footer-nav-col-2"><h2 class="footer-nav-heading">Support</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/MDN/Community/Issues">Report an issue</a></li></ul></div><div class="page-footer-nav-col-3"><h2 class="footer-nav-heading">Our communities</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/community">MDN Community</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="https://discourse.mozilla.org/c/mdn/236" target="_blank" rel="noopener noreferrer">MDN Forum</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/discord" target="_blank" rel="noopener noreferrer">MDN Chat</a></li></ul></div><div class="page-footer-nav-col-4"><h2 class="footer-nav-heading">Developers</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Web">Web Technologies</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Learn">Learn Web Development</a></li><li class="footer-nav-item"><a href="https://hacks.mozilla.org/" target="_blank" rel="noopener noreferrer">Hacks Blog</a></li></ul></div><div class="page-footer-moz"><a href="https://www.mozilla.org/" class="footer-moz-logo-link" target="_blank" rel="noopener noreferrer"><svg width="112" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mozilla-footer-logo-svg">Mozilla logo</title><path d="M41.753 14.218c-2.048 0-3.324 1.522-3.324 4.157 0 2.423 1.119 4.286 3.29 4.286 2.082 0 3.447-1.678 3.447-4.347 0-2.826-1.522-4.096-3.413-4.096Zm54.89 7.044c0 .901.437 1.618 1.645 1.618 1.427 0 2.949-1.024 3.044-3.352-.649-.095-1.365-.185-2.02-.185-1.426-.005-2.668.397-2.668 1.92Z" fill="currentColor"></path><path d="M0 0v32h111.908V0H0Zm32.56 25.426h-5.87v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h1.864v3.044h-5.864v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h2.669v3.044H6.642v-3.044h1.863v-7.918H6.642V11.42h5.864v2.11c.839-1.489 2.3-2.39 4.252-2.39 2.02 0 3.878.963 4.566 3.01.778-1.862 2.361-3.01 4.566-3.01 2.512 0 4.812 1.522 4.812 4.84v6.402h1.863v3.044h-.005Zm9.036.307c-4.314 0-7.296-2.635-7.296-7.106 0-4.096 2.484-7.481 7.514-7.481s7.481 3.38 7.481 7.29c0 4.472-3.228 7.297-7.699 7.297Zm22.578-.307H51.942l-.403-2.11 7.7-8.846h-4.376l-.621 2.17-2.888-.313.498-4.907h12.294l.313 2.11-7.767 8.852h4.533l.654-2.172 3.167.308-.872 4.908Zm7.99 0h-4.191v-5.03h4.19v5.03Zm0-8.976h-4.191v-5.03h4.19v5.03Zm2.618 8.976 6.054-21.358h3.945l-6.054 21.358h-3.945Zm8.136 0 6.048-21.358h3.945l-6.054 21.358h-3.939Zm21.486.307c-1.863 0-2.887-1.085-3.072-2.792-.805 1.427-2.232 2.792-4.498 2.792-2.02 0-4.314-1.085-4.314-4.006 0-3.447 3.323-4.253 6.518-4.253.778 0 1.584.034 2.3.124v-.465c0-1.427-.034-3.133-2.3-3.133-.84 0-1.488.061-2.143.402l-.453 1.578-3.195-.34.549-3.224c2.45-.996 3.692-1.27 5.992-1.27 3.01 0 5.556 1.55 5.556 4.75v6.083c0 .805.314 1.085.963 1.085.184 0 .375-.034.587-.095l.034 2.11a5.432 5.432 0 0 1-2.524.654Z" fill="currentColor"></path></svg></a><ul class="footer-moz-list"><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Website Privacy Notice</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/#cookies" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Cookies</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/legal/terms/mozilla" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Legal</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/governance/policies/participation/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Community Participation Guidelines</a></li></ul></div><div class="page-footer-legal"><p id="license" class="page-footer-legal-text">Visit<!-- --> <a href="https://www.mozilla.org" target="_blank" rel="noopener noreferrer">Mozilla Corporation’s</a> <!-- -->not-for-profit parent, the<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://foundation.mozilla.org/">Mozilla Foundation</a>.<br/>Portions of this content are ©1998–<!-- -->2023<!-- --> by individual mozilla.org contributors. Content available under<!-- --> <a href="/en-US/docs/MDN/Writing_guidelines/Attrib_copyright_license">a Creative Commons license</a>.</p></div></div></footer></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{"macros":[{"id":"macro0","fixable":false,"suggestion":null,"explanation":"/en-US/docs/Web/API/PaymentDetailsModifier does not exist","name":"MacroBrokenLinkError","error":{},"errorStack":"Error: /en-US/docs/Web/API/PaymentDetailsModifier does not exist\n    at Object.recordNonFatalError (file:///Users/jason/Code/yari/kumascript/src/render.ts:88:13)\n    at Object.smartLink (file:///Users/jason/Code/yari/kumascript/src/api/web.ts:121:29)\n    at eval (\"/Users/jason/Code/yari/kumascript/macros/DOMxRef.ejs\":60:18)\n    at DOMxRef (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:703:17)\n    at /Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:260:40\n    at new Promise (<anonymous>)\n    at tryHandleCache (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:258:14)\n    at exports.renderFile (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:491:10)\n    at Templates.render (file:///Users/jason/Code/yari/kumascript/src/templates.ts:55:40)\n    at render (file:///Users/jason/Code/yari/kumascript/src/render.ts:181:56)","offset":8,"line":96,"column":24,"macroName":"domxref","sourceContext":"  |       <dt><code>modifiers</code> {{optional_inline}}</dt>\n  |       <dd>\n> |         <p>An array of {{domxref(\"PaymentDetailsModifier\")}} objects, each describing a modifier for particular payment method identifiers. For example, you can use one to adjust the total payment amount based on the selected payment method (\"5% cash discount!\").</p>\n                           ^\n  |       </dd>\n  |       <dt><code>shippingAddressErrors</code> {{optional_inline}} {{deprecated_inline}}</dt>","fatal":false,"filepath":"/Users/jason/Code/content/files/en-us/web/api/paymentrequest/show/index.md","macroSource":"{{domxref(\"PaymentDetailsModifier\")}}"},{"id":"macro1","fixable":false,"suggestion":null,"explanation":"/en-US/docs/Web/API/AddressErrors does not exist","name":"MacroBrokenLinkError","error":{},"errorStack":"Error: /en-US/docs/Web/API/AddressErrors does not exist\n    at Object.recordNonFatalError (file:///Users/jason/Code/yari/kumascript/src/render.ts:88:13)\n    at Object.smartLink (file:///Users/jason/Code/yari/kumascript/src/api/web.ts:121:29)\n    at eval (\"/Users/jason/Code/yari/kumascript/macros/DOMxRef.ejs\":60:18)\n    at DOMxRef (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:703:17)\n    at /Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:260:40\n    at new Promise (<anonymous>)\n    at tryHandleCache (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:258:14)\n    at exports.renderFile (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:491:10)\n    at Templates.render (file:///Users/jason/Code/yari/kumascript/src/templates.ts:55:40)\n    at render (file:///Users/jason/Code/yari/kumascript/src/render.ts:181:56)","offset":8,"line":100,"column":15,"macroName":"domxref","sourceContext":"  |       <dt><code>shippingAddressErrors</code> {{optional_inline}} {{deprecated_inline}}</dt>\n  |       <dd>\n> |         <p>An {{domxref(\"AddressErrors\")}} object which includes an error message for each property of the shipping address that could not be validated.</p>\n                  ^\n  |       </dd>\n  |       <dt><code>shippingOptions</code> {{optional_inline}}</dt>","fatal":false,"filepath":"/Users/jason/Code/content/files/en-us/web/api/paymentrequest/show/index.md","macroSource":"{{domxref(\"AddressErrors\")}}"},{"id":"macro2","fixable":false,"suggestion":null,"explanation":"/en-US/docs/Web/API/PaymentShippingOption does not exist","name":"MacroBrokenLinkError","error":{},"errorStack":"Error: /en-US/docs/Web/API/PaymentShippingOption does not exist\n    at Object.recordNonFatalError (file:///Users/jason/Code/yari/kumascript/src/render.ts:88:13)\n    at Object.smartLink (file:///Users/jason/Code/yari/kumascript/src/api/web.ts:121:29)\n    at eval (\"/Users/jason/Code/yari/kumascript/macros/DOMxRef.ejs\":60:18)\n    at DOMxRef (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:703:17)\n    at /Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:260:40\n    at new Promise (<anonymous>)\n    at tryHandleCache (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:258:14)\n    at exports.renderFile (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:491:10)\n    at Templates.render (file:///Users/jason/Code/yari/kumascript/src/templates.ts:55:40)\n    at render (file:///Users/jason/Code/yari/kumascript/src/render.ts:181:56)","offset":8,"line":104,"column":24,"macroName":"domxref","sourceContext":"  |       <dt><code>shippingOptions</code> {{optional_inline}}</dt>\n  |       <dd>\n> |         <p>An array of {{domxref(\"PaymentShippingOption\")}} objects, each describing one available shipping option from which the user may choose.</p>\n                           ^\n  |       </dd>\n  |       <dt><code>total</code> {{optional_inline}}</dt>","fatal":false,"filepath":"/Users/jason/Code/content/files/en-us/web/api/paymentrequest/show/index.md","macroSource":"{{domxref(\"PaymentShippingOption\")}}"},{"id":"macro3","fixable":false,"suggestion":null,"explanation":"/en-US/docs/Web/API/PaymentRequest/retry does not exist","name":"MacroBrokenLinkError","error":{},"errorStack":"Error: /en-US/docs/Web/API/PaymentRequest/retry does not exist\n    at Object.recordNonFatalError (file:///Users/jason/Code/yari/kumascript/src/render.ts:88:13)\n    at Object.smartLink (file:///Users/jason/Code/yari/kumascript/src/api/web.ts:121:29)\n    at eval (\"/Users/jason/Code/yari/kumascript/macros/DOMxRef.ejs\":60:18)\n    at DOMxRef (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:703:17)\n    at /Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:260:40\n    at new Promise (<anonymous>)\n    at tryHandleCache (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:258:14)\n    at exports.renderFile (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:491:10)\n    at Templates.render (file:///Users/jason/Code/yari/kumascript/src/templates.ts:55:40)\n    at render (file:///Users/jason/Code/yari/kumascript/src/render.ts:181:56)","offset":8,"line":351,"column":7,"macroName":"domxref","sourceContext":"  |   <li><a href=\"/en-US/docs/Web/API/Payment_Request_API/Using_the_Payment_Request_API\">Using the Payment Request API</a></li>\n  |   <li>{{domxref('PaymentRequest.abort()')}}</li>\n> |   <li>{{domxref(\"PaymentRequest.retry()\")}}</li>\n          ^\n  |   <li>{{domxref(\"PaymentRequest.complete()\")}}</li>\n  |   <li>{{domxref(\"PaymentResponse\")}}</li>","fatal":false,"filepath":"/Users/jason/Code/content/files/en-us/web/api/paymentrequest/show/index.md","macroSource":"{{domxref(\"PaymentRequest.retry()\")}}"},{"id":"macro4","fixable":false,"suggestion":null,"explanation":"/en-US/docs/Web/API/PaymentRequest/complete does not exist","name":"MacroBrokenLinkError","error":{},"errorStack":"Error: /en-US/docs/Web/API/PaymentRequest/complete does not exist\n    at Object.recordNonFatalError (file:///Users/jason/Code/yari/kumascript/src/render.ts:88:13)\n    at Object.smartLink (file:///Users/jason/Code/yari/kumascript/src/api/web.ts:121:29)\n    at eval (\"/Users/jason/Code/yari/kumascript/macros/DOMxRef.ejs\":60:18)\n    at DOMxRef (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:703:17)\n    at /Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:260:40\n    at new Promise (<anonymous>)\n    at tryHandleCache (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:258:14)\n    at exports.renderFile (/Users/jason/Code/yari/node_modules/ejs/lib/ejs.js:491:10)\n    at Templates.render (file:///Users/jason/Code/yari/kumascript/src/templates.ts:55:40)\n    at render (file:///Users/jason/Code/yari/kumascript/src/render.ts:181:56)","offset":8,"line":352,"column":7,"macroName":"domxref","sourceContext":"  |   <li>{{domxref('PaymentRequest.abort()')}}</li>\n  |   <li>{{domxref(\"PaymentRequest.retry()\")}}</li>\n> |   <li>{{domxref(\"PaymentRequest.complete()\")}}</li>\n          ^\n  |   <li>{{domxref(\"PaymentResponse\")}}</li>\n  | </ul>","fatal":false,"filepath":"/Users/jason/Code/content/files/en-us/web/api/paymentrequest/show/index.md","macroSource":"{{domxref(\"PaymentRequest.complete()\")}}"}]},"title":"PaymentRequest: show() method","mdn_url":"/en-US/docs/Web/API/PaymentRequest/show","locale":"en-US","native":"English (US)","browserCompat":["api.PaymentRequest.show"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Payment_Request_API\">Payment Request API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/PaymentRequest\"><code>PaymentRequest</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Constructor</summary><ol><li><a href=\"/en-US/docs/Web/API/PaymentRequest/PaymentRequest\"><code>PaymentRequest()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/PaymentRequest/id\"><code>id</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/shippingAddress\"><code>shippingAddress</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/shippingOption\"><code>shippingOption</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/shippingType\"><code>shippingType</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/PaymentRequest/abort\"><code>abort()</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/canMakePayment\"><code>canMakePayment()</code></a></li><li><em><code>show()</code> </em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/PaymentRequest/merchantvalidation_event\"><code>merchantvalidation</code></a><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/paymentmethodchange_event\"><code>paymentmethodchange</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/shippingaddresschange_event\"><code>shippingaddresschange</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest/shippingoptionchange_event\"><code>shippingoptionchange</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr><abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Payment Request API</summary><ol><li><a href=\"/en-US/docs/Web/API/HTMLIFrameElement/allowPaymentRequest\"><code>HTMLIFrameElement.allowPaymentRequest</code></a></li><li><a href=\"/en-US/docs/Web/API/MerchantValidationEvent\"><code>MerchantValidationEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentAddress\"><code>PaymentAddress</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentMethodChangeEvent\"><code>PaymentMethodChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequestUpdateEvent\"><code>PaymentRequestUpdateEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a></li><li><a href=\"/en-US/docs/Web/API/SecurePaymentConfirmationRequest\"><code>SecurePaymentConfirmationRequest</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>\n  The <strong><a href=\"/en-US/docs/Web/API/PaymentRequest\"><code>PaymentRequest</code></a></strong> interface's\n  <strong><code>show()</code></strong> method instructs the user agent to begin the\n  process of showing and handling the user interface for the payment request to the\n  user.\n</p>\n<p>\n  Only one payment request can be in the process of being handled at once, across all\n  documents. Once one <code>PaymentRequest</code>'s <code>show()</code> method has been\n  called, any other call to <code>show()</code> will by rejected with an\n  <code>AbortError</code> until the returned promise has been concluded, either by being\n  fulfilled with a <a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a> indicating the results of the payment\n  request, or by being rejected with an error.\n</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p>\n    <strong>Note:</strong> In reality, despite the fact that the specification says this\n    can't be done, some browsers, including Firefox, support multiple active payment\n    requests at a time.\n  </p>\n</div>\n<p>\n  If your architecture doesn't necessarily have all of the data ready to go at the moment\n  it instantiates the payment interface by calling <code>show()</code>, specify the\n  <code>detailsPromise</code> parameter, providing a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that is\n  fulfilled once the data is ready. If this is provided, <code>show()</code> will not\n  allow the user to interact with the payment interface until the promise is fulfilled, so\n  that data can be updated prior to the user engaging with the payment process.\n</p>\n<p>\n  Processing the result and, if necessary, calling <a href=\"/en-US/docs/Web/API/PaymentResponse/retry\"><code>PaymentResponse.retry()</code></a>\n  to retry a failed payment can all be done either asynchronously or synchronously,\n  depending on your needs. For the best user experience, asynchronous solutions are\n  typically the best way to go. Most examples on MDN and elsewhere use\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\"><code>async</code></a>/<a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\"><code>await</code></a>\n  to wait asynchronously while results are validated and so forth.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">show</span><span class=\"token punctuation\">(</span>detailsPromise<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"detailspromise\"><a href=\"#detailspromise\"><code>detailsPromise</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>\n      An optional <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that you can provide if your architecture requires\n      that the payment request's details need to be updated between instantiating the\n      payment interface and the user beginning to interact with it. The promise should\n      resolve with an object containing the updated information:\n    </p>\n    <dl>\n      <dt id=\"displayitems\"><a href=\"#displayitems\"><code>displayItems</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>An array of objects, each describing one line item for the payment request. These represent the line items on a receipt or invoice, each with the following properties:</p>\n        <dl>\n          <dt id=\"amount\"><a href=\"#amount\"><code>amount</code></a></dt>\n          <dd>\n            <p>An object describing the monetary value of the item. This object includes the following fields:</p>\n            <dl>\n              <dt id=\"currency\"><a href=\"#currency\"><code>currency</code></a></dt>\n              <dd>\n                <p>A string containing a valid 3-letter <a href=\"https://www.iso.org/iso-4217-currency-codes.html\" class=\"external\" target=\"_blank\">ISO 4217</a> currency identifier (<a href=\"https://en.wikipedia.org/wiki/ISO_4217\" class=\"external\" target=\"_blank\">ISO 4217</a>) indicating the currency used for the payment <code>value</code>.</p>\n              </dd>\n              <dt id=\"value\"><a href=\"#value\"><code>value</code></a></dt>\n              <dd>\n                <p>A string containing a valid decimal value representing the mount of currency constituting the payment amount. This string must only contain an optional leading \"-\" to indicate a negative value, then one or more digits from 0 to 9, and an optional decimal point (\".\", regardless of locale) followed by at least one more digit. No whitespace is permitted.</p>\n              </dd>\n            </dl>\n          </dd>\n          <dt id=\"label\"><a href=\"#label\"><code>label</code></a></dt>\n          <dd>\n            <p>A string specifying a human-readable name or description of the item or service being charged for. This may be displayed to the user by the <a href=\"/en-US/docs/Glossary/User_agent\">user agent</a>, depending on the design of the interface.</p>\n          </dd>\n          <dt id=\"pending\"><a href=\"#pending\"><code>pending</code></a></dt>\n          <dd>\n            <p>A Boolean value which is <code>true</code> if the specified <code>amount</code> has not yet been finalized. This can be used to show items such as shipping or tax amounts that depend upon the selection of shipping address, shipping option, or so forth. The user agent may show this information but is not required to do so.</p>\n          </dd>\n        </dl>\n      </dd>\n      <dt id=\"error\"><a href=\"#error\"><code>error</code></a> <span class=\"badge inline optional\">Optional</span> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></dt>\n      <dd>\n        <p>A string specifying an error message to present to the user*.* When calling <a href=\"/en-US/docs/Web/API/PaymentRequestUpdateEvent/updateWith\" title=\"updateWith()\"><code>updateWith()</code></a>, including <code>error</code> in the updated data causes the <a href=\"/en-US/docs/Glossary/User_agent\">user agent</a> to display the text as a general error message. For address field specific errors, use <code>shippingAddressErrors</code>.</p>\n      </dd>\n      <dt id=\"modifiers\"><a href=\"#modifiers\"><code>modifiers</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>An array of <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\" data-flaw-src=\"{{domxref(&quot;PaymentDetailsModifier&quot;)}}\"><code>PaymentDetailsModifier</code></a> objects, each describing a modifier for particular payment method identifiers. For example, you can use one to adjust the total payment amount based on the selected payment method (\"5% cash discount!\").</p>\n      </dd>\n      <dt id=\"shippingaddresserrors\"><a href=\"#shippingaddresserrors\"><code>shippingAddressErrors</code></a> <span class=\"badge inline optional\">Optional</span> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></dt>\n      <dd>\n        <p>An <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\" data-flaw-src=\"{{domxref(&quot;AddressErrors&quot;)}}\"><code>AddressErrors</code></a> object which includes an error message for each property of the shipping address that could not be validated.</p>\n      </dd>\n      <dt id=\"shippingoptions\"><a href=\"#shippingoptions\"><code>shippingOptions</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>An array of <a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\" data-flaw-src=\"{{domxref(&quot;PaymentShippingOption&quot;)}}\"><code>PaymentShippingOption</code></a> objects, each describing one available shipping option from which the user may choose.</p>\n      </dd>\n      <dt id=\"total\"><a href=\"#total\"><code>total</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>An object with the same properties as the objects in <code>displayItems</code> providing an updated total for the payment. Make sure this equals the sum of all of the items in <code>displayItems</code>. <em>This is not calculated automatically</em>. You must update this value yourself anytime the total amount due changes. This lets you have flexibility for how to handle things like tax, discounts, and other adjustments to the total price charged.</p>\n      </dd>\n    </dl>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that eventually resolves with a <a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a>.\n  The promise is resolved when the user accepts the payment request (such as by clicking a\n  \"Pay\" button in the browser's payment sheet).\n</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<p>Exceptions are not thrown but returned when the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> rejects.</p>\n<dl>\n  <dt id=\"aborterror\"><a href=\"#aborterror\"><code>AbortError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Returned if the\n      <a href=\"/en-US/docs/Glossary/User_agent\">user agent</a> is already showing a payment panel. Only one payment\n      panel may be visible at a time <em>across all documents loaded by the user\nagent</em>.\n    </p>\n    <p>\n      The promise is also rejected with <code>AbortError</code> if the user cancels the\n      payment request.\n    </p>\n  </dd>\n  <dt id=\"invalidstateerror\"><a href=\"#invalidstateerror\"><code>InvalidStateError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Returned if the same payment has\n      already been shown for this request (its state is <code>interactive</code> because it\n      is being shown already).\n    </p>\n  </dd>\n  <dt id=\"notsupportederror\"><a href=\"#notsupportederror\"><code>NotSupportedError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Returned if the user agent does not\n      support the payment methods specified when the\n      <a href=\"/en-US/docs/Web/API/PaymentRequest/PaymentRequest\" title=\"PaymentRequest\"><code>PaymentRequest</code></a> constructor was called.\n    </p>\n  </dd>\n  <dt id=\"securityerror\"><a href=\"#securityerror\"><code>SecurityError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>\n      Returned if the call to\n      <code>show()</code> was not in response to a user action, such as a <a href=\"/en-US/docs/Web/API/Element/click_event\" title=\"click\"><code>click</code></a>\n      or <a href=\"/en-US/docs/Web/API/Element/keyup_event\" title=\"keyup\"><code>keyup</code></a> event. Other reasons a <code>SecurityError</code> may be thrown\n      are at the discretion of the user agent, and may include situations such as too many\n      calls to <code>show()</code> being made in a short time or <code>show()</code> being\n      called while payment requests are blocked by parental controls.\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"security","title":"Security","isH3":false,"content":"<p><a href=\"/en-US/docs/Web/Security/User_activation\">Transient user activation</a> is required. The user has to interact with the page or a UI element in order for this feature to work.</p>"}},{"type":"prose","value":{"id":"usage_notes","title":"Usage notes","isH3":false,"content":"<p>\n  The most common patterns for using <code>show()</code> involve either the\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Statements/async_function\"><code>async</code></a>/<a href=\"/en-US/docs/Web/JavaScript/Reference/Operators/await\"><code>await</code></a>\n  syntax or the use of <code>show().then().catch()</code> to handle the response and any\n  possible rejection. Those look like this:\n</p>"}},{"type":"prose","value":{"id":"asyncawait_syntax","title":"async/await syntax","isH3":true,"content":"<p>\n  Using <code>await</code> to wait for a promise to be resolved makes it possible to\n  write the code to handle payments particularly cleanly:\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">processPayment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> payRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PaymentRequest</span><span class=\"token punctuation\">(</span>methodData<span class=\"token punctuation\">,</span> details<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    payRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onshippingaddresschange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span>\n      ev<span class=\"token punctuation\">.</span><span class=\"token function\">updateWith</span><span class=\"token punctuation\">(</span><span class=\"token function\">checkAddress</span><span class=\"token punctuation\">(</span>payRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    payRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onshippingoptionchange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span>\n      ev<span class=\"token punctuation\">.</span><span class=\"token function\">updateWith</span><span class=\"token punctuation\">(</span><span class=\"token function\">checkShipping</span><span class=\"token punctuation\">(</span>payRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> payRequest<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">await</span> <span class=\"token function\">validateResponse</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">/* handle the error; AbortError usually means a user cancellation */</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  In this code, the methods <code>checkAddress()</code> and <code>checkShipping()</code>,\n  respectively, check the shipping address and the shipping option changes and supply in\n  response either an object or a promise to return one;\n  this object contains the fields in the <a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a> which have been or\n  need to be changed.\n</p>\n<p>\n  The <code>validateResponse()</code> method, below, is called once <code>show()</code>\n  returns, in order to look at the returned <code>response</code> and either submit the\n  payment or reject the payment as failed:\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">validateResponse</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">checkAllValues</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  Here, a custom function called <code>checkAllValues()</code> looks at each value in the\n  <code>response</code> and ensures that they're valid, returning <code>true</code> if\n  every field is valid or <code>false</code> if any are not. If and only if every field is\n  valid, the <a href=\"/en-US/docs/Web/API/PaymentResponse/complete\" title=\"complete()\"><code>complete()</code></a> method is called on the\n  response with the string <code>\"success\"</code>, which indicates that everything is\n  valid and that the payment can complete accordingly.\n</p>\n<p>\n  If any fields have unacceptable values, or if an exception is thrown by the previous\n  code, <code>complete()</code> is called with the string <code>\"fail\"</code>, which\n  indicates that the payment process is complete and failed.\n</p>\n<p>\n  Instead of immediately failing, you could choose to call\n  <a href=\"/en-US/docs/Web/API/PaymentResponse/retry\" title=\"retry()\"><code>retry()</code></a> on the response object to ask the user\n  agent to try to process the payment again; this should usually only be done after the\n  user has made any needed corrections to the order.\n</p>\n<p>\n  Starting the payment process, in the end, is as simple as calling the\n  <code>processPayment()</code> method.\n</p>"}},{"type":"prose","value":{"id":"thencatch_syntax","title":"then/catch syntax","isH3":true,"content":"<p>\n  You can also use the older promise-based approach to work with payments, using the\n  <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\"><code>then()</code></a> and <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\"><code>catch()</code></a>\n  functions on the promise returned by <code>show()</code>:\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">processPayment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> payRequest <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PaymentRequest</span><span class=\"token punctuation\">(</span>methodData<span class=\"token punctuation\">,</span> details<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  payRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onshippingaddresschange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span>\n    ev<span class=\"token punctuation\">.</span><span class=\"token function\">updateWith</span><span class=\"token punctuation\">(</span><span class=\"token function\">checkAddress</span><span class=\"token punctuation\">(</span>payRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  payRequest<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onshippingoptionchange</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">ev</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span>\n    ev<span class=\"token punctuation\">.</span><span class=\"token function\">updateWith</span><span class=\"token punctuation\">(</span><span class=\"token function\">checkShipping</span><span class=\"token punctuation\">(</span>payRequest<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  payRequest\n    <span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">validateResponse</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">err</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">handleError</span><span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  This is functionally equivalent to the <code>processPayment()</code> method using the\n  <code>await</code> syntax.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">validateResponse</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">checkAllValues</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  You could even have <code>checkAllValues()</code> be a synchronous function, although\n  that may have performance implications you don't want to deal with:\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">validateResponse</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">response</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token function\">checkAllValues</span><span class=\"token punctuation\">(</span>response<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"fail\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>\n  See the article <a href=\"/en-US/docs/Web/JavaScript/Guide/Using_promises\">Using promises</a> for more information if you need more information about working with\n  promises.\n</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  In the following example, a <code>PaymentRequest</code> object is instantiated before\n  the <code>show()</code> method is called. This method triggers the user agent's built-in\n  process for retrieving payment information from the user. The <code>show()</code> method\n  returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to a <a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a> object\n  when the user interaction is complete. The developer then uses the information in\n  the <code>PaymentResponse</code> object to format and send payment data to the server.\n  You should send the payment information to the server asynchronously so that the final\n  call to <a href=\"/en-US/docs/Web/API/PaymentResponse/complete\"><code>paymentResponse.complete()</code></a> can indicate the success or failure of\n  the payment.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>button<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onclick</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">handlePurchase</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Initialization of PaymentRequest arguments are excerpted for the sake of</span>\n  <span class=\"token comment\">// brevity.</span>\n  <span class=\"token keyword\">const</span> payment <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PaymentRequest</span><span class=\"token punctuation\">(</span>methods<span class=\"token punctuation\">,</span> details<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> payment<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// Process response here, including sending payment instrument</span>\n    <span class=\"token comment\">// (e.g., credit card) information to the server.</span>\n    <span class=\"token comment\">// paymentResponse.methodName contains the selected payment method</span>\n    <span class=\"token comment\">// paymentResponse.details contains a payment method specific response</span>\n    <span class=\"token keyword\">await</span> response<span class=\"token punctuation\">.</span><span class=\"token function\">complete</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>err<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Uh oh, something bad happened\"</span><span class=\"token punctuation\">,</span> err<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>\n  The following example shows how to update the payment sheet as it's being presented to\n  the end-user.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">requestPayment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// We start with AU$0 as the total.</span>\n  <span class=\"token keyword\">const</span> initialDetails <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">total</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">label</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Total\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">\"0\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">currency</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AUD\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> request <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PaymentRequest</span><span class=\"token punctuation\">(</span>methods<span class=\"token punctuation\">,</span> initialDetails<span class=\"token punctuation\">,</span> options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Check if the user supports the `methods`</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">canMakePayment</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// no, so use a web form instead.</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token comment\">// Let's update the total as the sheet is shown</span>\n  <span class=\"token keyword\">const</span> updatedDetails <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token literal-property property\">total</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">label</span><span class=\"token operator\">:</span> <span class=\"token string\">\"Total\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">amount</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">value</span><span class=\"token operator\">:</span> <span class=\"token string\">\"20\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">currency</span><span class=\"token operator\">:</span> <span class=\"token string\">\"AUD\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> response <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> request<span class=\"token punctuation\">.</span><span class=\"token function\">show</span><span class=\"token punctuation\">(</span>updatedDetails<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Check response, etc.</span>\n<span class=\"token punctuation\">}</span>\n\ndocument<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"buyButton\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>onclick <span class=\"token operator\">=</span> requestPayment<span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/payment-request/#dom-paymentrequest-show","title":"Payment Request API 1.1"}],"query":"api.PaymentRequest.show"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.PaymentRequest.show"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/Payment_Request_API\">Payment Request API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Payment_Request_API/Using_the_Payment_Request_API\">Using the Payment Request API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/PaymentRequest/abort\"><code>PaymentRequest.abort()</code></a></li>\n  <li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\" data-flaw-src=\"{{domxref(&quot;PaymentRequest.retry()&quot;)}}\"><code>PaymentRequest.retry()</code></a></li>\n  <li><a class=\"page-not-created\" title=\"The documentation about this has not yet been written; please consider contributing!\" data-flaw-src=\"{{domxref(&quot;PaymentRequest.complete()&quot;)}}\"><code>PaymentRequest.complete()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a></li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Security","id":"security"},{"text":"Usage notes","id":"usage_notes"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The PaymentRequest interface's\n  show() method instructs the user agent to begin the\n  process of showing and handling the user interface for the payment request to the\n  user.","popularity":0.0007,"modified":"2023-04-07T06:19:30.000Z","source":{"folder":"en-us/web/api/paymentrequest/show","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/paymentrequest/show/index.md","last_commit_url":"https://github.com/mdn/content/commit/312081aabba3885b35a81107b3c2fc53428896c5","filename":"index.md"},"short_title":"show()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/PaymentRequest","title":"PaymentRequest"},{"uri":"/en-US/docs/Web/API/PaymentRequest/show","title":"show()"}],"pageTitle":"PaymentRequest: show() method - Web APIs | MDN","noIndexing":false}}</script></body></html>