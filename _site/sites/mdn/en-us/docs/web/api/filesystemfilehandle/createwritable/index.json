{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"FileSystemFileHandle: createWritable() method","mdn_url":"/en-US/docs/Web/API/FileSystemFileHandle/createWritable","locale":"en-US","native":"English (US)","browserCompat":["api.FileSystemFileHandle.createWritable"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/File_System_API\">File System API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/FileSystemFileHandle\"><code>FileSystemFileHandle</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/FileSystemFileHandle/createSyncAccessHandle\"><code>createSyncAccessHandle()</code></a></li><li><em><code>createWritable()</code> </em></li><li><a href=\"/en-US/docs/Web/API/FileSystemFileHandle/getFile\"><code>getFile()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/FileSystemHandle\"><code>FileSystemHandle</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for File System API</summary><ol><li><a href=\"/en-US/docs/Web/API/DataTransferItem/getAsFileSystemHandle\"><code>DataTransferItem.getAsFileSystemHandle()</code></a></li><li><a href=\"/en-US/docs/Web/API/FileSystemDirectoryHandle\"><code>FileSystemDirectoryHandle</code></a></li><li><a href=\"/en-US/docs/Web/API/FileSystemHandle\"><code>FileSystemHandle</code></a></li><li><a href=\"/en-US/docs/Web/API/FileSystemSyncAccessHandle\"><code>FileSystemSyncAccessHandle</code></a></li><li><a href=\"/en-US/docs/Web/API/FileSystemWritableFileStream\"><code>FileSystemWritableFileStream</code></a></li><li><a href=\"/en-US/docs/Web/API/StorageManager/getDirectory\"><code>StorageManager.getDirectory()</code></a></li><li><a href=\"/en-US/docs/Web/API/Window/showDirectoryPicker\"><code>window.showDirectoryPicker()</code></a></li><li><a href=\"/en-US/docs/Web/API/Window/showOpenFilePicker\"><code>window.showOpenFilePicker()</code></a></li><li><a href=\"/en-US/docs/Web/API/Window/showSaveFilePicker\"><code>window.showSaveFilePicker()</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>\n  The <strong><code>createWritable()</code></strong> method of the <a href=\"/en-US/docs/Web/API/FileSystemFileHandle\"><code>FileSystemFileHandle</code></a> interface creates a <a href=\"/en-US/docs/Web/API/FileSystemWritableFileStream\"><code>FileSystemWritableFileStream</code></a> that can be used to write to a file.\n  The method returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> which resolves to this created stream.\n</p>\n<p>\n  Any changes made through the stream won't be reflected in the file represented by the file handle until the stream has been closed.\n  This is typically implemented by writing data to a temporary file, and only replacing the file represented by file handle with the temporary file when the writable filestream is closed.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">createWritable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">createWritable</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"options\"><a href=\"#options\"><code>options</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An object with the following properties:</p>\n    <dl>\n      <dt id=\"keepexistingdata\"><a href=\"#keepexistingdata\"><code>keepExistingData</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>\n          A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean\"><code>Boolean</code></a>. Default <code>false</code>.\n          When set to <code>true</code> if the file exists, the existing file is first copied to the temporary file.\n          Otherwise the temporary file starts out empty.\n        </p>\n      </dd>\n    </dl>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> which resolves to a <a href=\"/en-US/docs/Web/API/FileSystemWritableFileStream\"><code>FileSystemWritableFileStream</code></a> object.</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n  <dt id=\"notallowederror\"><a href=\"#notallowederror\"><code>NotAllowedError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if the <a href=\"/en-US/docs/Web/API/PermissionStatus/state\"><code>PermissionStatus.state</code></a> for the handle is not <code>'granted'</code> in <code>readwrite</code> mode.</p>\n  </dd>\n  <dt id=\"notfounderror\"><a href=\"#notfounderror\"><code>NotFoundError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if current entry is not found.</p>\n  </dd>\n  <dt id=\"nomodificationallowederror\"><a href=\"#nomodificationallowederror\"><code>NoModificationAllowedError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if the browser is not able to acquire a lock on the file associated with the file handle.</p>\n  </dd>\n  <dt id=\"aborterror\"><a href=\"#aborterror\"><code>AbortError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if implementation-defined malware scans and safe-browsing checks fails.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>The following asynchronous function writes the given contents to the file handle, and thus to disk.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">writeFile</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">fileHandle<span class=\"token punctuation\">,</span> contents</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Create a FileSystemWritableFileStream to write to.</span>\n  <span class=\"token keyword\">const</span> writable <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> fileHandle<span class=\"token punctuation\">.</span><span class=\"token function\">createWritable</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Write the contents of the file to the stream.</span>\n  <span class=\"token keyword\">await</span> writable<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>contents<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Close the file and write the contents to disk.</span>\n  <span class=\"token keyword\">await</span> writable<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://fs.spec.whatwg.org/#api-filesystemfilehandle-createwritable","title":"File System Standard"}],"query":"api.FileSystemFileHandle.createWritable"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.FileSystemFileHandle.createWritable"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/File_System_API\">File System API</a></li>\n  <li><a href=\"https://developer.chrome.com/articles/file-system-access/\" class=\"external\" target=\"_blank\">The File System Access API: simplifying access to local files</a></li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The createWritable() method of the FileSystemFileHandle interface creates a FileSystemWritableFileStream that can be used to write to a file.\n  The method returns a Promise which resolves to this created stream.","popularity":0.0032,"modified":"2023-11-07T02:09:54.000Z","source":{"folder":"en-us/web/api/filesystemfilehandle/createwritable","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/filesystemfilehandle/createwritable/index.md","last_commit_url":"https://github.com/mdn/content/commit/231565974f5e3d93c3870bc7c04443d3384dc60b","filename":"index.md"},"short_title":"createWritable()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/FileSystemFileHandle","title":"FileSystemFileHandle"},{"uri":"/en-US/docs/Web/API/FileSystemFileHandle/createWritable","title":"createWritable()"}],"pageTitle":"FileSystemFileHandle: createWritable() method - Web APIs | MDN","noIndexing":false}}