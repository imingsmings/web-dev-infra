{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"LargestContentfulPaint","mdn_url":"/en-US/docs/Web/API/LargestContentfulPaint","locale":"en-US","native":"English (US)","browserCompat":["api.LargestContentfulPaint"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Performance_API\">Performance API</a></strong></li><li><strong><em><a href=\"/en-US/docs/Web/API/LargestContentfulPaint\" aria-current=\"page\"><code>LargestContentfulPaint</code></a></em></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/element\"><code>element</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/id\"><code>id</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/loadTime\"><code>loadTime</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/renderTime\"><code>renderTime</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/size\"><code>size</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/url\"><code>url</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/toJSON\"><code>toJSON()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Performance API</summary><ol><li><a href=\"/en-US/docs/Web/API/EventCounts\"><code>EventCounts</code></a></li><li><a href=\"/en-US/docs/Web/API/LayoutShift\"><code>LayoutShift</code></a></li><li><a href=\"/en-US/docs/Web/API/LayoutShiftAttribution\"><code>LayoutShiftAttribution</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance\"><code>Performance</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceElementTiming\"><code>PerformanceElementTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceEventTiming\"><code>PerformanceEventTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceLongTaskTiming\"><code>PerformanceLongTaskTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceMark\"><code>PerformanceMark</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceMeasure\"><code>PerformanceMeasure</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceNavigation\"><code>PerformanceNavigation</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceNavigationTiming\"><code>PerformanceNavigationTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceObserverEntryList\"><code>PerformanceObserverEntryList</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformancePaintTiming\"><code>PerformancePaintTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceResourceTiming\"><code>PerformanceResourceTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceServerTiming\"><code>PerformanceServerTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceTiming\"><code>PerformanceTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/TaskAttributionTiming\"><code>TaskAttributionTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/VisibilityStateEntry\"><code>VisibilityStateEntry</code></a></li><li><a href=\"/en-US/docs/Web/API/performance_property\"><code>performance_property</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>The <code>LargestContentfulPaint</code> interface provides timing information about the largest image or text paint before user input on a web page.</p>"}},{"type":"prose","value":{"id":"description","title":"Description","isH3":false,"content":"<p>The key moment this API provides is the <a href=\"/en-US/docs/Glossary/Largest_contentful_paint\">Largest Contentful Paint</a> (LCP) metric. It provides the render time of the largest image or text block visible within the viewport, recorded from when the page first begins to load. The following elements are considered when determining the LCP:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/HTML/Element/img\"><code>&lt;img&gt;</code></a> elements.</li>\n  <li><a href=\"/en-US/docs/Web/SVG/Element/image\"><code>&lt;image&gt;</code></a> elements inside an SVG.</li>\n  <li>The poster images of <a href=\"/en-US/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a> elements.</li>\n  <li>Elements with a <a href=\"/en-US/docs/Web/CSS/background-image\"><code>background-image</code></a>.</li>\n  <li>Groups of text nodes, such as <a href=\"/en-US/docs/Web/HTML/Element/p\"><code>&lt;p&gt;</code></a>.</li>\n</ul>\n<p>To measure render times of other elements, use the <a href=\"/en-US/docs/Web/API/PerformanceElementTiming\"><code>PerformanceElementTiming</code></a> API.</p>\n<p>Additional key paint moments are provided by the <a href=\"/en-US/docs/Web/API/PerformancePaintTiming\"><code>PerformancePaintTiming</code></a> API:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Glossary/First_paint\">First paint</a> (FP): Time when anything is rendered. Note that the marking of the first paint is optional, not all user agents report it.</li>\n  <li><a href=\"/en-US/docs/Glossary/First_contentful_paint\">First contentful paint</a> (FCP): Time when the first bit of DOM text or image content is rendered.</li>\n</ul>\n<p><code>LargestContentfulPaint</code> inherits from <a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a>.</p><svg viewBox=\"-1 -1 650 42\" preserveAspectRatio=\"xMinYMin meet\">\n  <a style=\"text-decoration: none;\" xlink:href=\"/en-US/docs/Web/API/PerformanceEntry\">\n    <rect x=\"0\" y=\"0\" width=\"128\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"64\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      PerformanceEntry\n    </text>\n  </a>\n  <line x1=\"128\" y1=\"14\" x2=\"158\" y2=\"14\" stroke=\"#D4DDE4\"></line>\n  <polyline points=\"128,14 138,9 138,19 128,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" xlink:href=\"/en-US/docs/Web/API/LargestContentfulPaint\" aria-current=\"page\">\n    <rect x=\"158\" y=\"0\" width=\"176\" height=\"25\" fill=\"#F4F7F8\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"246\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      LargestContentfulPaint\n    </text>\n  </a></svg>"}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":false,"content":"<p>This interface extends the following <a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a> properties by qualifying and constraining the properties as follows:</p>\n<dl>\n  <dt id=\"performanceentry.entrytype\"><a href=\"/en-US/docs/Web/API/PerformanceEntry/entryType\"><code>PerformanceEntry.entryType</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Returns \"<code>largest-contentful-paint</code>\".</p>\n  </dd>\n  <dt id=\"performanceentry.name\"><a href=\"/en-US/docs/Web/API/PerformanceEntry/name\"><code>PerformanceEntry.name</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Always returns an empty string.</p>\n  </dd>\n  <dt id=\"performanceentry.starttime\"><a href=\"/en-US/docs/Web/API/PerformanceEntry/startTime\"><code>PerformanceEntry.startTime</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Returns the value of this entry's <a href=\"/en-US/docs/Web/API/LargestContentfulPaint/renderTime\" title=\"renderTime\"><code>renderTime</code></a> if it is not <code>0</code>, otherwise the value of this entry's <a href=\"/en-US/docs/Web/API/LargestContentfulPaint/loadTime\" title=\"loadTime\"><code>loadTime</code></a>.</p>\n  </dd>\n  <dt id=\"performanceentry.duration\"><a href=\"/en-US/docs/Web/API/PerformanceEntry/duration\"><code>PerformanceEntry.duration</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Returns <code>0</code>, as <code>duration</code> is not applicable to this interface.</p>\n  </dd>\n</dl>\n<p>It also supports the following properties:</p>\n<dl>\n  <dt id=\"largestcontentfulpaint.element\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/element\"><code>LargestContentfulPaint.element</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>The element that is the current largest contentful paint.</p>\n  </dd>\n  <dt id=\"largestcontentfulpaint.rendertime\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/renderTime\"><code>LargestContentfulPaint.renderTime</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>The time the element was rendered to the screen. May not be available if the element is a cross-origin image loaded without the <code>Timing-Allow-Origin</code> header.</p>\n  </dd>\n  <dt id=\"largestcontentfulpaint.loadtime\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/loadTime\"><code>LargestContentfulPaint.loadTime</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>The time the element was loaded.</p>\n  </dd>\n  <dt id=\"largestcontentfulpaint.size\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/size\"><code>LargestContentfulPaint.size</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>The intrinsic size of the element returned as the area (width * height).</p>\n  </dd>\n  <dt id=\"largestcontentfulpaint.id\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/id\"><code>LargestContentfulPaint.id</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>The id of the element. This property returns an empty string when there is no id.</p>\n  </dd>\n  <dt id=\"largestcontentfulpaint.url\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/url\"><code>LargestContentfulPaint.url</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>If the element is an image, the request url of the image.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"instance_methods","title":"Instance methods","isH3":false,"content":"<p><em>This interface also inherits methods from <a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a>.</em></p>\n<dl>\n  <dt id=\"largestcontentfulpaint.tojson\"><a href=\"/en-US/docs/Web/API/LargestContentfulPaint/toJSON\"><code>LargestContentfulPaint.toJSON()</code></a> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></dt>\n  <dd>\n    <p>Returns a JSON representation of the <code>LargestContentfulPaint</code> object.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"observing_the_largest_contentful_paint","title":"Observing the largest contentful paint","isH3":true,"content":"<p>In the following example, an observer is registered to get the largest contentful paint while the page is loading. The <code>buffered</code> flag is used to access data from before observer creation.</p>\n<p>The LCP API analyzes all content it finds (including content that is removed from the DOM). When new largest content is found, it creates a new entry. It stops searching for larger content when scroll or input events occur, since these events likely introduce new content on the website. Thus the LCP is the last performance entry reported by the observer.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> entries <span class=\"token operator\">=</span> list<span class=\"token punctuation\">.</span><span class=\"token function\">getEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> lastEntry <span class=\"token operator\">=</span> entries<span class=\"token punctuation\">[</span>entries<span class=\"token punctuation\">.</span>length <span class=\"token operator\">-</span> <span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// Use the latest LCP candidate</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"LCP:\"</span><span class=\"token punctuation\">,</span> lastEntry<span class=\"token punctuation\">.</span>startTime<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>lastEntry<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nobserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"largest-contentful-paint\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">buffered</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"cross-origin_image_render_time","title":"Cross-origin image render time","isH3":true,"content":"<p>For security reasons, the value of the <a href=\"/en-US/docs/Web/API/LargestContentfulPaint/renderTime\" title=\"renderTime\"><code>renderTime</code></a> property is <code>0</code> if the resource is a cross-origin request. Instead the <a href=\"/en-US/docs/Web/API/LargestContentfulPaint/loadTime\" title=\"loadTime\"><code>loadTime</code></a> is exposed. To expose cross-origin render time information, the <a href=\"/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin\"><code>Timing-Allow-Origin</code></a> HTTP response header needs to be set.</p>\n<p>For example, to allow <code>https://developer.mozilla.org</code> to see <code>renderTime</code>, the cross-origin resource should send:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">http</span></p><pre class=\"brush: http notranslate\"><code><span class=\"token header\"><span class=\"token header-name keyword\">Timing-Allow-Origin</span><span class=\"token punctuation\">:</span> <span class=\"token header-value\">https://developer.mozilla.org</span></span>\n</code></pre></div>\n<p>Like in the code example, you can use <a href=\"/en-US/docs/Web/API/PerformanceEntry/startTime\" title=\"startTime\"><code>startTime</code></a>, which returns the value of the entry's <a href=\"/en-US/docs/Web/API/LargestContentfulPaint/renderTime\" title=\"renderTime\"><code>renderTime</code></a> if it is not <code>0</code>, and otherwise the value of this entry's <a href=\"/en-US/docs/Web/API/LargestContentfulPaint/loadTime\" title=\"loadTime\"><code>loadTime</code></a>. However, it is recommended to set the <a href=\"/en-US/docs/Web/HTTP/Headers/Timing-Allow-Origin\"><code>Timing-Allow-Origin</code></a> header so that the metrics will be more accurate.</p>\n<p>If you use <code>startTime</code>, you can flag any inaccuracies by checking if <code>renderTime</code> was used:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> isAccurateLCP <span class=\"token operator\">=</span> entry<span class=\"token punctuation\">.</span>renderTime <span class=\"token operator\">?</span> <span class=\"token boolean\">true</span> <span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/largest-contentful-paint/#sec-largest-contentful-paint-interface","title":"Largest Contentful Paint"}],"query":"api.LargestContentfulPaint"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.LargestContentfulPaint"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Glossary/Largest_contentful_paint\">Largest Contentful Paint</a></li>\n  <li><a href=\"/en-US/docs/Glossary/First_contentful_paint\">First contentful paint</a></li>\n  <li><a href=\"/en-US/docs/Glossary/First_paint\">First paint</a></li>\n</ul>"}}],"toc":[{"text":"Description","id":"description"},{"text":"Instance properties","id":"instance_properties"},{"text":"Instance methods","id":"instance_methods"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The LargestContentfulPaint interface provides timing information about the largest image or text paint before user input on a web page.","popularity":0.0047,"modified":"2023-02-20T04:31:28.000Z","source":{"folder":"en-us/web/api/largestcontentfulpaint","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/largestcontentfulpaint/index.md","last_commit_url":"https://github.com/mdn/content/commit/4fc950fa096f3d250c398b4a87ec88a5010dc793","filename":"index.md"},"short_title":"LargestContentfulPaint","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/LargestContentfulPaint","title":"LargestContentfulPaint"}],"pageTitle":"LargestContentfulPaint - Web APIs | MDN","noIndexing":false}}