<!doctype html><html lang="en-US" prefix="og: https://ogp.me/ns#"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="icon" href="/favicon-48x48.cbbd161b.png"/><link rel="apple-touch-icon" href="/apple-touch-icon.6803c6f0.png"/><meta name="theme-color" content="#ffffff"/><link rel="manifest" href="/manifest.56b1cedc.json"/><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="MDN Web Docs"/><title>Using the Popover API - Web APIs | MDN</title><link rel="alternate" type="application/rss+xml" title="MDN Blog RSS Feed" href="https://developer.mozilla.org/en-US/blog/rss.xml" hreflang="en" /><meta name="robots" content="noindex, nofollow"><meta name="description" content="The Popover API provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. Popover content can be controlled either declaratively using HTML attributes, or via JavaScript. This article provides a detailed guide to using all of its features."/><meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Web/API/Popover_API/Using"/><meta property="og:title" content="Using the Popover API - Web APIs | MDN"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:description" content="The Popover API provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. Popover content can be controlled either declaratively using HTML attributes, or via JavaScript. This article provides a detailed guide to using all of its features."/><meta property="og:image" content="https://developer.mozilla.org/mdn-social-share.cd6c4a5a.png"/><meta property="og:image:type" content="image/png"/><meta property="og:image:height" content="1080"/><meta property="og:image:width" content="1920"/><meta property="og:image:alt" content="The MDN Web Docs logo, featuring a blue accent color, displayed on a solid black background."/><meta property="og:site_name" content="MDN Web Docs"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="MozDevNet"/><link rel="canonical" href="https://developer.mozilla.org/en-US/docs/Web/API/Popover_API/Using"/><style media="print">.article-actions-container,.document-toc-container,.language-menu,.main-menu-toggle,.on-github,.page-footer,.place,.sidebar,.top-banner,.top-navigation-main,ul.prev-next{display:none!important}.main-page-content,.main-page-content pre{padding:2px}.main-page-content pre{border-left-width:2px}</style><script defer="defer" src="/static/js/main.8204838d.js"></script><link href="/static/css/main.3551aa81.css" rel="stylesheet"></head><body><script>if(document.body.addEventListener("load",(t=>{t.target.classList.contains("interactive")&&t.target.setAttribute("data-readystate","complete")}),{capture:!0}),window&&document.documentElement){const t={light:"#ffffff",dark:"#1b1b1b"};try{const e=window.localStorage.getItem("theme");e&&(document.documentElement.className=e,document.documentElement.style.backgroundColor=t[e])}catch(t){console.warn("Unable to read theme from localStorage",t)}}</script><div id="root"><ul id="nav-access" class="a11y-nav"><li><a id="skip-main" href="#content">Skip to main content</a></li><li><a id="skip-search" href="#top-nav-search-input">Skip to search</a></li><li><a id="skip-select-language" href="#languages-switcher-button">Skip to select language</a></li></ul><div class="page-wrapper  category-api document-page"><div class="top-banner loading"><section class="place top container"></section></div><div class="sticky-header-container"><header class="top-navigation 
      
      "><div class="container "><div class="top-navigation-wrap"><a href="/en-US/" class="logo" aria-label="MDN homepage"><svg id="mdn-docs-logo" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 694.9 104.4" style="enable-background:new 0 0 694.9 104.4" xml:space="preserve" role="img"><title>MDN Web Docs</title><path d="M40.3 0 11.7 92.1H0L28.5 0h11.8zm10.4 0v92.1H40.3V0h10.4zM91 0 62.5 92.1H50.8L79.3 0H91zm10.4 0v92.1H91V0h10.4z" class="logo-m"></path><path d="M627.9 95.6h67v8.8h-67v-8.8z" class="logo-_"></path><path d="M367 42h-4l-10.7 30.8h-5.5l-10.8-26h-.4l-10.5 26h-5.2L308.7 42h-3.8v-5.6H323V42h-6.5l6.8 20.4h.4l10.3-26h4.7l11.2 26h.5l5.7-20.3h-6.2v-5.6H367V42zm34.9 20c-.4 3.2-2 5.9-4.7 8.2-2.8 2.3-6.5 3.4-11.3 3.4-5.4 0-9.7-1.6-13.1-4.7-3.3-3.2-5-7.7-5-13.7 0-5.7 1.6-10.3 4.7-14s7.4-5.5 12.9-5.5c5.1 0 9.1 1.6 11.9 4.7s4.3 6.9 4.3 11.3c0 1.5-.2 3-.5 4.7h-25.6c.3 7.7 4 11.6 10.9 11.6 2.9 0 5.1-.7 6.5-2 1.5-1.4 2.5-3 3-4.9l6 .9zM394 51.3c.2-2.4-.4-4.7-1.8-6.9s-3.8-3.3-7-3.3c-3.1 0-5.3 1-6.9 3-1.5 2-2.5 4.4-2.8 7.2H394zm51 2.4c0 5-1.3 9.5-4 13.7s-6.9 6.2-12.7 6.2c-6 0-10.3-2.2-12.7-6.7-.1.4-.2 1.4-.4 2.9s-.3 2.5-.4 2.9h-7.3c.3-1.7.6-3.5.8-5.3.3-1.8.4-3.7.4-5.5V22.3h-6v-5.6H416v27c1.1-2.2 2.7-4.1 4.7-5.7 2-1.6 4.8-2.4 8.4-2.4 4.6 0 8.4 1.6 11.4 4.7 3 3.2 4.5 7.6 4.5 13.4zm-7.7.6c0-4.2-1-7.4-3-9.5-2-2.2-4.4-3.3-7.4-3.3-3.4 0-6 1.2-8 3.7-1.9 2.4-2.9 5-3 7.7V57c0 3 1 5.6 3 7.7s4.5 3.1 7.6 3.1c3.6 0 6.3-1.3 8.1-3.9 1.8-2.7 2.7-5.9 2.7-9.6zm69.2 18.5h-13.2v-7.2c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2 5.7 0 9.8 2.2 12.3 6.5V22.3h-8.6v-5.6h15.8v50.6h6v5.5zM493.2 56v-4.4c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm53.1-1.4c0 5.6-1.8 10.2-5.3 13.7s-8.2 5.3-13.9 5.3-10.1-1.7-13.4-5.1c-3.3-3.4-5-7.9-5-13.5 0-5.3 1.6-9.9 4.7-13.7 3.2-3.8 7.9-5.7 14.2-5.7s11 1.9 14.1 5.7c3 3.7 4.6 8.1 4.6 13.3zm-7.7-.2c0-4-1-7.2-3-9.5s-4.8-3.5-8.2-3.5c-3.6 0-6.4 1.2-8.3 3.7s-2.9 5.6-2.9 9.5c0 3.7.9 6.8 2.8 9.4 1.9 2.6 4.6 3.9 8.3 3.9 3.6 0 6.4-1.3 8.4-3.8 1.9-2.6 2.9-5.8 2.9-9.7zm45 5.8c-.4 3.2-1.9 6.3-4.4 9.1-2.5 2.9-6.4 4.3-11.8 4.3-5.2 0-9.4-1.6-12.6-4.8-3.2-3.2-4.8-7.7-4.8-13.7 0-5.5 1.6-10.1 4.7-13.9 3.2-3.8 7.6-5.7 13.2-5.7 2.3 0 4.6.3 6.7.8 2.2.5 4.2 1.5 6.2 2.9l1.5 9.5-5.9.7-1.3-6.1c-2.1-1.2-4.5-1.8-7.2-1.8-3.5 0-6.1 1.2-7.7 3.7-1.7 2.5-2.5 5.7-2.5 9.6 0 4.1.9 7.3 2.7 9.5 1.8 2.3 4.4 3.4 7.8 3.4 5.2 0 8.2-2.9 9.2-8.8l6.2 1.3zm34.7 1.9c0 3.6-1.5 6.5-4.6 8.5s-7 3-11.7 3c-5.7 0-10.6-1.2-14.6-3.6l1.2-8.8 5.7.6-.2 4.7c1.1.5 2.3.9 3.6 1.1s2.6.3 3.9.3c2.4 0 4.5-.4 6.5-1.3 1.9-.9 2.9-2.2 2.9-4.1 0-1.8-.8-3.1-2.3-3.8s-3.5-1.3-5.8-1.7-4.6-.9-6.9-1.4c-2.3-.6-4.2-1.6-5.7-2.9-1.6-1.4-2.3-3.5-2.3-6.3 0-4.1 1.5-6.9 4.6-8.5s6.4-2.4 9.9-2.4c2.6 0 5 .3 7.2.9 2.2.6 4.3 1.4 6.1 2.4l.8 8.8-5.8.7-.8-5.7c-2.3-1-4.7-1.6-7.2-1.6-2.1 0-3.7.4-5.1 1.1-1.3.8-2 2-2 3.8 0 1.7.8 2.9 2.3 3.6 1.5.7 3.4 1.2 5.7 1.6 2.2.4 4.5.8 6.7 1.4 2.2.6 4.1 1.6 5.7 3 1.4 1.6 2.2 3.7 2.2 6.6zM197.6 73.2h-17.1v-5.5h3.8V51.9c0-3.7-.7-6.3-2.1-7.9-1.4-1.6-3.3-2.3-5.7-2.3-3.2 0-5.6 1.1-7.2 3.4s-2.4 4.6-2.5 6.9v15.6h6v5.5h-17.1v-5.5h3.8V51.9c0-3.8-.7-6.4-2.1-7.9-1.4-1.5-3.3-2.3-5.6-2.3-3.2 0-5.5 1.1-7.2 3.3-1.6 2.2-2.4 4.5-2.5 6.9v15.8h6.9v5.5h-20.2v-5.5h6V42.4h-6.1v-5.6h13.4v6.4c1.2-2.1 2.7-3.8 4.7-5.2 2-1.3 4.4-2 7.3-2s5.3.7 7.5 2.1c2.2 1.4 3.7 3.5 4.5 6.4 1.1-2.5 2.7-4.5 4.9-6.1s4.8-2.4 7.9-2.4c3.5 0 6.5 1.1 8.9 3.3s3.7 5.6 3.7 10.2v18.2h6.1v5.5zm42.5 0h-13.2V66c-1.2 2.2-2.8 4.1-4.9 5.6-2.1 1.6-4.8 2.4-8.3 2.4-4.8 0-8.7-1.6-11.6-4.9-2.9-3.2-4.3-7.7-4.3-13.3 0-5 1.3-9.6 4-13.7 2.6-4.1 6.9-6.2 12.8-6.2s9.8 2.2 12.3 6.5V22.7h-8.6v-5.6h15.8v50.6h6v5.5zm-13.3-16.8V52c-.1-3-1.2-5.5-3.2-7.3s-4.4-2.8-7.2-2.8c-3.6 0-6.3 1.3-8.2 3.9-1.9 2.6-2.8 5.8-2.8 9.6 0 4.1 1 7.3 3 9.5s4.5 3.3 7.4 3.3c3.2 0 5.8-1.3 7.8-3.8 2.1-2.6 3.1-5.3 3.2-8zm61.5 16.8H269v-5.5h6V51.9c0-3.7-.7-6.3-2.2-7.9-1.4-1.6-3.4-2.3-5.7-2.3-3.1 0-5.6 1-7.4 3s-2.8 4.4-2.9 7v15.9h6v5.5h-19.3v-5.5h6V42.4h-6.2v-5.6h13.6V43c2.6-4.6 6.8-6.9 12.7-6.9 3.6 0 6.7 1.1 9.2 3.3s3.7 5.6 3.7 10.2v18.2h6v5.4h-.2z" class="logo-text"></path></svg></a><button title="Open main menu" type="button" class="button action has-icon main-menu-toggle" aria-haspopup="menu" aria-label="Open main menu" aria-expanded="false"><span class="button-wrap"><span class="icon icon-menu "></span><span class="visually-hidden">Open main menu</span></span></button></div><div class="top-navigation-main"><nav class="main-nav" aria-label="Main menu"><ul class="main-menu nojs"><li class="top-level-entry-container active"><button type="button" id="references-button" class="top-level-entry menu-toggle" aria-controls="references-menu" aria-expanded="false">References</button><a href="/en-US/docs/Web" class="top-level-entry">References</a><ul id="references-menu" class="submenu references hidden inline-submenu-lg" aria-labelledby="references-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Web/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Structure of content on the web</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Web/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Code used to describe document style</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Web/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">General-purpose scripting language</p></div></a></li><li class="http-link-container "><a href="/en-US/docs/Web/HTTP" class="submenu-item "><div class="submenu-icon http"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTTP</div><p class="submenu-item-description">Protocol for transmitting web resources</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Web/API" class="submenu-item "><div class="submenu-icon apis"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web APIs</div><p class="submenu-item-description">Interfaces for building web applications</p></div></a></li><li class="apis-link-container "><a href="/en-US/docs/Mozilla/Add-ons/WebExtensions" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Extensions</div><p class="submenu-item-description">Developing extensions for web browsers</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Web" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Web Technology</div><p class="submenu-item-description">Web technology reference for developers</p></div></a></li></ul></li><li class="top-level-entry-container "><button type="button" id="guides-button" class="top-level-entry menu-toggle" aria-controls="guides-menu" aria-expanded="false">Guides</button><a href="/en-US/docs/Learn" class="top-level-entry">Guides</a><ul id="guides-menu" class="submenu guides hidden inline-submenu-lg" aria-labelledby="guides-button"><li class="apis-link-container mobile-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">Overview / MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="apis-link-container desktop-only "><a href="/en-US/docs/Learn" class="submenu-item "><div class="submenu-icon learn"></div><div class="submenu-content-container"><div class="submenu-item-heading">MDN Learning Area</div><p class="submenu-item-description">Learn web development</p></div></a></li><li class="html-link-container "><a href="/en-US/docs/Learn/HTML" class="submenu-item "><div class="submenu-icon html"></div><div class="submenu-content-container"><div class="submenu-item-heading">HTML</div><p class="submenu-item-description">Learn to structure web content with HTML</p></div></a></li><li class="css-link-container "><a href="/en-US/docs/Learn/CSS" class="submenu-item "><div class="submenu-icon css"></div><div class="submenu-content-container"><div class="submenu-item-heading">CSS</div><p class="submenu-item-description">Learn to style content using CSS</p></div></a></li><li class="javascript-link-container "><a href="/en-US/docs/Learn/JavaScript" class="submenu-item "><div class="submenu-icon javascript"></div><div class="submenu-content-container"><div class="submenu-item-heading">JavaScript</div><p class="submenu-item-description">Learn to run scripts in the browser</p></div></a></li><li class=" "><a href="/en-US/docs/Web/Accessibility" class="submenu-item "><div class="submenu-icon"></div><div class="submenu-content-container"><div class="submenu-item-heading">Accessibility</div><p class="submenu-item-description">Learn to make the web accessible to all</p></div></a></li></ul></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/blog/">Blog</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/play">Play</a></li><li class="top-level-entry-container "><a class="top-level-entry menu-link" href="/en-US/plus/ai-help">AI Help <sup class="new beta">Beta</sup></a></li></ul></nav><div class="header-search"><form action="/en-US/search" class="search-form search-widget" id="top-nav-search-form" role="search"><label id="top-nav-search-label" for="top-nav-search-input" class="visually-hidden">Search MDN</label><input aria-activedescendant="" aria-autocomplete="list" aria-controls="top-nav-search-menu" aria-expanded="false" aria-labelledby="top-nav-search-label" autoComplete="off" id="top-nav-search-input" role="combobox" type="search" class="search-input-field" name="q" placeholder="   " required="" value=""/><button type="button" class="button action has-icon clear-search-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear search input</span></span></button><button type="submit" class="button action has-icon search-button"><span class="button-wrap"><span class="icon icon-search "></span><span class="visually-hidden">Search</span></span></button><div id="top-nav-search-menu" role="listbox" aria-labelledby="top-nav-search-label"></div></form></div><div class="theme-switcher-menu"><button type="button" class="button action has-icon theme-switcher-menu small" aria-haspopup="menu"><span class="button-wrap"><span class="icon icon-theme-os-default "></span>Theme</span></button></div><ul class="auth-container"><li><a href="?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPopover_API%2FUsing" class="login-link" rel="nofollow">Log in</a></li><li><a href="?next=%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPopover_API%2FUsing" target="_self" class="button primary mdn-plus-subscribe-link"><span class="button-wrap">Sign up for free</span></a></li></ul></div></div></header><div class="article-actions-container"><div class="container"><button type="button" class="button action has-icon sidebar-button" aria-label="Expand sidebar" aria-expanded="false" aria-controls="sidebar-quicklinks"><span class="button-wrap"><span class="icon icon-sidebar "></span></span></button><nav class="breadcrumbs-container" aria-label="Breadcrumb"><ol typeof="BreadcrumbList" vocab="https://schema.org/" aria-label="breadcrumbs"><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web"><span property="name">References</span></a><meta property="position" content="1"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web/API"><span property="name">Web APIs</span></a><meta property="position" content="2"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb" property="item" typeof="WebPage" href="/en-US/docs/Web/API/Popover_API"><span property="name">Popover API</span></a><meta property="position" content="3"/></li><li property="itemListElement" typeof="ListItem"><a class="breadcrumb-current-page" property="item" typeof="WebPage" href="/en-US/docs/Web/API/Popover_API/Using"><span property="name">Using the Popover API</span></a><meta property="position" content="4"/></li></ol></nav></div></div></div><div class="main-wrapper"><div class="sidebar-container"><aside id="sidebar-quicklinks" class="sidebar" data-macro="DefaultAPISidebar"><button type="button" class="button action backdrop" aria-label="Collapse sidebar"><span class="button-wrap"></span></button><nav aria-label="Related Topics" class="sidebar-inner"><header class="sidebar-actions"><section class="sidebar-filter-container"><div class="sidebar-filter "><label id="sidebar-filter-label" class="sidebar-filter-label" for="sidebar-filter-input"><span class="icon icon-filter"></span><span class="visually-hidden">Filter sidebar</span></label><input id="sidebar-filter-input" autoComplete="off" class="sidebar-filter-input-field false" type="text" placeholder="Filter" value=""/><button type="button" class="button action has-icon clear-sidebar-filter-button"><span class="button-wrap"><span class="icon icon-cancel "></span><span class="visually-hidden">Clear filter input</span></span></button></div></section></header><div class="sidebar-inner-nav"><div class="in-nav-toc"><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#creating_declarative_popovers">Creating declarative popovers</a></li><li class="document-toc-item "><a class="document-toc-link" href="#auto_state_and_light_dismiss">auto state, and "light dismiss"</a></li><li class="document-toc-item "><a class="document-toc-link" href="#using_manual_popover_state">Using manual popover state</a></li><li class="document-toc-item "><a class="document-toc-link" href="#showing_popovers_via_javascript">Showing popovers via JavaScript</a></li><li class="document-toc-item "><a class="document-toc-link" href="#dismissing_popovers_automatically_via_a_timer">Dismissing popovers automatically via a timer</a></li><li class="document-toc-item "><a class="document-toc-link" href="#nested_popovers">Nested popovers</a></li><li class="document-toc-item "><a class="document-toc-link" href="#styling_popovers">Styling popovers</a></li><li class="document-toc-item "><a class="document-toc-link" href="#animating_popovers">Animating popovers</a></li></ul></section></div></div><div class="sidebar-body"><ol><li><strong><a href="/en-US/docs/Web/API/Popover_API">Popover API</a></strong></li><li class="toggle"><details open=""><summary>Guides</summary><ol><li><em><a href="/en-US/docs/Web/API/Popover_API/Using" aria-current="page">Using the Popover API</a></em></li></ol></details></li><li class="toggle"><details open=""><summary>Interfaces</summary><ol><li><a href="/en-US/docs/Web/API/ToggleEvent"><code>ToggleEvent</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Properties</summary><ol><li><a href="/en-US/docs/Web/API/HTMLButtonElement/popoverTargetAction"><code>HTMLButtonElement.popoverTargetAction</code></a></li><li><a href="/en-US/docs/Web/API/HTMLButtonElement/popoverTargetElement"><code>HTMLButtonElement.popoverTargetElement</code></a></li><li><a href="/en-US/docs/Web/API/HTMLElement/popover"><code>HTMLElement.popover</code></a></li><li><a href="/en-US/docs/Web/API/HTMLInputElement/popoverTargetAction"><code>HTMLInputElement.popoverTargetAction</code></a></li><li><a href="/en-US/docs/Web/API/HTMLInputElement/popoverTargetElement"><code>HTMLInputElement.popoverTargetElement</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Methods</summary><ol><li><a href="/en-US/docs/Web/API/HTMLElement/hidePopover"><code>HTMLElement.hidePopover()</code></a></li><li><a href="/en-US/docs/Web/API/HTMLElement/showPopover"><code>HTMLElement.showPopover()</code></a></li><li><a href="/en-US/docs/Web/API/HTMLElement/togglePopover"><code>HTMLElement.togglePopover()</code></a></li></ol></details></li><li class="toggle"><details open=""><summary>Events</summary><ol><li><a href="/en-US/docs/Web/API/HTMLElement/beforetoggle_event"><code>HTMLElement</code>: <code>beforetoggle</code></a></li><li><a href="/en-US/docs/Web/API/HTMLElement/toggle_event"><code>HTMLElement</code>: <code>toggle</code></a></li></ol></details></li></ol></div></div></nav></aside><div class="toc-container"><aside class="toc"><nav><div class="document-toc-container"><section class="document-toc"><header><h2 class="document-toc-heading">In this article</h2></header><ul class="document-toc-list"><li class="document-toc-item "><a class="document-toc-link" href="#creating_declarative_popovers">Creating declarative popovers</a></li><li class="document-toc-item "><a class="document-toc-link" href="#auto_state_and_light_dismiss">auto state, and "light dismiss"</a></li><li class="document-toc-item "><a class="document-toc-link" href="#using_manual_popover_state">Using manual popover state</a></li><li class="document-toc-item "><a class="document-toc-link" href="#showing_popovers_via_javascript">Showing popovers via JavaScript</a></li><li class="document-toc-item "><a class="document-toc-link" href="#dismissing_popovers_automatically_via_a_timer">Dismissing popovers automatically via a timer</a></li><li class="document-toc-item "><a class="document-toc-link" href="#nested_popovers">Nested popovers</a></li><li class="document-toc-item "><a class="document-toc-link" href="#styling_popovers">Styling popovers</a></li><li class="document-toc-item "><a class="document-toc-link" href="#animating_popovers">Animating popovers</a></li></ul></section></div></nav></aside></div></div><main id="content" class="main-content  "><article class="main-page-content" lang="en-US"><header><h1>Using the Popover API</h1></header><div class="section-content"><p>The <strong>Popover API</strong> provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. Popover content can be controlled either declaratively using HTML attributes, or via JavaScript. This article provides a detailed guide to using all of its features.</p></div><section aria-labelledby="creating_declarative_popovers"><h2 id="creating_declarative_popovers"><a href="#creating_declarative_popovers">Creating declarative popovers</a></h2><div class="section-content"><p>In its simplest form, a popover is created by adding the <a href="/en-US/docs/Web/HTML/Global_attributes/popover"><code>popover</code></a> attribute to the element that you want to contain your popover content. An <code>id</code> is also needed to associate the popover with its controls.</p>
<div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<div class="notecard note" id="sect1">
  <p><strong>Note:</strong> Setting the <code>popover</code> attribute with no value is equivalent to setting <code>popover="auto"</code>.</p>
</div>
<p>Adding this attribute causes the element to be hidden on page load by having <a href="/en-US/docs/Web/CSS/display"><code>display: none</code></a> set on it. To show/hide the popover, you need to add some control buttons. You can set a <a href="/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> (or <a href="/en-US/docs/Web/HTML/Element/input"><code>&lt;input&gt;</code></a> of <code>type="button"</code>) as a popover control button by giving it a <a href="/en-US/docs/Web/HTML/Element/button#popovertarget"><code>popovertarget</code></a> attribute, the value of which should be the ID of the popover to control:</p>
<div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Toggle the popover<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>The default behavior is for the button to be a toggle button — pressing it repeatedly will toggle the popover between showing and hidden.</p>
<p>If you want to change that behavior, you can use the <a href="/en-US/docs/Web/HTML/Element/button#popovertargetaction"><code>popovertargetaction</code></a> attribute — this takes a value of <code>"hide"</code>, <code>"show"</code>, or <code>"toggle"</code>. For example, to create separate show and hide buttons, you could do this:</p>
<div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popovertargetaction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>show<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Show popover
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popovertargetaction</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>hide<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>
  Hide popover
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>You can see how the previous code snippet renders in our <a href="https://mdn.github.io/dom-examples/popover-api/basic-declarative/" class="external" target="_blank">Basic declarative popover example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/basic-declarative" class="external" target="_blank">source</a>).</p>
<div class="notecard note" id="sect2">
  <p><strong>Note:</strong> If the <code>popovertargetaction</code> attribute is omitted, <code>"toggle"</code> is the default action that will be performed by a control button.</p>
</div>
<p>When a popover is shown, it has <code>display: none</code> removed from it and it is put into the <a href="/en-US/docs/Glossary/Top_layer">top layer</a> so it will sit on top of all other page content.</p></div></section><section aria-labelledby="auto_state_and_light_dismiss"><h2 id="auto_state_and_light_dismiss"><a href="#auto_state_and_light_dismiss">auto state, and "light dismiss"</a></h2><div class="section-content"><p>When a popover element is set with <code>popover</code> or <code>popover="auto"</code> as shown above, it is said to have <strong>auto state</strong>. The two important behaviors to note about auto state are:</p>
<ul>
  <li>The popover can be "light dismissed" — this means that you can hide the popover by clicking outside it or pressing the <kbd>Esc</kbd> key.</li>
  <li>Usually, only one popover can be shown at a time — showing a second popover when one is already shown will hide the first one. The exception to this rule is when you have nested auto popovers. See the <a href="#nested_popovers">Nested popovers</a> section for more details.</li>
</ul>
<div class="notecard note" id="sect3">
  <p><strong>Note:</strong> <code>popover="auto"</code> popovers are also dismissed by successful <a href="/en-US/docs/Web/API/HTMLDialogElement/showModal"><code>HTMLDialogElement.showModal()</code></a> and <a href="/en-US/docs/Web/API/Element/requestFullscreen"><code>Element.requestFullscreen()</code></a> calls on other elements in the document. Bear in mind however that calling these methods on a shown popover will result in failure because those behaviors don't make sense on an already-shown popover. You can however call them on an element with the <code>popover</code> attribute that isn't currently being shown.</p>
</div>
<p>Auto state is useful when you only want to show a single popover at once. Perhaps you have multiple teaching UI messages that you want to show, but don't want the display to start getting cluttered and confusing, or perhaps you are showing status messages where the new status overrides any previous status.</p>
<p>You can see the behavior described above in action in our <a href="https://mdn.github.io/dom-examples/popover-api/multiple-auto/" class="external" target="_blank">Multiple auto popovers example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/multiple-auto" class="external" target="_blank">source</a>). Try light dismissing the popovers after they are shown, and see what happens when you try to show both at the same time.</p></div></section><section aria-labelledby="using_manual_popover_state"><h2 id="using_manual_popover_state"><a href="#using_manual_popover_state">Using manual popover state</a></h2><div class="section-content"><p>The alternative to auto state is <strong>manual state</strong>, achieved by setting <code>popover="manual"</code> on your popover element:</p>
<div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span> <span class="token attr-name">popover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>manual<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Popover content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<p>In this state:</p>
<ul>
  <li>The popover cannot be "light dismissed", although declarative show/hide/toggle buttons (as seen earlier) will still work.</li>
  <li>Multiple independent popovers can be shown at a time.</li>
</ul>
<p>You can see this behavior in action in our <a href="https://mdn.github.io/dom-examples/popover-api/multiple-manual/" class="external" target="_blank">Multiple manual popovers example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/multiple-manual" class="external" target="_blank">source</a>).</p></div></section><section aria-labelledby="showing_popovers_via_javascript"><h2 id="showing_popovers_via_javascript"><a href="#showing_popovers_via_javascript">Showing popovers via JavaScript</a></h2><div class="section-content"><p>You can also control popovers using a JavaScript API.</p>
<p>The <a href="/en-US/docs/Web/API/HTMLElement/popover"><code>HTMLElement.popover</code></a> property can be used to get or set the <a href="/en-US/docs/Web/HTML/Global_attributes/popover"><code>popover</code></a> attribute. This can be used to create a popover via JavaScript, and is also useful for feature detection. For example:</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">supportsPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token class-name">HTMLElement</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">"popover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Similarly:</p>
<ul>
  <li><a href="/en-US/docs/Web/API/HTMLButtonElement/popoverTargetElement"><code>HTMLButtonElement.popoverTargetElement</code></a> and <a href="/en-US/docs/Web/API/HTMLInputElement/popoverTargetElement"><code>HTMLInputElement.popoverTargetElement</code></a> provide an equivalent to the <a href="/en-US/docs/Web/HTML/Element/button#popovertarget"><code>popovertarget</code></a> attribute, allowing you to set up the control button(s) for a popover, although the property value taken is a reference to the popover DOM element to control.</li>
  <li><a href="/en-US/docs/Web/API/HTMLButtonElement/popoverTargetAction"><code>HTMLButtonElement.popoverTargetAction</code></a> and <a href="/en-US/docs/Web/API/HTMLInputElement/popoverTargetAction"><code>HTMLInputElement.popoverTargetAction</code></a> provide an equivalent to the <a href="/en-US/docs/Web/HTML/Element/button#popovertargetaction"><code>popovertargetaction</code></a> global HTML attribute, allowing you to specify the action taken by a control button.</li>
</ul>
<p>Putting these three together, you can programmatically set up a popover and its control button, like so:</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">const</span> popover <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"mypopover"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> toggleBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"toggleBtn"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> keyboardHelpPara <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"keyboard-help-para"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> popoverSupported <span class="token operator">=</span> <span class="token function">supportsPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>popoverSupported<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  popover<span class="token punctuation">.</span>popover <span class="token operator">=</span> <span class="token string">"auto"</span><span class="token punctuation">;</span>
  toggleBtn<span class="token punctuation">.</span>popoverTargetElement <span class="token operator">=</span> popover<span class="token punctuation">;</span>
  toggleBtn<span class="token punctuation">.</span>popoverTargetAction <span class="token operator">=</span> <span class="token string">"toggle"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  toggleBtn<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"none"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>You also have several methods to control showing and hiding:</p>
<ul>
  <li><a href="/en-US/docs/Web/API/HTMLElement/showPopover"><code>HTMLElement.showPopover()</code></a> to show a popover.</li>
  <li><a href="/en-US/docs/Web/API/HTMLElement/hidePopover"><code>HTMLElement.hidePopover()</code></a> to hide a popover.</li>
  <li><a href="/en-US/docs/Web/API/HTMLElement/togglePopover"><code>HTMLElement.togglePopover()</code></a> to toggle a popover.</li>
</ul>
<p>For example, you might want to provide the ability to toggle a help popover on and off by clicking a button or pressing a particular key on the keyboard. The first one could be achieved declaratively, or you could do it using JavaScript as shown above.</p>
<p>For the second one, you could create an event handler that programs two separate keys — one to open the popover and one to close it again:</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"keydown"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"h"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>popover<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">":popover-open"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      popover<span class="token punctuation">.</span><span class="token function">hidePopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"s"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>popover<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">":popover-open"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      popover<span class="token punctuation">.</span><span class="token function">showPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>This example uses <a href="/en-US/docs/Web/API/Element/matches"><code>Element.matches()</code></a> to programmatically check whether a popover is currently showing. The <a href="/en-US/docs/Web/CSS/:popover-open"><code>:popover-open</code></a> pseudo-class matches only popovers that are currently being shown. This is important to avoid the errors that are thrown if you try to show an already-shown popover, or hide an already-hidden popover.</p>
<p>Alternatively, you could program a single key to show <em>and</em> hide the popover like this:</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"keydown"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">"h"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    popover<span class="token punctuation">.</span><span class="token function">togglePopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>See our <a href="https://mdn.github.io/dom-examples/popover-api/toggle-help-ui/" class="external" target="_blank">Toggle help UI example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/toggle-help-ui" class="external" target="_blank">source</a>) to see the popover JavaScript properties, feature detection, and <code>togglePopover()</code> method in action.</p></div></section><section aria-labelledby="dismissing_popovers_automatically_via_a_timer"><h2 id="dismissing_popovers_automatically_via_a_timer"><a href="#dismissing_popovers_automatically_via_a_timer">Dismissing popovers automatically via a timer</a></h2><div class="section-content"><p>Another common pattern in JavaScript is dismissing popovers automatically after a certain amount of time. You might for example want to create a system of "toast" notifications, where you have multiple actions underway at a time (for example multiple files uploading), and want to show a notification when each one succeeds or fails. For this you'll want to use manual popovers so you can show several at the same time, and use <a href="/en-US/docs/Web/API/setTimeout"><code>setTimeout()</code></a> to remove them. A function for handling such popovers might look like so:</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code><span class="token keyword">function</span> <span class="token function">makeToast</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> popover <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">"article"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span>popover <span class="token operator">=</span> <span class="token string">"manual"</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"toast"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"newest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">let</span> msg<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token string">"success"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg <span class="token operator">=</span> <span class="token string">"Action was successful!"</span><span class="token punctuation">;</span>
    popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    successCount<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">===</span> <span class="token string">"failure"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    msg <span class="token operator">=</span> <span class="token string">"Action failed!"</span><span class="token punctuation">;</span>
    popover<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"failure"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    failCount<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  popover<span class="token punctuation">.</span>textContent <span class="token operator">=</span> msg<span class="token punctuation">;</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>popover<span class="token punctuation">)</span><span class="token punctuation">;</span>
  popover<span class="token punctuation">.</span><span class="token function">showPopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">updateCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    popover<span class="token punctuation">.</span><span class="token function">hidePopover</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    popover<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">4000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>You can also use the <a href="/en-US/docs/Web/API/HTMLElement/beforetoggle_event" title="beforetoggle"><code>beforetoggle</code></a> event to perform a follow-up action when a popover shows or hides. In our example we execute a <code>moveToastsUp()</code> function to make the toasts all move up the screen to make way each time a new toast appears:</p>
<div class="code-example"><p class="example-header"><span class="language-name">js</span></p><pre class="brush: js notranslate"><code>popover<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"toggle"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>newState <span class="token operator">===</span> <span class="token string">"open"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">moveToastsUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">moveToastsUp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> toasts <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">".toast"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  toasts<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">toast</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>toast<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">"newest"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      toast<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">5px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
      toast<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">"newest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> prevValue <span class="token operator">=</span> toast<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"px"</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> newValue <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>prevValue<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">50</span><span class="token punctuation">;</span>
      toast<span class="token punctuation">.</span>style<span class="token punctuation">.</span>bottom <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>newValue<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">px</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>See our <a href="https://mdn.github.io/dom-examples/popover-api/toast-popovers/" class="external" target="_blank">Toast popover example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/toast-popovers" class="external" target="_blank">source</a>) to see the above example snippets in action, and full comments for explanation.</p></div></section><section aria-labelledby="nested_popovers"><h2 id="nested_popovers"><a href="#nested_popovers">Nested popovers</a></h2><div class="section-content"><p>There is an exception to the rule about not displaying multiple auto popovers at once — when they are nested inside one another. In such cases, multiple popovers are allowed to both be open at the same time, due to their relationship with each other. This pattern is supported to enable use cases such as nested popover menus.</p>
<p>There are three different ways to create nested popovers:</p>
<ol>
  <li>Direct DOM descendants:
    <div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>
  Parent
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>Child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
  </li>
  <li>Via invoking/control elements:
    <div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token punctuation">&gt;</span></span>
  Parent
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Click me<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
  </li>
  <li>Via the <code>anchor</code> attribute:
    <div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span> <span class="token attr-name">anchor</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>foo<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Child<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
  </li>
</ol>
<p>See our <a href="https://mdn.github.io/dom-examples/popover-api/nested-popovers/" class="external" target="_blank">Nested popover menu example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/nested-popovers" class="external" target="_blank">source</a>) for an example. You'll notice that quite a few event handlers have been used to display and hide the subpopover appropriately during mouse and keyboard access, and also to hide both menus when an option is selected from either. Depending on how you handle loading of new content , either in an SPA or multi-page website, some of all of these may not be necessary, but they have been included in this demo for illustrative purposes.</p></div></section><section aria-labelledby="styling_popovers"><h2 id="styling_popovers"><a href="#styling_popovers">Styling popovers</a></h2><div class="section-content"><p>The popover API has some related CSS features available that are worth looking at.</p>
<p>In terms of styling the actual popover, you can select all popovers with a simple attribute selector (<code>[popover]</code>), or you select popovers that are showing using a new pseudo-class — <a href="/en-US/docs/Web/CSS/:popover-open"><code>:popover-open</code></a>.</p>
<p>When looking at the first couple of examples linked at the start of the article, you may have noticed that the popovers appear in the middle of the viewport. This is the default styling, achieved like this in the UA stylesheet:</p>
<div class="code-example"><p class="example-header"><span class="language-name">css</span></p><pre class="brush: css notranslate"><code><span class="token selector">[popover]</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> fit-content<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> solid<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 0.25em<span class="token punctuation">;</span>
  <span class="token property">overflow</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> CanvasText<span class="token punctuation">;</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> Canvas<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>To override the default styles and get the popover to appear somewhere else on your viewport, you would need to override the above styles with something like this:</p>
<div class="code-example"><p class="example-header"><span class="language-name">css</span></p><pre class="brush: css notranslate"><code><span class="token selector">:popover-open</span> <span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">inset</span><span class="token punctuation">:</span> unset<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>You can see an isolated example of this in our <a href="https://mdn.github.io/dom-examples/popover-api/popover-positioning/" class="external" target="_blank">Popover positioning example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/popover-positioning" class="external" target="_blank">source</a>).</p>
<p>The <a href="/en-US/docs/Web/CSS/::backdrop"><code>::backdrop</code></a> pseudo-element is a full-screen element placed directly behind showing popover elements in the <a href="/en-US/docs/Glossary/Top_layer">top layer</a>, allowing effects to be added to the page content behind the popover(s) if desired. You might for example want to blur out the content behind the popover to help focus the user's attention on it:</p>
<div class="code-example"><p class="example-header"><span class="language-name">css</span></p><pre class="brush: css notranslate"><code><span class="token selector">::backdrop</span> <span class="token punctuation">{</span>
  <span class="token property">backdrop-filter</span><span class="token punctuation">:</span> <span class="token function">blur</span><span class="token punctuation">(</span>3px<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>See our <a href="https://mdn.github.io/dom-examples/popover-api/blur-background/" class="external" target="_blank">Popover blur background example</a> (<a href="https://github.com/mdn/dom-examples/tree/main/popover-api/blur-background" class="external" target="_blank">source</a>) for an idea of how this renders.</p></div></section><section aria-labelledby="animating_popovers"><h2 id="animating_popovers"><a href="#animating_popovers">Animating popovers</a></h2><div class="section-content"><p>Popovers are set to <code>display: none;</code> when hidden and <code>display: block;</code> when shown, as well as being removed from / added to the <a href="/en-US/docs/Glossary/Top_layer">top layer</a> and the <a href="/en-US/docs/Web/Performance/How_browsers_work#building_the_accessibility_tree">accessibility tree</a>. Therefore, for popovers to be animated, the <a href="/en-US/docs/Web/CSS/display"><code>display</code></a> property needs to be animatable. <a href="/en-US/docs/Web/CSS/display#browser_compatibility">Supporting browsers</a> animate <code>display</code> with a variation on the <a href="/en-US/docs/Web/CSS/CSS_animated_properties#discrete">discrete animation type</a>. Specifically, the browser will flip between <code>none</code> and another value of <code>display</code> so that the animated content is shown for the entire animation duration. So, for example:</p>
<ul>
  <li>When animating <code>display</code> from <code>none</code> to <code>block</code> (or another visible <code>display</code> value), the value will flip to <code>block</code> at <code>0%</code> of the animation duration so it is visible throughout.</li>
  <li>When animating <code>display</code> from <code>block</code> (or another visible <code>display</code> value) to <code>none</code>, the value will flip to <code>none</code> at <code>100%</code> of the animation duration so it is visible throughout.</li>
</ul>
<div class="notecard note" id="sect4">
  <p><strong>Note:</strong> When animating using <a href="/en-US/docs/Web/CSS/CSS_transitions">CSS transitions</a>, <a href="/en-US/docs/Web/CSS/transition-behavior"><code>transition-behavior: allow-discrete</code></a> needs to be set to enable the above behavior. When animating with <a href="/en-US/docs/Web/CSS/CSS_animations">CSS animations</a>, the above behavior is available by default; an equivalent step is not required.</p>
</div></div></section><section aria-labelledby="transitioning_a_popover"><h3 id="transitioning_a_popover"><a href="#transitioning_a_popover">Transitioning a popover</a></h3><div class="section-content"><p>When animating popovers with CSS transitions, the following features are required:</p>
<dl>
  <dt id="starting-style"><a href="/en-US/docs/Web/CSS/@starting-style"><code>@starting-style</code></a> at-rule</dt>
  <dd>
    <p>Provides a set of starting values for properties set on the popover that you want to transition from when it is first shown. This is needed to avoid unexpected behavior. By default, CSS transitions only occur when a property changes from one value to another on a visible element; they are not triggered on an element's first style update, or when the <code>display</code> type changes from <code>none</code> to another type.</p>
  </dd>
  <dt id="display"><a href="/en-US/docs/Web/CSS/display"><code>display</code></a> property</dt>
  <dd>
    <p>Add <code>display</code> to the transitions list so that the popover will remain as <code>display: block</code> (or another visible <code>display</code> value) for the duration of the transition, ensuring the other transitions are visible.</p>
  </dd>
  <dt id="overlay"><a href="/en-US/docs/Web/CSS/overlay"><code>overlay</code></a> property</dt>
  <dd>
    <p>Include <code>overlay</code> in the transitions list to ensure the removal of the popover from the top layer is deferred until the transition completes, again ensuring the transition is visible.</p>
  </dd>
  <dt id="transition-behavior"><a href="/en-US/docs/Web/CSS/transition-behavior"><code>transition-behavior</code></a> property</dt>
  <dd>
    <p>Set <code>transition-behavior: allow-discrete</code> on the <code>display</code> and <code>overlay</code> transitions (or on the <a href="/en-US/docs/Web/CSS/transition"><code>transition</code></a> shorthand) to enable discrete transitions on these two properties that are not by default animatable.</p>
  </dd>
</dl>
<p>Let's have a look at an example so you can see what this looks like:</p>
<h4 id="html">HTML</h4>
<p>The HTML contains a <a href="/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> element declared to be a popover via the global <a href="/en-US/docs/Web/HTML/Global_attributes/popover"><code>popover</code></a> HTML attribute, and a <a href="/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> element designated as the popover's display control:</p>
<div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Show the popover<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>I'm a Popover! I should animate.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<h4 id="css">CSS</h4>
<p>The two popover properties we want to transition are <a href="/en-US/docs/Web/CSS/opacity"><code>opacity</code></a> and <a href="/en-US/docs/Web/CSS/transform"><code>transform</code></a>. We want the popover to fade in or out while growing or shrinking horizontally. To achieve this, we set a starting state for these properties on the hidden state of the popover element (selected with the <code>[popover]</code> <a href="/en-US/docs/Web/CSS/Attribute_selectors">attribute selector</a>) and an end state for the shown state of the popover (selected via the <a href="/en-US/docs/Web/CSS/:popover-open"><code>:popover-open</code></a> pseudo-class). We also use the <a href="/en-US/docs/Web/CSS/transition"><code>transition</code></a> property to define the properties to animate and the animation's duration as the popover gets shown or hidden.</p>
<div class="code-example"><p class="example-header"><span class="language-name">css</span></p><pre class="brush: css notranslate"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Transition for the popover itself */</span>

<span class="token selector">[popover]:popover-open</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[popover]</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.2rem<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>

  <span class="token comment">/* Final state of the exit animation */</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token property">transition</span><span class="token punctuation">:</span>
    opacity 0.7s<span class="token punctuation">,</span>
    transform 0.7s<span class="token punctuation">,</span>
    overlay 0.7s allow-discrete<span class="token punctuation">,</span>
    display 0.7s allow-discrete<span class="token punctuation">;</span>
  <span class="token comment">/* Equivalent to
  transition: all 0.7s allow-discrete; */</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Needs to be after the previous [popover]:popover-open rule
to take effect, as the specificity is the same */</span>
<span class="token atrule"><span class="token rule">@starting-style</span></span> <span class="token punctuation">{</span>
  <span class="token selector">[popover]:popover-open</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Transition for the popover's backdrop */</span>

<span class="token selector">[popover]::backdrop</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>0 0 0 / 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token property">transition</span><span class="token punctuation">:</span>
    display 0.7s allow-discrete<span class="token punctuation">,</span>
    overlay 0.7s allow-discrete<span class="token punctuation">,</span>
    background-color 0.7s<span class="token punctuation">;</span>
  <span class="token comment">/* Equivalent to
  transition: all 0.7s allow-discrete; */</span>
<span class="token punctuation">}</span>

<span class="token selector">[popover]:popover-open::backdrop</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>0 0 0 / 0.25<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* The nesting selector (&amp;) cannot represent pseudo-elements
so this starting-style rule cannot be nested */</span>

<span class="token atrule"><span class="token rule">@starting-style</span></span> <span class="token punctuation">{</span>
  <span class="token selector">[popover]:popover-open::backdrop</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>0 0 0 / 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>As discussed earlier, we have also:</p>
<ul>
  <li>Set a starting state for the <code>transition</code> inside the <code>@starting-style</code> block.</li>
  <li>Added <code>display</code> to the list of transitioned properties so that the animated element is visible (set to <code>display: block</code>) throughout the popover's entry and exit animations. Without this, the exit animation would not be visible; in effect, the popover would just disappear.</li>
  <li>Added <code>overlay</code> to the list of transitioned properties to make sure that the removal of the element from the top layer is deferred until the animation has been completed. The effect of this may not be noticeable for basic animations such as this one, but in more complex cases, omitting this property can result in the element being removed from the overlay before the transition completes.</li>
  <li>Set <code>allow-discrete</code> on both properties in the above transitions to enable <a href="/en-US/docs/Web/CSS/CSS_animated_properties#discrete">discrete transitions</a>.</li>
</ul>
<p>You'll note that we've also included a transition on the <a href="/en-US/docs/Web/CSS/::backdrop"><code>::backdrop</code></a> appearing behind the popover when it opens, providing a nice darkening animation.</p>
<h4 id="result">Result</h4>
<p>The code renders as follows:</p><div class="code-example" id="sect5"><p class="example-header"></p><iframe class="sample-code-frame" title="Transitioning a popover sample" id="frame_transitioning_a_popover" width="100%" height="200" src="http://localhost:5042/en-US/docs/Web/API/Popover_API/Using/runner.html?id=transitioning_a_popover" loading="lazy"></iframe></div>
<div class="notecard note" id="sect6">
  <p><strong>Note:</strong> Because popovers change from <code>display: none</code> to <code>display: block</code> each time they are shown, the popover transitions from its <code>@starting-style</code> styles to its <code>[popover]:popover-open</code> styles every time the entry transition occurs. When the popover closes, it transitions from its <code>[popover]:popover-open</code> state to the default <code>[popover]</code> state.</p>
  <p>It is possible for the style transition on entry and exit to be different in such cases. See our <a href="/en-US/docs/Web/CSS/@starting-style#demonstration_of_when_starting_styles_are_used">Demonstration of when starting styles are used</a> example for a proof of this.</p>
</div></div></section><section aria-labelledby="a_popover_keyframe_animation"><h3 id="a_popover_keyframe_animation"><a href="#a_popover_keyframe_animation">A popover keyframe animation</a></h3><div class="section-content"><p>When animating a popover with CSS keyframe animations, there are some differences to note:</p>
<ul>
  <li>You don't provide a <code>@starting-style</code>; you include your "to" and "from" <code>display</code> values in keyframes.</li>
  <li>You don't explicitly enable discrete animations; there is no equivalent to <code>allow-discrete</code> inside keyframes.</li>
  <li>You don't need to set <code>overlay</code> inside keyframes either; the <code>display</code> animation handles the animation of the popover from shown to hidden.</li>
</ul>
<p>Let's look at an example.</p>
<h4 id="html_2">HTML</h4>
<p>The HTML contains a <a href="/en-US/docs/Web/HTML/Element/div"><code>&lt;div&gt;</code></a> element declared as a popover, and a <a href="/en-US/docs/Web/HTML/Element/button"><code>&lt;button&gt;</code></a> element designated as the popover's display control:</p>
<div class="code-example"><p class="example-header"><span class="language-name">html</span></p><pre class="brush: html notranslate"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">popovertarget</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>Show the popover<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">popover</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mypopover<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span>I'm a Popover! I should animate.<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div>
<h4 id="css_2">CSS</h4>
<p>We have defined keyframes that specify the desired entry and exit animations, and an entry animation for the backdrop only. Note that it wasn't possible to animate the backdrop fade out — the backdrop is immediately removed from the DOM when the popover is closed, so there is nothing to animate.</p>
<div class="code-example"><p class="example-header"><span class="language-name">css</span></p><pre class="brush: css notranslate"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token property">font-family</span><span class="token punctuation">:</span> Arial<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[popover]</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.2rem<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade-out 0.7s ease-out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[popover]:popover-open</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> fade-in 0.7s ease-out<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[popover]:popover-open::backdrop</span> <span class="token punctuation">{</span>
  <span class="token property">animation</span><span class="token punctuation">:</span> backdrop-fade-in 0.7s ease-out forwards<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Animation keyframes */</span>

<span class="token atrule"><span class="token rule">@keyframes</span> fade-in</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> fade-out</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>1<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* display needed on the closing animation to keep the popover
    visible until the animation ends */</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scaleX</span><span class="token punctuation">(</span>0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">/* display: none not required here because it is the default value
    for a closed popover, but including it so the behavior is clear */</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> backdrop-fade-in</span> <span class="token punctuation">{</span>
  <span class="token selector">0%</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>0 0 0 / 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">100%</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>0 0 0 / 0.25<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<h4 id="result_2">Result</h4>
<p>The code renders as follows:</p><div class="code-example" id="sect7"><p class="example-header"></p><iframe class="sample-code-frame" title="A popover keyframe animation sample" id="frame_a_popover_keyframe_animation" width="100%" height="200" src="http://localhost:5042/en-US/docs/Web/API/Popover_API/Using/runner.html?id=a_popover_keyframe_animation" loading="lazy"></iframe></div></div></section><aside class="metadata"><div class="metadata-content-container"><div id="on-github" class="on-github"><h3>Found a content problem with this page?</h3><ul><li><a href="https://github.com/mdn/content/edit/main/files/en-us/web/api/popover_api/using/index.md" title="This will take you to GitHub, where you&#x27;ll need to sign in first." target="_blank" rel="noopener noreferrer">Edit the page on GitHub</a>.</li><li><a href="https://github.com/mdn/content/issues/new?template=page-report.yml&amp;mdn-url=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPopover_API%2FUsing&amp;metadata=%3C%21--+Do+not+make+changes+below+this+line+--%3E%0A%3Cdetails%3E%0A%3Csummary%3EPage+report+details%3C%2Fsummary%3E%0A%0A*+Folder%3A+%60en-us%2Fweb%2Fapi%2Fpopover_api%2Fusing%60%0A*+MDN+URL%3A+https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FAPI%2FPopover_API%2FUsing%0A*+GitHub+URL%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fblob%2Fmain%2Ffiles%2Fen-us%2Fweb%2Fapi%2Fpopover_api%2Fusing%2Findex.md%0A*+Last+commit%3A+https%3A%2F%2Fgithub.com%2Fmdn%2Fcontent%2Fcommit%2F3ce863eafe2d98caca1b395691c47f255947a6e0%0A*+Document+last+modified%3A+2023-11-29T15%3A13%3A55.000Z%0A%0A%3C%2Fdetails%3E" title="This will take you to GitHub to file a new issue." target="_blank" rel="noopener noreferrer">Report the content issue</a>.</li><li><a href="https://github.com/mdn/content/blob/main/files/en-us/web/api/popover_api/using/index.md?plain=1" title="Folder: en-us/web/api/popover_api/using (Opens in a new tab)" target="_blank" rel="noopener noreferrer">View the source on GitHub</a>.</li></ul>Want to get more involved?<!-- --> <a href="https://github.com/mdn/content/blob/main/CONTRIBUTING.md" title="This will take you to our contribution guidelines on GitHub." target="_blank" rel="noopener noreferrer">Learn how to contribute</a>.</div><p class="last-modified-date">This page was last modified on<!-- --> <time dateTime="2023-11-29T15:13:55.000Z">Nov 29, 2023</time> by<!-- --> <a href="/en-US/docs/Web/API/Popover_API/Using/contributors.txt">MDN contributors</a>.</p></div></aside></article></main></div></div><footer id="nav-footer" class="page-footer"><div class="page-footer-grid"><div class="page-footer-logo-col"><a href="/" class="mdn-footer-logo" aria-label="MDN homepage"><svg width="48" height="17" viewBox="0 0 48 17" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mdn-footer-logo-svg">MDN logo</title><path d="M20.04 16.512H15.504V10.416C15.504 9.488 15.344 8.824 15.024 8.424C14.72 8.024 14.264 7.824 13.656 7.824C12.92 7.824 12.384 8.064 12.048 8.544C11.728 9.024 11.568 9.64 11.568 10.392V14.184H13.008V16.512H8.472V10.416C8.472 9.488 8.312 8.824 7.992 8.424C7.688 8.024 7.232 7.824 6.624 7.824C5.872 7.824 5.336 8.064 5.016 8.544C4.696 9.024 4.536 9.64 4.536 10.392V14.184H6.6V16.512H0V14.184H1.44V8.04H0.024V5.688H4.536V7.32C5.224 6.088 6.32 5.472 7.824 5.472C8.608 5.472 9.328 5.664 9.984 6.048C10.64 6.432 11.096 7.016 11.352 7.8C11.992 6.248 13.168 5.472 14.88 5.472C15.856 5.472 16.72 5.776 17.472 6.384C18.224 6.992 18.6 7.936 18.6 9.216V14.184H20.04V16.512Z" fill="currentColor"></path><path d="M33.6714 16.512H29.1354V14.496C28.8314 15.12 28.3834 15.656 27.7914 16.104C27.1994 16.536 26.4154 16.752 25.4394 16.752C24.0154 16.752 22.8954 16.264 22.0794 15.288C21.2634 14.312 20.8554 12.984 20.8554 11.304C20.8554 9.688 21.2554 8.312 22.0554 7.176C22.8554 6.04 24.0634 5.472 25.6794 5.472C26.5594 5.472 27.2794 5.648 27.8394 6C28.3994 6.352 28.8314 6.8 29.1354 7.344V2.352H26.9754V0H32.2314V14.184H33.6714V16.512ZM29.1354 11.04V10.776C29.1354 9.88 28.8954 9.184 28.4154 8.688C27.9514 8.176 27.3674 7.92 26.6634 7.92C25.9754 7.92 25.3674 8.176 24.8394 8.688C24.3274 9.2 24.0714 10.008 24.0714 11.112C24.0714 12.152 24.3114 12.944 24.7914 13.488C25.2714 14.032 25.8394 14.304 26.4954 14.304C27.3114 14.304 27.9514 13.96 28.4154 13.272C28.8954 12.584 29.1354 11.84 29.1354 11.04Z" fill="currentColor"></path><path d="M47.9589 16.512H41.9829V14.184H43.4229V10.416C43.4229 9.488 43.2629 8.824 42.9429 8.424C42.6389 8.024 42.1829 7.824 41.5749 7.824C40.8389 7.824 40.2709 8.056 39.8709 8.52C39.4709 8.968 39.2629 9.56 39.2469 10.296V14.184H40.6869V16.512H34.7109V14.184H36.1509V8.04H34.5909V5.688H39.2469V7.344C39.9669 6.096 41.1269 5.472 42.7269 5.472C43.7509 5.472 44.6389 5.776 45.3909 6.384C46.1429 6.992 46.5189 7.936 46.5189 9.216V14.184H47.9589V16.512Z" fill="currentColor"></path></svg></a><p>Your blueprint for a better internet.</p><ul class="social-icons"><li><a class="icon icon-mastodon" href="https://mozilla.social/@mdn" target="_blank" rel="me noopener noreferrer"><span class="visually-hidden">MDN on Mastodon</span></a></li><li><a class="icon icon-twitter" href="https://twitter.com/mozdevnet" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on Twitter</span></a></li><li><a class="icon icon-github-mark-small" href="https://github.com/mdn/" target="_blank" rel="noopener noreferrer"><span class="visually-hidden">MDN on GitHub</span></a></li><li><a class="icon icon-feed" href="/en-US/blog/rss.xml" target="_blank"><span class="visually-hidden">MDN Blog RSS Feed</span></a></li></ul></div><div class="page-footer-nav-col-1"><h2 class="footer-nav-heading">MDN</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a href="/en-US/about">About</a></li><li class="footer-nav-item"><a href="/en-US/blog/">Blog</a></li><li class="footer-nav-item"><a href="https://www.mozilla.org/en-US/careers/listings/?team=ProdOps" target="_blank" rel="noopener noreferrer">Careers</a></li><li class="footer-nav-item"><a href="/en-US/advertising">Advertise with us</a></li></ul></div><div class="page-footer-nav-col-2"><h2 class="footer-nav-heading">Support</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/MDN/Community/Issues">Report an issue</a></li></ul></div><div class="page-footer-nav-col-3"><h2 class="footer-nav-heading">Our communities</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/community">MDN Community</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="https://discourse.mozilla.org/c/mdn/236" target="_blank" rel="noopener noreferrer">MDN Forum</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/discord" target="_blank" rel="noopener noreferrer">MDN Chat</a></li></ul></div><div class="page-footer-nav-col-4"><h2 class="footer-nav-heading">Developers</h2><ul class="footer-nav-list"><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Web">Web Technologies</a></li><li class="footer-nav-item"><a class="footer-nav-link" href="/en-US/docs/Learn">Learn Web Development</a></li><li class="footer-nav-item"><a href="https://hacks.mozilla.org/" target="_blank" rel="noopener noreferrer">Hacks Blog</a></li></ul></div><div class="page-footer-moz"><a href="https://www.mozilla.org/" class="footer-moz-logo-link" target="_blank" rel="noopener noreferrer"><svg width="112" height="32" fill="none" xmlns="http://www.w3.org/2000/svg"><title id="mozilla-footer-logo-svg">Mozilla logo</title><path d="M41.753 14.218c-2.048 0-3.324 1.522-3.324 4.157 0 2.423 1.119 4.286 3.29 4.286 2.082 0 3.447-1.678 3.447-4.347 0-2.826-1.522-4.096-3.413-4.096Zm54.89 7.044c0 .901.437 1.618 1.645 1.618 1.427 0 2.949-1.024 3.044-3.352-.649-.095-1.365-.185-2.02-.185-1.426-.005-2.668.397-2.668 1.92Z" fill="currentColor"></path><path d="M0 0v32h111.908V0H0Zm32.56 25.426h-5.87v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h1.864v3.044h-5.864v-7.884c0-2.423-.806-3.352-2.39-3.352-1.924 0-2.702 1.365-2.702 3.324v4.868h2.669v3.044H6.642v-3.044h1.863v-7.918H6.642V11.42h5.864v2.11c.839-1.489 2.3-2.39 4.252-2.39 2.02 0 3.878.963 4.566 3.01.778-1.862 2.361-3.01 4.566-3.01 2.512 0 4.812 1.522 4.812 4.84v6.402h1.863v3.044h-.005Zm9.036.307c-4.314 0-7.296-2.635-7.296-7.106 0-4.096 2.484-7.481 7.514-7.481s7.481 3.38 7.481 7.29c0 4.472-3.228 7.297-7.699 7.297Zm22.578-.307H51.942l-.403-2.11 7.7-8.846h-4.376l-.621 2.17-2.888-.313.498-4.907h12.294l.313 2.11-7.767 8.852h4.533l.654-2.172 3.167.308-.872 4.908Zm7.99 0h-4.191v-5.03h4.19v5.03Zm0-8.976h-4.191v-5.03h4.19v5.03Zm2.618 8.976 6.054-21.358h3.945l-6.054 21.358h-3.945Zm8.136 0 6.048-21.358h3.945l-6.054 21.358h-3.939Zm21.486.307c-1.863 0-2.887-1.085-3.072-2.792-.805 1.427-2.232 2.792-4.498 2.792-2.02 0-4.314-1.085-4.314-4.006 0-3.447 3.323-4.253 6.518-4.253.778 0 1.584.034 2.3.124v-.465c0-1.427-.034-3.133-2.3-3.133-.84 0-1.488.061-2.143.402l-.453 1.578-3.195-.34.549-3.224c2.45-.996 3.692-1.27 5.992-1.27 3.01 0 5.556 1.55 5.556 4.75v6.083c0 .805.314 1.085.963 1.085.184 0 .375-.034.587-.095l.034 2.11a5.432 5.432 0 0 1-2.524.654Z" fill="currentColor"></path></svg></a><ul class="footer-moz-list"><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Website Privacy Notice</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/privacy/websites/#cookies" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Cookies</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/legal/terms/mozilla" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Legal</a></li><li class="footer-moz-item"><a href="https://www.mozilla.org/about/governance/policies/participation/" class="footer-moz-link" target="_blank" rel="noopener noreferrer">Community Participation Guidelines</a></li></ul></div><div class="page-footer-legal"><p id="license" class="page-footer-legal-text">Visit<!-- --> <a href="https://www.mozilla.org" target="_blank" rel="noopener noreferrer">Mozilla Corporation’s</a> <!-- -->not-for-profit parent, the<!-- --> <a target="_blank" rel="noopener noreferrer" href="https://foundation.mozilla.org/">Mozilla Foundation</a>.<br/>Portions of this content are ©1998–<!-- -->2023<!-- --> by individual mozilla.org contributors. Content available under<!-- --> <a href="/en-US/docs/MDN/Writing_guidelines/Attrib_copyright_license">a Creative Commons license</a>.</p></div></div></footer></div><script type="application/json" id="hydration">{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Using the Popover API","mdn_url":"/en-US/docs/Web/API/Popover_API/Using","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Popover_API\">Popover API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><em><a href=\"/en-US/docs/Web/API/Popover_API/Using\" aria-current=\"page\">Using the Popover API</a></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/ToggleEvent\"><code>ToggleEvent</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/HTMLButtonElement/popoverTargetAction\"><code>HTMLButtonElement.popoverTargetAction</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLButtonElement/popoverTargetElement\"><code>HTMLButtonElement.popoverTargetElement</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLElement/popover\"><code>HTMLElement.popover</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLInputElement/popoverTargetAction\"><code>HTMLInputElement.popoverTargetAction</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLInputElement/popoverTargetElement\"><code>HTMLInputElement.popoverTargetElement</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/HTMLElement/hidePopover\"><code>HTMLElement.hidePopover()</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLElement/showPopover\"><code>HTMLElement.showPopover()</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLElement/togglePopover\"><code>HTMLElement.togglePopover()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Events</summary><ol><li><a href=\"/en-US/docs/Web/API/HTMLElement/beforetoggle_event\"><code>HTMLElement</code>: <code>beforetoggle</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLElement/toggle_event\"><code>HTMLElement</code>: <code>toggle</code></a></li></ol></details></li></ol>","sidebarMacro":"DefaultAPISidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong>Popover API</strong> provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. Popover content can be controlled either declaratively using HTML attributes, or via JavaScript. This article provides a detailed guide to using all of its features.</p>"}},{"type":"prose","value":{"id":"creating_declarative_popovers","title":"Creating declarative popovers","isH3":false,"content":"<p>In its simplest form, a popover is created by adding the <a href=\"/en-US/docs/Web/HTML/Global_attributes/popover\"><code>popover</code></a> attribute to the element that you want to contain your popover content. An <code>id</code> is also needed to associate the popover with its controls.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">popover</span><span class=\"token punctuation\">&gt;</span></span>Popover content<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> Setting the <code>popover</code> attribute with no value is equivalent to setting <code>popover=\"auto\"</code>.</p>\n</div>\n<p>Adding this attribute causes the element to be hidden on page load by having <a href=\"/en-US/docs/Web/CSS/display\"><code>display: none</code></a> set on it. To show/hide the popover, you need to add some control buttons. You can set a <a href=\"/en-US/docs/Web/HTML/Element/button\"><code>&lt;button&gt;</code></a> (or <a href=\"/en-US/docs/Web/HTML/Element/input\"><code>&lt;input&gt;</code></a> of <code>type=\"button\"</code>) as a popover control button by giving it a <a href=\"/en-US/docs/Web/HTML/Element/button#popovertarget\"><code>popovertarget</code></a> attribute, the value of which should be the ID of the popover to control:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">popovertarget</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Toggle the popover<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">popover</span><span class=\"token punctuation\">&gt;</span></span>Popover content<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>The default behavior is for the button to be a toggle button — pressing it repeatedly will toggle the popover between showing and hidden.</p>\n<p>If you want to change that behavior, you can use the <a href=\"/en-US/docs/Web/HTML/Element/button#popovertargetaction\"><code>popovertargetaction</code></a> attribute — this takes a value of <code>\"hide\"</code>, <code>\"show\"</code>, or <code>\"toggle\"</code>. For example, to create separate show and hide buttons, you could do this:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">popovertarget</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">popovertargetaction</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>show<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  Show popover\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">popovertarget</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">popovertargetaction</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>hide<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>\n  Hide popover\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">popover</span><span class=\"token punctuation\">&gt;</span></span>Popover content<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>You can see how the previous code snippet renders in our <a href=\"https://mdn.github.io/dom-examples/popover-api/basic-declarative/\" class=\"external\" target=\"_blank\">Basic declarative popover example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/basic-declarative\" class=\"external\" target=\"_blank\">source</a>).</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> If the <code>popovertargetaction</code> attribute is omitted, <code>\"toggle\"</code> is the default action that will be performed by a control button.</p>\n</div>\n<p>When a popover is shown, it has <code>display: none</code> removed from it and it is put into the <a href=\"/en-US/docs/Glossary/Top_layer\">top layer</a> so it will sit on top of all other page content.</p>"}},{"type":"prose","value":{"id":"auto_state_and_light_dismiss","title":"auto state, and \"light dismiss\"","isH3":false,"content":"<p>When a popover element is set with <code>popover</code> or <code>popover=\"auto\"</code> as shown above, it is said to have <strong>auto state</strong>. The two important behaviors to note about auto state are:</p>\n<ul>\n  <li>The popover can be \"light dismissed\" — this means that you can hide the popover by clicking outside it or pressing the <kbd>Esc</kbd> key.</li>\n  <li>Usually, only one popover can be shown at a time — showing a second popover when one is already shown will hide the first one. The exception to this rule is when you have nested auto popovers. See the <a href=\"#nested_popovers\">Nested popovers</a> section for more details.</li>\n</ul>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note:</strong> <code>popover=\"auto\"</code> popovers are also dismissed by successful <a href=\"/en-US/docs/Web/API/HTMLDialogElement/showModal\"><code>HTMLDialogElement.showModal()</code></a> and <a href=\"/en-US/docs/Web/API/Element/requestFullscreen\"><code>Element.requestFullscreen()</code></a> calls on other elements in the document. Bear in mind however that calling these methods on a shown popover will result in failure because those behaviors don't make sense on an already-shown popover. You can however call them on an element with the <code>popover</code> attribute that isn't currently being shown.</p>\n</div>\n<p>Auto state is useful when you only want to show a single popover at once. Perhaps you have multiple teaching UI messages that you want to show, but don't want the display to start getting cluttered and confusing, or perhaps you are showing status messages where the new status overrides any previous status.</p>\n<p>You can see the behavior described above in action in our <a href=\"https://mdn.github.io/dom-examples/popover-api/multiple-auto/\" class=\"external\" target=\"_blank\">Multiple auto popovers example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/multiple-auto\" class=\"external\" target=\"_blank\">source</a>). Try light dismissing the popovers after they are shown, and see what happens when you try to show both at the same time.</p>"}},{"type":"prose","value":{"id":"using_manual_popover_state","title":"Using manual popover state","isH3":false,"content":"<p>The alternative to auto state is <strong>manual state</strong>, achieved by setting <code>popover=\"manual\"</code> on your popover element:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">popover</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>manual<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Popover content<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<p>In this state:</p>\n<ul>\n  <li>The popover cannot be \"light dismissed\", although declarative show/hide/toggle buttons (as seen earlier) will still work.</li>\n  <li>Multiple independent popovers can be shown at a time.</li>\n</ul>\n<p>You can see this behavior in action in our <a href=\"https://mdn.github.io/dom-examples/popover-api/multiple-manual/\" class=\"external\" target=\"_blank\">Multiple manual popovers example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/multiple-manual\" class=\"external\" target=\"_blank\">source</a>).</p>"}},{"type":"prose","value":{"id":"showing_popovers_via_javascript","title":"Showing popovers via JavaScript","isH3":false,"content":"<p>You can also control popovers using a JavaScript API.</p>\n<p>The <a href=\"/en-US/docs/Web/API/HTMLElement/popover\"><code>HTMLElement.popover</code></a> property can be used to get or set the <a href=\"/en-US/docs/Web/HTML/Global_attributes/popover\"><code>popover</code></a> attribute. This can be used to create a popover via JavaScript, and is also useful for feature detection. For example:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">supportsPopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token class-name\">HTMLElement</span><span class=\"token punctuation\">.</span>prototype<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnProperty</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"popover\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Similarly:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/HTMLButtonElement/popoverTargetElement\"><code>HTMLButtonElement.popoverTargetElement</code></a> and <a href=\"/en-US/docs/Web/API/HTMLInputElement/popoverTargetElement\"><code>HTMLInputElement.popoverTargetElement</code></a> provide an equivalent to the <a href=\"/en-US/docs/Web/HTML/Element/button#popovertarget\"><code>popovertarget</code></a> attribute, allowing you to set up the control button(s) for a popover, although the property value taken is a reference to the popover DOM element to control.</li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLButtonElement/popoverTargetAction\"><code>HTMLButtonElement.popoverTargetAction</code></a> and <a href=\"/en-US/docs/Web/API/HTMLInputElement/popoverTargetAction\"><code>HTMLInputElement.popoverTargetAction</code></a> provide an equivalent to the <a href=\"/en-US/docs/Web/HTML/Element/button#popovertargetaction\"><code>popovertargetaction</code></a> global HTML attribute, allowing you to specify the action taken by a control button.</li>\n</ul>\n<p>Putting these three together, you can programmatically set up a popover and its control button, like so:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> popover <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"mypopover\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> toggleBtn <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toggleBtn\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> keyboardHelpPara <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"keyboard-help-para\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> popoverSupported <span class=\"token operator\">=</span> <span class=\"token function\">supportsPopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>popoverSupported<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  popover<span class=\"token punctuation\">.</span>popover <span class=\"token operator\">=</span> <span class=\"token string\">\"auto\"</span><span class=\"token punctuation\">;</span>\n  toggleBtn<span class=\"token punctuation\">.</span>popoverTargetElement <span class=\"token operator\">=</span> popover<span class=\"token punctuation\">;</span>\n  toggleBtn<span class=\"token punctuation\">.</span>popoverTargetAction <span class=\"token operator\">=</span> <span class=\"token string\">\"toggle\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n  toggleBtn<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>display <span class=\"token operator\">=</span> <span class=\"token string\">\"none\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>You also have several methods to control showing and hiding:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/HTMLElement/showPopover\"><code>HTMLElement.showPopover()</code></a> to show a popover.</li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLElement/hidePopover\"><code>HTMLElement.hidePopover()</code></a> to hide a popover.</li>\n  <li><a href=\"/en-US/docs/Web/API/HTMLElement/togglePopover\"><code>HTMLElement.togglePopover()</code></a> to toggle a popover.</li>\n</ul>\n<p>For example, you might want to provide the ability to toggle a help popover on and off by clicking a button or pressing a particular key on the keyboard. The first one could be achieved declaratively, or you could do it using JavaScript as shown above.</p>\n<p>For the second one, you could create an event handler that programs two separate keys — one to open the popover and one to close it again:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"keydown\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">\"h\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>popover<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":popover-open\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      popover<span class=\"token punctuation\">.</span><span class=\"token function\">hidePopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">\"s\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>popover<span class=\"token punctuation\">.</span><span class=\"token function\">matches</span><span class=\"token punctuation\">(</span><span class=\"token string\">\":popover-open\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      popover<span class=\"token punctuation\">.</span><span class=\"token function\">showPopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>This example uses <a href=\"/en-US/docs/Web/API/Element/matches\"><code>Element.matches()</code></a> to programmatically check whether a popover is currently showing. The <a href=\"/en-US/docs/Web/CSS/:popover-open\"><code>:popover-open</code></a> pseudo-class matches only popovers that are currently being shown. This is important to avoid the errors that are thrown if you try to show an already-shown popover, or hide an already-hidden popover.</p>\n<p>Alternatively, you could program a single key to show <em>and</em> hide the popover like this:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>document<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"keydown\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>key <span class=\"token operator\">===</span> <span class=\"token string\">\"h\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    popover<span class=\"token punctuation\">.</span><span class=\"token function\">togglePopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>See our <a href=\"https://mdn.github.io/dom-examples/popover-api/toggle-help-ui/\" class=\"external\" target=\"_blank\">Toggle help UI example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/toggle-help-ui\" class=\"external\" target=\"_blank\">source</a>) to see the popover JavaScript properties, feature detection, and <code>togglePopover()</code> method in action.</p>"}},{"type":"prose","value":{"id":"dismissing_popovers_automatically_via_a_timer","title":"Dismissing popovers automatically via a timer","isH3":false,"content":"<p>Another common pattern in JavaScript is dismissing popovers automatically after a certain amount of time. You might for example want to create a system of \"toast\" notifications, where you have multiple actions underway at a time (for example multiple files uploading), and want to show a notification when each one succeeds or fails. For this you'll want to use manual popovers so you can show several at the same time, and use <a href=\"/en-US/docs/Web/API/setTimeout\"><code>setTimeout()</code></a> to remove them. A function for handling such popovers might look like so:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">makeToast</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> popover <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"article\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  popover<span class=\"token punctuation\">.</span>popover <span class=\"token operator\">=</span> <span class=\"token string\">\"manual\"</span><span class=\"token punctuation\">;</span>\n  popover<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toast\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  popover<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"newest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">let</span> msg<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">===</span> <span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    msg <span class=\"token operator\">=</span> <span class=\"token string\">\"Action was successful!\"</span><span class=\"token punctuation\">;</span>\n    popover<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"success\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    successCount<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result <span class=\"token operator\">===</span> <span class=\"token string\">\"failure\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    msg <span class=\"token operator\">=</span> <span class=\"token string\">\"Action failed!\"</span><span class=\"token punctuation\">;</span>\n    popover<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"failure\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    failCount<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  popover<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> msg<span class=\"token punctuation\">;</span>\n  document<span class=\"token punctuation\">.</span>body<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>popover<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  popover<span class=\"token punctuation\">.</span><span class=\"token function\">showPopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">updateCounter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    popover<span class=\"token punctuation\">.</span><span class=\"token function\">hidePopover</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    popover<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>You can also use the <a href=\"/en-US/docs/Web/API/HTMLElement/beforetoggle_event\" title=\"beforetoggle\"><code>beforetoggle</code></a> event to perform a follow-up action when a popover shows or hides. In our example we execute a <code>moveToastsUp()</code> function to make the toasts all move up the screen to make way each time a new toast appears:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>popover<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"toggle\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>newState <span class=\"token operator\">===</span> <span class=\"token string\">\"open\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">moveToastsUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">moveToastsUp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> toasts <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">querySelectorAll</span><span class=\"token punctuation\">(</span><span class=\"token string\">\".toast\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  toasts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">toast</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>toast<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">contains</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"newest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      toast<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>bottom <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">5px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n      toast<span class=\"token punctuation\">.</span>classList<span class=\"token punctuation\">.</span><span class=\"token function\">remove</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"newest\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">const</span> prevValue <span class=\"token operator\">=</span> toast<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>bottom<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"px\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">const</span> newValue <span class=\"token operator\">=</span> <span class=\"token function\">parseInt</span><span class=\"token punctuation\">(</span>prevValue<span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token number\">50</span><span class=\"token punctuation\">;</span>\n      toast<span class=\"token punctuation\">.</span>style<span class=\"token punctuation\">.</span>bottom <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>newValue<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>See our <a href=\"https://mdn.github.io/dom-examples/popover-api/toast-popovers/\" class=\"external\" target=\"_blank\">Toast popover example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/toast-popovers\" class=\"external\" target=\"_blank\">source</a>) to see the above example snippets in action, and full comments for explanation.</p>"}},{"type":"prose","value":{"id":"nested_popovers","title":"Nested popovers","isH3":false,"content":"<p>There is an exception to the rule about not displaying multiple auto popovers at once — when they are nested inside one another. In such cases, multiple popovers are allowed to both be open at the same time, due to their relationship with each other. This pattern is supported to enable use cases such as nested popover menus.</p>\n<p>There are three different ways to create nested popovers:</p>\n<ol>\n  <li>Direct DOM descendants:\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span><span class=\"token punctuation\">&gt;</span></span>\n  Parent\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span><span class=\"token punctuation\">&gt;</span></span>Child<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n  </li>\n  <li>Via invoking/control elements:\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span><span class=\"token punctuation\">&gt;</span></span>\n  Parent\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">popovertarget</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>foo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Click me<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>foo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Child<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n  </li>\n  <li>Via the <code>anchor</code> attribute:\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>foo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Parent<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span> <span class=\"token attr-name\">anchor</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>foo<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Child<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n  </li>\n</ol>\n<p>See our <a href=\"https://mdn.github.io/dom-examples/popover-api/nested-popovers/\" class=\"external\" target=\"_blank\">Nested popover menu example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/nested-popovers\" class=\"external\" target=\"_blank\">source</a>) for an example. You'll notice that quite a few event handlers have been used to display and hide the subpopover appropriately during mouse and keyboard access, and also to hide both menus when an option is selected from either. Depending on how you handle loading of new content , either in an SPA or multi-page website, some of all of these may not be necessary, but they have been included in this demo for illustrative purposes.</p>"}},{"type":"prose","value":{"id":"styling_popovers","title":"Styling popovers","isH3":false,"content":"<p>The popover API has some related CSS features available that are worth looking at.</p>\n<p>In terms of styling the actual popover, you can select all popovers with a simple attribute selector (<code>[popover]</code>), or you select popovers that are showing using a new pseudo-class — <a href=\"/en-US/docs/Web/CSS/:popover-open\"><code>:popover-open</code></a>.</p>\n<p>When looking at the first couple of examples linked at the start of the article, you may have noticed that the popovers appear in the middle of the viewport. This is the default styling, achieved like this in the UA stylesheet:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">[popover]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> fixed<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">inset</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> fit-content<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> fit-content<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> solid<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 0.25em<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">overflow</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> CanvasText<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> Canvas<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>To override the default styles and get the popover to appear somewhere else on your viewport, you would need to override the above styles with something like this:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">:popover-open</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 200px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">position</span><span class=\"token punctuation\">:</span> absolute<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">inset</span><span class=\"token punctuation\">:</span> unset<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">bottom</span><span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 5px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>You can see an isolated example of this in our <a href=\"https://mdn.github.io/dom-examples/popover-api/popover-positioning/\" class=\"external\" target=\"_blank\">Popover positioning example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/popover-positioning\" class=\"external\" target=\"_blank\">source</a>).</p>\n<p>The <a href=\"/en-US/docs/Web/CSS/::backdrop\"><code>::backdrop</code></a> pseudo-element is a full-screen element placed directly behind showing popover elements in the <a href=\"/en-US/docs/Glossary/Top_layer\">top layer</a>, allowing effects to be added to the page content behind the popover(s) if desired. You might for example want to blur out the content behind the popover to help focus the user's attention on it:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">::backdrop</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">backdrop-filter</span><span class=\"token punctuation\">:</span> <span class=\"token function\">blur</span><span class=\"token punctuation\">(</span>3px<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>See our <a href=\"https://mdn.github.io/dom-examples/popover-api/blur-background/\" class=\"external\" target=\"_blank\">Popover blur background example</a> (<a href=\"https://github.com/mdn/dom-examples/tree/main/popover-api/blur-background\" class=\"external\" target=\"_blank\">source</a>) for an idea of how this renders.</p>"}},{"type":"prose","value":{"id":"animating_popovers","title":"Animating popovers","isH3":false,"content":"<p>Popovers are set to <code>display: none;</code> when hidden and <code>display: block;</code> when shown, as well as being removed from / added to the <a href=\"/en-US/docs/Glossary/Top_layer\">top layer</a> and the <a href=\"/en-US/docs/Web/Performance/How_browsers_work#building_the_accessibility_tree\">accessibility tree</a>. Therefore, for popovers to be animated, the <a href=\"/en-US/docs/Web/CSS/display\"><code>display</code></a> property needs to be animatable. <a href=\"/en-US/docs/Web/CSS/display#browser_compatibility\">Supporting browsers</a> animate <code>display</code> with a variation on the <a href=\"/en-US/docs/Web/CSS/CSS_animated_properties#discrete\">discrete animation type</a>. Specifically, the browser will flip between <code>none</code> and another value of <code>display</code> so that the animated content is shown for the entire animation duration. So, for example:</p>\n<ul>\n  <li>When animating <code>display</code> from <code>none</code> to <code>block</code> (or another visible <code>display</code> value), the value will flip to <code>block</code> at <code>0%</code> of the animation duration so it is visible throughout.</li>\n  <li>When animating <code>display</code> from <code>block</code> (or another visible <code>display</code> value) to <code>none</code>, the value will flip to <code>none</code> at <code>100%</code> of the animation duration so it is visible throughout.</li>\n</ul>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note:</strong> When animating using <a href=\"/en-US/docs/Web/CSS/CSS_transitions\">CSS transitions</a>, <a href=\"/en-US/docs/Web/CSS/transition-behavior\"><code>transition-behavior: allow-discrete</code></a> needs to be set to enable the above behavior. When animating with <a href=\"/en-US/docs/Web/CSS/CSS_animations\">CSS animations</a>, the above behavior is available by default; an equivalent step is not required.</p>\n</div>"}},{"type":"prose","value":{"id":"transitioning_a_popover","title":"Transitioning a popover","isH3":true,"content":"<p>When animating popovers with CSS transitions, the following features are required:</p>\n<dl>\n  <dt id=\"starting-style\"><a href=\"/en-US/docs/Web/CSS/@starting-style\"><code>@starting-style</code></a> at-rule</dt>\n  <dd>\n    <p>Provides a set of starting values for properties set on the popover that you want to transition from when it is first shown. This is needed to avoid unexpected behavior. By default, CSS transitions only occur when a property changes from one value to another on a visible element; they are not triggered on an element's first style update, or when the <code>display</code> type changes from <code>none</code> to another type.</p>\n  </dd>\n  <dt id=\"display\"><a href=\"/en-US/docs/Web/CSS/display\"><code>display</code></a> property</dt>\n  <dd>\n    <p>Add <code>display</code> to the transitions list so that the popover will remain as <code>display: block</code> (or another visible <code>display</code> value) for the duration of the transition, ensuring the other transitions are visible.</p>\n  </dd>\n  <dt id=\"overlay\"><a href=\"/en-US/docs/Web/CSS/overlay\"><code>overlay</code></a> property</dt>\n  <dd>\n    <p>Include <code>overlay</code> in the transitions list to ensure the removal of the popover from the top layer is deferred until the transition completes, again ensuring the transition is visible.</p>\n  </dd>\n  <dt id=\"transition-behavior\"><a href=\"/en-US/docs/Web/CSS/transition-behavior\"><code>transition-behavior</code></a> property</dt>\n  <dd>\n    <p>Set <code>transition-behavior: allow-discrete</code> on the <code>display</code> and <code>overlay</code> transitions (or on the <a href=\"/en-US/docs/Web/CSS/transition\"><code>transition</code></a> shorthand) to enable discrete transitions on these two properties that are not by default animatable.</p>\n  </dd>\n</dl>\n<p>Let's have a look at an example so you can see what this looks like:</p>\n<h4 id=\"html\">HTML</h4>\n<p>The HTML contains a <a href=\"/en-US/docs/Web/HTML/Element/div\"><code>&lt;div&gt;</code></a> element declared to be a popover via the global <a href=\"/en-US/docs/Web/HTML/Global_attributes/popover\"><code>popover</code></a> HTML attribute, and a <a href=\"/en-US/docs/Web/HTML/Element/button\"><code>&lt;button&gt;</code></a> element designated as the popover's display control:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">popovertarget</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Show the popover<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>auto<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>I'm a Popover! I should animate.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"css\">CSS</h4>\n<p>The two popover properties we want to transition are <a href=\"/en-US/docs/Web/CSS/opacity\"><code>opacity</code></a> and <a href=\"/en-US/docs/Web/CSS/transform\"><code>transform</code></a>. We want the popover to fade in or out while growing or shrinking horizontally. To achieve this, we set a starting state for these properties on the hidden state of the popover element (selected with the <code>[popover]</code> <a href=\"/en-US/docs/Web/CSS/Attribute_selectors\">attribute selector</a>) and an end state for the shown state of the popover (selected via the <a href=\"/en-US/docs/Web/CSS/:popover-open\"><code>:popover-open</code></a> pseudo-class). We also use the <a href=\"/en-US/docs/Web/CSS/transition\"><code>transition</code></a> property to define the properties to animate and the animation's duration as the popover gets shown or hidden.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">html</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Arial<span class=\"token punctuation\">,</span> Helvetica<span class=\"token punctuation\">,</span> sans-serif<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* Transition for the popover itself */</span>\n\n<span class=\"token selector\">[popover]:popover-open</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">[popover]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.2rem<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">/* Final state of the exit animation */</span>\n  <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span>\n    opacity 0.7s<span class=\"token punctuation\">,</span>\n    transform 0.7s<span class=\"token punctuation\">,</span>\n    overlay 0.7s allow-discrete<span class=\"token punctuation\">,</span>\n    display 0.7s allow-discrete<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* Equivalent to\n  transition: all 0.7s allow-discrete; */</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* Needs to be after the previous [popover]:popover-open rule\nto take effect, as the specificity is the same */</span>\n<span class=\"token atrule\"><span class=\"token rule\">@starting-style</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">[popover]:popover-open</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* Transition for the popover's backdrop */</span>\n\n<span class=\"token selector\">[popover]::backdrop</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>0 0 0 / 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span>\n    display 0.7s allow-discrete<span class=\"token punctuation\">,</span>\n    overlay 0.7s allow-discrete<span class=\"token punctuation\">,</span>\n    background-color 0.7s<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">/* Equivalent to\n  transition: all 0.7s allow-discrete; */</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">[popover]:popover-open::backdrop</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>0 0 0 / 0.25<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* The nesting selector (&amp;) cannot represent pseudo-elements\nso this starting-style rule cannot be nested */</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@starting-style</span></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">[popover]:popover-open::backdrop</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>0 0 0 / 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>As discussed earlier, we have also:</p>\n<ul>\n  <li>Set a starting state for the <code>transition</code> inside the <code>@starting-style</code> block.</li>\n  <li>Added <code>display</code> to the list of transitioned properties so that the animated element is visible (set to <code>display: block</code>) throughout the popover's entry and exit animations. Without this, the exit animation would not be visible; in effect, the popover would just disappear.</li>\n  <li>Added <code>overlay</code> to the list of transitioned properties to make sure that the removal of the element from the top layer is deferred until the animation has been completed. The effect of this may not be noticeable for basic animations such as this one, but in more complex cases, omitting this property can result in the element being removed from the overlay before the transition completes.</li>\n  <li>Set <code>allow-discrete</code> on both properties in the above transitions to enable <a href=\"/en-US/docs/Web/CSS/CSS_animated_properties#discrete\">discrete transitions</a>.</li>\n</ul>\n<p>You'll note that we've also included a transition on the <a href=\"/en-US/docs/Web/CSS/::backdrop\"><code>::backdrop</code></a> appearing behind the popover when it opens, providing a nice darkening animation.</p>\n<h4 id=\"result\">Result</h4>\n<p>The code renders as follows:</p><div class=\"code-example\" id=\"sect5\"><p class=\"example-header\"></p><iframe class=\"sample-code-frame\" title=\"Transitioning a popover sample\" id=\"frame_transitioning_a_popover\" width=\"100%\" height=\"200\" src=\"http://localhost:5042/en-US/docs/Web/API/Popover_API/Using/runner.html?id=transitioning_a_popover\" loading=\"lazy\"></iframe></div>\n<div class=\"notecard note\" id=\"sect6\">\n  <p><strong>Note:</strong> Because popovers change from <code>display: none</code> to <code>display: block</code> each time they are shown, the popover transitions from its <code>@starting-style</code> styles to its <code>[popover]:popover-open</code> styles every time the entry transition occurs. When the popover closes, it transitions from its <code>[popover]:popover-open</code> state to the default <code>[popover]</code> state.</p>\n  <p>It is possible for the style transition on entry and exit to be different in such cases. See our <a href=\"/en-US/docs/Web/CSS/@starting-style#demonstration_of_when_starting_styles_are_used\">Demonstration of when starting styles are used</a> example for a proof of this.</p>\n</div>"}},{"type":"prose","value":{"id":"a_popover_keyframe_animation","title":"A popover keyframe animation","isH3":true,"content":"<p>When animating a popover with CSS keyframe animations, there are some differences to note:</p>\n<ul>\n  <li>You don't provide a <code>@starting-style</code>; you include your \"to\" and \"from\" <code>display</code> values in keyframes.</li>\n  <li>You don't explicitly enable discrete animations; there is no equivalent to <code>allow-discrete</code> inside keyframes.</li>\n  <li>You don't need to set <code>overlay</code> inside keyframes either; the <code>display</code> animation handles the animation of the popover from shown to hidden.</li>\n</ul>\n<p>Let's look at an example.</p>\n<h4 id=\"html_2\">HTML</h4>\n<p>The HTML contains a <a href=\"/en-US/docs/Web/HTML/Element/div\"><code>&lt;div&gt;</code></a> element declared as a popover, and a <a href=\"/en-US/docs/Web/HTML/Element/button\"><code>&lt;button&gt;</code></a> element designated as the popover's display control:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">html</span></p><pre class=\"brush: html notranslate\"><code><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>button</span> <span class=\"token attr-name\">popovertarget</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>Show the popover<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>button</span><span class=\"token punctuation\">&gt;</span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">popover</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>auto<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mypopover<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">&gt;</span></span>I'm a Popover! I should animate.<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">&gt;</span></span>\n</code></pre></div>\n<h4 id=\"css_2\">CSS</h4>\n<p>We have defined keyframes that specify the desired entry and exit animations, and an entry animation for the backdrop only. Note that it wasn't possible to animate the backdrop fade out — the backdrop is immediately removed from the DOM when the popover is closed, so there is nothing to animate.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">html</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-family</span><span class=\"token punctuation\">:</span> Arial<span class=\"token punctuation\">,</span> Helvetica<span class=\"token punctuation\">,</span> sans-serif<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">[popover]</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 1.2rem<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 10px<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> fade-out 0.7s ease-out<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">[popover]:popover-open</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> fade-in 0.7s ease-out<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">[popover]:popover-open::backdrop</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> backdrop-fade-in 0.7s ease-out forwards<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">/* Animation keyframes */</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> fade-in</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">0%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">100%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> fade-out</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">0%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 1<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* display needed on the closing animation to keep the popover\n    visible until the animation ends */</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">100%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">opacity</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">/* display: none not required here because it is the default value\n    for a closed popover, but including it so the behavior is clear */</span>\n    <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> backdrop-fade-in</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">0%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>0 0 0 / 0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token selector\">100%</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> <span class=\"token function\">rgb</span><span class=\"token punctuation\">(</span>0 0 0 / 0.25<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h4 id=\"result_2\">Result</h4>\n<p>The code renders as follows:</p><div class=\"code-example\" id=\"sect7\"><p class=\"example-header\"></p><iframe class=\"sample-code-frame\" title=\"A popover keyframe animation sample\" id=\"frame_a_popover_keyframe_animation\" width=\"100%\" height=\"200\" src=\"http://localhost:5042/en-US/docs/Web/API/Popover_API/Using/runner.html?id=a_popover_keyframe_animation\" loading=\"lazy\"></iframe></div>"}}],"toc":[{"text":"Creating declarative popovers","id":"creating_declarative_popovers"},{"text":"auto state, and \"light dismiss\"","id":"auto_state_and_light_dismiss"},{"text":"Using manual popover state","id":"using_manual_popover_state"},{"text":"Showing popovers via JavaScript","id":"showing_popovers_via_javascript"},{"text":"Dismissing popovers automatically via a timer","id":"dismissing_popovers_automatically_via_a_timer"},{"text":"Nested popovers","id":"nested_popovers"},{"text":"Styling popovers","id":"styling_popovers"},{"text":"Animating popovers","id":"animating_popovers"}],"summary":"The Popover API provides developers with a standard, consistent, flexible mechanism for displaying popover content on top of other page content. Popover content can be controlled either declaratively using HTML attributes, or via JavaScript. This article provides a detailed guide to using all of its features.","popularity":0.0066,"modified":"2023-11-29T15:13:55.000Z","source":{"folder":"en-us/web/api/popover_api/using","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/popover_api/using/index.md","last_commit_url":"https://github.com/mdn/content/commit/3ce863eafe2d98caca1b395691c47f255947a6e0","filename":"index.md"},"short_title":"Using the Popover API","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Popover_API","title":"Popover API"},{"uri":"/en-US/docs/Web/API/Popover_API/Using","title":"Using the Popover API"}],"pageTitle":"Using the Popover API - Web APIs | MDN","noIndexing":false}}</script></body></html>