{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"ElementInternals: setValidity() method","mdn_url":"/en-US/docs/Web/API/ElementInternals/setValidity","locale":"en-US","native":"English (US)","browserCompat":["api.ElementInternals.setValidity"],"baseline":{"baseline":"low","baseline_low_date":"2023-03-27","support":{"chrome":"77","chrome_android":"77","edge":"79","firefox":"98","firefox_android":"98","safari":"16.4","safari_ios":"16.4"}},"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Web_components\">Web components</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/ElementInternals\"><code>ElementInternals</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaAtomic\"><code>ariaAtomic</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaAutoComplete\"><code>ariaAutoComplete</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaBusy\"><code>ariaBusy</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaChecked\"><code>ariaChecked</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaColCount\"><code>ariaColCount</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaColIndex\"><code>ariaColIndex</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaColIndexText\"><code>ariaColIndexText</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaColSpan\"><code>ariaColSpan</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaCurrent\"><code>ariaCurrent</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaDescription\"><code>ariaDescription</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaDisabled\"><code>ariaDisabled</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaExpanded\"><code>ariaExpanded</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaHasPopup\"><code>ariaHasPopup</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaHidden\"><code>ariaHidden</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaKeyShortcuts\"><code>ariaKeyShortcuts</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaLabel\"><code>ariaLabel</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaLevel\"><code>ariaLevel</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaLive\"><code>ariaLive</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaModal\"><code>ariaModal</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaMultiLine\"><code>ariaMultiLine</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaMultiSelectable\"><code>ariaMultiSelectable</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaOrientation\"><code>ariaOrientation</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaPlaceholder\"><code>ariaPlaceholder</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaPosInSet\"><code>ariaPosInSet</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaPressed\"><code>ariaPressed</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaReadOnly\"><code>ariaReadOnly</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRelevant\"><code>ariaRelevant</code></a><abbr class=\"icon icon-nonstandard\" title=\"Non-standard. Check cross-browser support before using.\">\n    <span class=\"visually-hidden\">Non-standard</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRequired\"><code>ariaRequired</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRoleDescription\"><code>ariaRoleDescription</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRowCount\"><code>ariaRowCount</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRowIndex\"><code>ariaRowIndex</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRowIndexText\"><code>ariaRowIndexText</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaRowSpan\"><code>ariaRowSpan</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaSelected\"><code>ariaSelected</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaSetSize\"><code>ariaSetSize</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaSort\"><code>ariaSort</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaValueMax\"><code>ariaValueMax</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaValueMin\"><code>ariaValueMin</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaValueNow\"><code>ariaValueNow</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/ariaValueText\"><code>ariaValueText</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/form\"><code>form</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/labels\"><code>labels</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/role\"><code>role</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/shadowRoot\"><code>shadowRoot</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/states\"><code>states</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/validationMessage\"><code>validationMessage</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/validity\"><code>validity</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/willValidate\"><code>willValidate</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/ElementInternals/checkValidity\"><code>checkValidity()</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/reportValidity\"><code>reportValidity()</code></a></li><li><a href=\"/en-US/docs/Web/API/ElementInternals/setFormValue\"><code>setFormValue()</code></a></li><li><em><code>setValidity()</code> </em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Web Components</summary><ol><li><a href=\"/en-US/docs/Web/API/CustomElementRegistry\"><code>CustomElementRegistry</code></a></li><li><a href=\"/en-US/docs/Web/API/CustomStateSet\"><code>CustomStateSet</code></a></li><li><a href=\"/en-US/docs/Web/API/Document/createElement\"><code>Document.createElement()</code></a></li><li><a href=\"/en-US/docs/Web/API/Element/attachShadow\"><code>Element.attachShadow()</code></a></li><li><a href=\"/en-US/docs/Web/API/Element/shadowRoot\"><code>Element.shadowRoot</code></a></li><li><a href=\"/en-US/docs/Web/API/Element/slot\"><code>Element.slot</code></a></li><li><a href=\"/en-US/docs/Web/API/Event/composed\"><code>Event.composed</code></a></li><li><a href=\"/en-US/docs/Web/API/Event/composedPath\"><code>Event.composedPath</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLElement/attachInternals\"><code>HTMLElement.attachInternals()</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLSlotElement\"><code>HTMLSlotElement</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLTemplateElement\"><code>HTMLTemplateElement</code></a></li><li><a href=\"/en-US/docs/Web/API/Node/getRootNode\"><code>Node.getRootNode()</code></a></li><li><a href=\"/en-US/docs/Web/API/Node/isConnected\"><code>Node.isConnected</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot\"><code>ShadowRoot</code></a></li><li><a href=\"/en-US/docs/Web/API/Window/customElements\"><code>Window.customElements</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>setValidity()</code></strong> method of the <a href=\"/en-US/docs/Web/API/ElementInternals\"><code>ElementInternals</code></a> interface sets the validity of the element.</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">setValidity</span><span class=\"token punctuation\">(</span>flags<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setValidity</span><span class=\"token punctuation\">(</span>flags<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">)</span>\n<span class=\"token function\">setValidity</span><span class=\"token punctuation\">(</span>flags<span class=\"token punctuation\">,</span> message<span class=\"token punctuation\">,</span> anchor<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"flags\"><a href=\"#flags\"><code>flags</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A dictionary object containing one or more flags indicating the validity state of the element:</p>\n    <dl>\n      <dt id=\"valuemissing\"><a href=\"#valuemissing\"><code>valueMissing</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the element has a <a href=\"/en-US/docs/Web/HTML/Element/input#required\"><code>required</code></a> attribute, but no value, or <code>false</code> otherwise. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> CSS pseudo-class.</p>\n      </dd>\n      <dt id=\"typemismatch\"><a href=\"#typemismatch\"><code>typeMismatch</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value is not in the required syntax (when <a href=\"/en-US/docs/Web/HTML/Element/input#type\"><code>type</code></a> is <code>email</code> or <code>url</code>), or <code>false</code> if the syntax is correct. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> CSS pseudo-class.</p>\n      </dd>\n      <dt id=\"patternmismatch\"><a href=\"#patternmismatch\"><code>patternMismatch</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value does not match the specified <a href=\"/en-US/docs/Web/HTML/Element/input#pattern\"><code>pattern</code></a>, and <code>false</code> if it does match. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> CSS pseudo-class.</p>\n      </dd>\n      <dt id=\"toolong\"><a href=\"#toolong\"><code>tooLong</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value exceeds the specified <code>maxlength</code> for <a href=\"/en-US/docs/Web/API/HTMLInputElement\"><code>HTMLInputElement</code></a> or <a href=\"/en-US/docs/Web/API/HTMLTextAreaElement\"><code>HTMLTextAreaElement</code></a> objects, or <code>false</code> if its length is less than or equal to the maximum length. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> and <a href=\"/en-US/docs/Web/CSS/:out-of-range\"><code>:out-of-range</code></a> CSS pseudo-classes.</p>\n      </dd>\n      <dt id=\"tooshort\"><a href=\"#tooshort\"><code>tooShort</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value fails to meet the specified <code>minlength</code> for <a href=\"/en-US/docs/Web/API/HTMLInputElement\"><code>HTMLInputElement</code></a> or <a href=\"/en-US/docs/Web/API/HTMLTextAreaElement\"><code>HTMLTextAreaElement</code></a> objects, or <code>false</code> if its length is greater than or equal to the minimum length. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> and <a href=\"/en-US/docs/Web/CSS/:out-of-range\"><code>:out-of-range</code></a> CSS pseudo-classes.</p>\n      </dd>\n      <dt id=\"rangeunderflow\"><a href=\"#rangeunderflow\"><code>rangeUnderflow</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value is less than the minimum specified by the <a href=\"/en-US/docs/Web/HTML/Element/input#min\"><code>min</code></a> attribute, or <code>false</code> if it is greater than or equal to the minimum. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> and <a href=\"/en-US/docs/Web/CSS/:out-of-range\"><code>:out-of-range</code></a> CSS pseudo-classes.</p>\n      </dd>\n      <dt id=\"rangeoverflow\"><a href=\"#rangeoverflow\"><code>rangeOverflow</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value is greater than the maximum specified by the <a href=\"/en-US/docs/Web/HTML/Element/input#max\"><code>max</code></a> attribute, or <code>false</code> if it is less than or equal to the maximum. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> and <a href=\"/en-US/docs/Web/CSS/:out-of-range\"><code>:out-of-range</code></a> and CSS pseudo-classes.</p>\n      </dd>\n      <dt id=\"stepmismatch\"><a href=\"#stepmismatch\"><code>stepMismatch</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the value does not fit the rules determined by the <a href=\"/en-US/docs/Web/HTML/Element/input#step\"><code>step</code></a> attribute (that is, it's not evenly divisible by the step value), or <code>false</code> if it does fit the step rule. If <code>true</code>, the element matches the <a href=\"/en-US/docs/Web/CSS/:invalid\"><code>:invalid</code></a> and <a href=\"/en-US/docs/Web/CSS/:out-of-range\"><code>:out-of-range</code></a> CSS pseudo-classes.</p>\n      </dd>\n      <dt id=\"badinput\"><a href=\"#badinput\"><code>badInput</code></a></dt>\n      <dd>\n        <p>A boolean value that is <code>true</code> if the user has provided input that the browser is unable to convert.</p>\n      </dd>\n      <dt id=\"customerror\"><a href=\"#customerror\"><code>customError</code></a></dt>\n      <dd>\n        <p>A boolean value indicating whether the element's custom validity message has been set to a non-empty string by calling the element's <a href=\"/en-US/docs/Web/API/HTMLObjectElement/setCustomValidity\" title=\"setCustomValidity()\"><code>setCustomValidity()</code></a> method.</p>\n      </dd>\n    </dl>\n    <div class=\"notecard note\" id=\"sect1\">\n      <p><strong>Note:</strong> To set all flags to <code>false</code>, indicating that this element passes all constraints validation, pass in an empty object <code>{}</code>. In this case, you do not need to also pass a <code>message</code>.</p>\n    </div>\n  </dd>\n  <dt id=\"message\"><a href=\"#message\"><code>message</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A string containing a message, which will be set if any <code>flags</code> are <code>true</code>. This parameter is only optional if all <code>flags</code> are <code>false</code>.</p>\n  </dd>\n  <dt id=\"anchor\"><a href=\"#anchor\"><code>anchor</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An <a href=\"/en-US/docs/Web/API/HTMLElement\"><code>HTMLElement</code></a> which can be used by the user agent to report problems with this form submission.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>None (<a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\"><code>undefined</code></a>).</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n  <dt id=\"notsupportederror\"><a href=\"#notsupportederror\"><code>NotSupportedError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if the element does not have its <code>formAssociated</code> property set to <code>true</code>.</p>\n  </dd>\n  <dt id=\"typeerror\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\"><code>TypeError</code></a></dt>\n  <dd>\n    <p>Thrown if one or more <code>flags</code> is <code>true</code>.</p>\n  </dd>\n  <dt id=\"notfounderror\"><a href=\"#notfounderror\"><code>NotFoundError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if <code>anchor</code> is given, but the anchor is not a shadow-including descendant of the element.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>In the following example <code>setValidity</code> is called with an empty <code>flags</code> parameter to indicate that the element meets constraint validation rules.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>internals_<span class=\"token punctuation\">.</span><span class=\"token function\">setValidity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>In the following example <code>setValidity</code> is called with the flag <code>valueMissing</code> set to <code>true</code>. A <code>message</code> parameter must then also be passed containing a message.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>internals_<span class=\"token punctuation\">.</span><span class=\"token function\">setValidity</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">valueMissing</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"my message\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://html.spec.whatwg.org/multipage/custom-elements.html#dom-elementinternals-setvalidity","title":"HTML Standard"}],"query":"api.ElementInternals.setValidity"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.ElementInternals.setValidity"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The setValidity() method of the ElementInternals interface sets the validity of the element.","popularity":0.0013,"modified":"2023-12-08T11:07:32.000Z","source":{"folder":"en-us/web/api/elementinternals/setvalidity","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/elementinternals/setvalidity/index.md","last_commit_url":"https://github.com/mdn/content/commit/ce10da0e9d23d241b175d8d68bf93507734b7c48","filename":"index.md"},"short_title":"setValidity()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/ElementInternals","title":"ElementInternals"},{"uri":"/en-US/docs/Web/API/ElementInternals/setValidity","title":"setValidity()"}],"pageTitle":"ElementInternals: setValidity() method - Web APIs | MDN","noIndexing":false}}