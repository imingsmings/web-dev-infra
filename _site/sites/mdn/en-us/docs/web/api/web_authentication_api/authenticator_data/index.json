{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Authenticator data","mdn_url":"/en-US/docs/Web/API/Web_Authentication_API/Authenticator_data","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Web_Authentication_API\">Web Authentication API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><a href=\"/en-US/docs/Web/API/Web_Authentication_API/Attestation_and_Assertion\">Attestation and Assertion</a></li><li><em><a href=\"/en-US/docs/Web/API/Web_Authentication_API/Authenticator_data\" aria-current=\"page\">Authenticator data</a></em></li><li><a href=\"/en-US/docs/Web/API/Web_Authentication_API/WebAuthn_extensions\">Web Authentication extensions</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/PublicKeyCredential\"><code>PublicKeyCredential</code></a></li><li><a href=\"/en-US/docs/Web/API/AuthenticatorResponse\"><code>AuthenticatorResponse</code></a></li><li><a href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse\"><code>AuthenticatorAttestationResponse</code></a></li><li><a href=\"/en-US/docs/Web/API/AuthenticatorAssertionResponse\"><code>AuthenticatorAssertionResponse</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/CredentialsContainer/create\"><code>CredentialsContainer.create()</code></a></li><li><a href=\"/en-US/docs/Web/API/CredentialsContainer/get\"><code>CredentialsContainer.get()</code></a></li></ol></details></li></ol>","sidebarMacro":"DefaultAPISidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The authenticator data structure contains information from the authenticator about the processing of a credential creation or authentication request â€” such as the Relying Party ID Hash (<code>rpIdHash</code>), a signature counter, test of user presence, user verification flags, and any extensions processed by the authenticator. This page explains what is contained in the data structure.</p>"}},{"type":"prose","value":{"id":"accessing_authenticator_data","title":"Accessing authenticator data","isH3":false,"content":"<p>Authenticator data is made available to the browser as an <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a>, and can be accessed in multiple ways. The two most convenient are:</p>\n<ul>\n  <li>In the <a href=\"/en-US/docs/Web/API/AuthenticatorAssertionResponse/authenticatorData\" title=\"PublicKeyCredential.response.authenticatorData\"><code>PublicKeyCredential.response.authenticatorData</code></a> property made available on the <a href=\"/en-US/docs/Web/API/PublicKeyCredential\"><code>PublicKeyCredential</code></a> returned from a successful <a href=\"/en-US/docs/Web/API/CredentialsContainer/create\" title=\"navigator.credentials.create()\"><code>navigator.credentials.create()</code></a> (credential creation) call.</li>\n  <li>Via the <a href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse/getAuthenticatorData\" title=\"PublicKeyCredential.response.getAuthenticatorData()\"><code>PublicKeyCredential.response.getAuthenticatorData()</code></a> method made available on the <a href=\"/en-US/docs/Web/API/PublicKeyCredential\"><code>PublicKeyCredential</code></a> returned from a successful <a href=\"/en-US/docs/Web/API/CredentialsContainer/get\" title=\"navigator.credentials.get()\"><code>navigator.credentials.get()</code></a> (authentication) call.</li>\n</ul>"}},{"type":"prose","value":{"id":"data_structure","title":"Data structure","isH3":false,"content":"<p>An authenticator data <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a> is at least 37 bytes in length, and contains the following fields:</p>\n<dl>\n  <dt id=\"rpidhash\"><a href=\"#rpidhash\"><strong>rpIdHash</strong></a> (32 bytes)</dt>\n  <dd>\n    <p>The SHA-256 hash of the <a href=\"https://w3c.github.io/webauthn/#relying-party-identifier\" class=\"external\" target=\"_blank\">Relying Party ID</a> that the credential is scoped to. The server will ensure that this hash matches the SHA256 hash of its own relying party ID in order to prevent phishing or other man-in-the-middle attacks.</p>\n  </dd>\n  <dt id=\"flags\"><a href=\"#flags\"><strong>flags</strong></a> (1 bytes)</dt>\n  <dd>\n    <p>A bitfield that indicates various attributes that were asserted by the authenticator. The bits are as follows, where Bit 0 is the least significant bit and all bits not specifically mentioned below are \"reserved for future use\":</p>\n    <ul>\n      <li>Bit 0, User Presence (UP): If set (i.e., to <code>1</code>), the authenticator validated that the user was present through some Test of User Presence (TUP), such as touching a button on the authenticator.</li>\n      <li>Bit 2, User Verification (UV): If set, the authenticator verified the actual user through a biometric, PIN, or other method.</li>\n      <li>Bit 3, Backup Eligibility (BE): If set, the public key credential source used by the authenticator to generate an assertion is backup-eligible. This means that it can be backed up in some fashion (for example via cloud or local network sync) and as such may become present on an authenticator other than its generating authenticator. Backup-eligible credential sources are therefore also known as multi-device credentials.</li>\n      <li>Bit 4, Backup State (BS): If set, the public key credential source is currently backed up (see Bit 3 for context).</li>\n      <li>Bit 6, Attested Credential Data (AT): If set, the attested credential data will immediately follow the first 37 bytes of this <code>authenticatorData</code>.</li>\n      <li>Bit 7, Extension Data (ED): If set, extension data is present. Extension data will follow attested credential data if it is present, or will immediately follow the first 37 bytes of the <code>authenticatorData</code> if no attested credential data is present.</li>\n    </ul>\n  </dd>\n  <dt id=\"signcount\"><a href=\"#signcount\"><strong>signCount</strong></a> (4 bytes)</dt>\n  <dd>\n    <p>A signature counter, if supported by the authenticator (set to 0 otherwise). Servers may optionally use this counter to detect authenticator cloning.</p>\n  </dd>\n  <dt id=\"attestedcredentialdata\"><a href=\"#attestedcredentialdata\"><strong>attestedCredentialData</strong></a> (variable length)</dt>\n  <dd>\n    <p>The credential that was created. This is only present during a <a href=\"/en-US/docs/Web/API/CredentialsContainer/create\" title=\"navigator.credentials.create()\"><code>navigator.credentials.create()</code></a> call. This is a sequence of bytes with the following format:</p>\n    <ul>\n      <li><strong>AAGUID</strong> (16 bytes): The Authenticator Attestation Globally Unique Identifier, a unique number that identifies the model of the authenticator (not the specific instance of the authenticator). A relying party can use this to find out the characteristics of the authenticator by looking up its metadata statement via the <a href=\"https://fidoalliance.org/metadata/\" class=\"external\" target=\"_blank\">FIDO metadata service</a>. This is relevant in certain situations such as enterprise deployments or where regulatory requirements dictate a certain type of authenticator be used; it should be ignored otherwise.</li>\n      <li><strong><em>credentialIdLength</em></strong> (2 bytes): The length of the credential ID that immediately follows these bytes.</li>\n      <li><strong><em>credentialId</em></strong> (variable length): A unique identifier for this credential so that it can be requested for future authentications. The credential is \"<em>credentialIdLength</em>\" bytes long.</li>\n      <li><strong>credentialPublicKey</strong> (variable length): A <a href=\"https://datatracker.ietf.org/doc/html/rfc8152\" class=\"external\" target=\"_blank\">COSE</a>-encoded public key. This public key will be stored on the server associated with a user's account and be used for future authentications. Relying parties can retrieve the DER-encoded form of it without parsing the COSE-encoded authenticator data via the <a href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse/getPublicKey\"><code>AuthenticatorAttestationResponse.getPublicKey()</code></a> method.</li>\n    </ul>\n  </dd>\n  <dt id=\"extensions\"><a href=\"#extensions\"><strong>extensions</strong></a> (variable length)</dt>\n  <dd>\n    <p>An optional <a href=\"https://datatracker.ietf.org/doc/html/rfc7049\" class=\"external\" target=\"_blank\">CBOR</a> map containing the response outputs from extensions processed by the authenticator</p>\n    <p>Extensions are optional and different browsers may recognize different extensions. Processing extensions is always optional for the browser: if a browser does not recognize a given extension, it will just ignore it. For information on using extensions, and which ones are supported by which browsers, see <a href=\"/en-US/docs/Web/API/Web_Authentication_API/WebAuthn_extensions\">Web Authentication extensions</a>.</p>\n    <div class=\"notecard note\" id=\"sect1\">\n      <p><strong>Note:</strong> The authenticator data only contains the results from extensions processed by the authenticator. The results from extensions processed by the browser (client) can be accessed via <a href=\"/en-US/docs/Web/API/PublicKeyCredential/getClientExtensionResults\"><code>PublicKeyCredential.getClientExtensionResults</code></a>.</p>\n    </div>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<p><a href=\"https://w3c.github.io/webauthn/#sctn-authenticator-data\" class=\"external\" target=\"_blank\">Authenticator data definition in the WebAuthn specification</a></p>"}}],"toc":[{"text":"Accessing authenticator data","id":"accessing_authenticator_data"},{"text":"Data structure","id":"data_structure"},{"text":"See also","id":"see_also"}],"summary":"The authenticator data structure contains information from the authenticator about the processing of a credential creation or authentication request â€” such as the Relying Party ID Hash (rpIdHash), a signature counter, test of user presence, user verification flags, and any extensions processed by the authenticator. This page explains what is contained in the data structure.","popularity":0.0014,"modified":"2023-05-09T13:21:58.000Z","source":{"folder":"en-us/web/api/web_authentication_api/authenticator_data","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/web_authentication_api/authenticator_data/index.md","last_commit_url":"https://github.com/mdn/content/commit/eb18c44b6758003b85228455e54c491bc98ef0c3","filename":"index.md"},"short_title":"Authenticator data","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Web_Authentication_API","title":"Web Authentication API"},{"uri":"/en-US/docs/Web/API/Web_Authentication_API/Authenticator_data","title":"Authenticator data"}],"pageTitle":"Authenticator data - Web APIs | MDN","noIndexing":false}}