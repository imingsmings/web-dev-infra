{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"ShadowRoot: adoptedStyleSheets property","mdn_url":"/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets","locale":"en-US","native":"English (US)","browserCompat":["api.ShadowRoot.adoptedStyleSheets"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/CSS_Object_Model\">CSS Object Model</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/ShadowRoot\"><code>ShadowRoot</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/ShadowRoot/activeElement\"><code>activeElement</code></a></li><li><em><code>adoptedStyleSheets</code> </em></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/delegatesFocus\"><code>delegatesFocus</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/fullscreenElement\"><code>fullscreenElement</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/host\"><code>host</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/innerHTML\"><code>innerHTML</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/mode\"><code>mode</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/pictureInPictureElement\"><code>pictureInPictureElement</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/pointerLockElement\"><code>pointerLockElement</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/slotAssignment\"><code>slotAssignment</code></a></li><li><a href=\"/en-US/docs/Web/API/ShadowRoot/styleSheets\"><code>styleSheets</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/ShadowRoot/getAnimations\"><code>getAnimations()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/DocumentFragment\"><code>DocumentFragment</code></a></li><li><a href=\"/en-US/docs/Web/API/Node\"><code>Node</code></a></li><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for CSSOM</summary><ol><li><a href=\"/en-US/docs/Web/API/CSS\"><code>CSS</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSConditionRule\"><code>CSSConditionRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSFontFeatureValuesRule\"><code>CSSFontFeatureValuesRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSFontPaletteValuesRule\"><code>CSSFontPaletteValuesRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSGroupingRule\"><code>CSSGroupingRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSImportRule\"><code>CSSImportRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSKeyframeRule\"><code>CSSKeyframeRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSKeyframesRule\"><code>CSSKeyframesRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSLayerBlockRule\"><code>CSSLayerBlockRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSLayerStatementRule\"><code>CSSLayerStatementRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSMediaRule\"><code>CSSMediaRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSNamespaceRule\"><code>CSSNamespaceRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSPageRule\"><code>CSSPageRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSPropertyRule\"><code>CSSPropertyRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSRule\"><code>CSSRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSRuleList\"><code>CSSRuleList</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSStartingStyleRule\"><code>CSSStartingStyleRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSStyleDeclaration\"><code>CSSStyleDeclaration</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSStyleRule\"><code>CSSStyleRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSStyleSheet\"><code>CSSStyleSheet</code></a></li><li><a href=\"/en-US/docs/Web/API/CSSSupportsRule\"><code>CSSSupportsRule</code></a></li><li><a href=\"/en-US/docs/Web/API/CaretPosition\"><code>CaretPosition</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaList\"><code>MediaList</code></a></li><li><a href=\"/en-US/docs/Web/API/MediaQueryList\"><code>MediaQueryList</code></a></li><li><a href=\"/en-US/docs/Web/API/Screen\"><code>Screen</code></a></li><li><a href=\"/en-US/docs/Web/API/StyleSheet\"><code>StyleSheet</code></a></li><li><a href=\"/en-US/docs/Web/API/StyleSheetList\"><code>StyleSheetList</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>adoptedStyleSheets</code></strong> property of the <a href=\"/en-US/docs/Web/API/ShadowRoot\"><code>ShadowRoot</code></a> interface sets an array of constructed stylesheets to be used by the shadow DOM subtree.</p>\n<div class=\"notecard note\" id=\"sect1\">\n  <p><strong>Note:</strong> A constructed stylesheet is a stylesheet created programmatically using the <a href=\"/en-US/docs/Web/API/CSSStyleSheet/CSSStyleSheet\"><code>CSSStyleSheet()</code> constructor</a> (as compared to one created by a user-agent when importing a stylesheet from a script, imported using <a href=\"/en-US/docs/Web/HTML/Element/style\"><code>&lt;style&gt;</code></a> and <a href=\"/en-US/docs/Web/CSS/@import\"><code>@import</code></a>, or linked to via <a href=\"/en-US/docs/Web/HTML/Element/link\"><code>&lt;link&gt;</code></a>).</p>\n</div>\n<p>\n  The same constructed stylesheet can be adopted by multiple <a href=\"/en-US/docs/Web/API/ShadowRoot\"><code>ShadowRoot</code></a> instances, and by the parent document (using the <a href=\"/en-US/docs/Web/API/Document/adoptedStyleSheets\"><code>Document.adoptedStyleSheets</code></a> property).\n  Changing an adopted stylesheet will affect all the adopting objects.\n</p>\n<p>\n  Stylesheets in the <code>adoptedStyleSheets</code> property are considered along with the shadow DOM's other stylesheets.\n  For the purpose of determining the final computed CSS of any element, they are considered to have been added <em>after</em> the other stylesheets in the shadow DOM (<a href=\"/en-US/docs/Web/API/ShadowRoot/styleSheets\"><code>ShadowRoot.styleSheets</code></a>).\n</p>\n<p>Only stylesheets created using the <a href=\"/en-US/docs/Web/API/CSSStyleSheet/CSSStyleSheet\"><code>CSSStyleSheet()</code> constructor</a>, and from within the same parent <a href=\"/en-US/docs/Web/API/Document\"><code>Document</code></a> as the shadow root, may be adopted.</p>"}},{"type":"prose","value":{"id":"value","title":"Value","isH3":false,"content":"<p>The value is an array of <a href=\"/en-US/docs/Web/API/CSSStyleSheet\"><code>CSSStyleSheet</code></a> instances that must have been created using the <a href=\"/en-US/docs/Web/API/CSSStyleSheet/CSSStyleSheet\" title=\"CSSStyleSheet()\"><code>CSSStyleSheet()</code></a> constructor within the context of the shadow root's parent <a href=\"/en-US/docs/Web/API/Document\"><code>Document</code></a>.</p>\n<p>If the array needs to be modified, use in-place mutations like <code>push()</code>. The <a href=\"/en-US/docs/Web/API/CSSStyleSheet\"><code>CSSStyleSheet</code></a> instances themselves can also be modified, and these changes will apply wherever the stylesheet is adopted.</p>\n<p>In an earlier version of the specification, the array was not modifiable, so the only way to add new stylesheets was to assign a new array to <code>adoptedStyleSheets</code>.</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"adopting_a_stylesheet","title":"Adopting a stylesheet","isH3":true,"content":"<p>The code below first shows a stylesheet being constructed, and then <a href=\"/en-US/docs/Web/API/CSSStyleSheet/replaceSync\"><code>CSSStyleSheet.replaceSync()</code></a> is called to add a rule to the sheet.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Create an empty \"constructed\" stylesheet</span>\n<span class=\"token keyword\">const</span> sheet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CSSStyleSheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// Apply a rule to the sheet</span>\nsheet<span class=\"token punctuation\">.</span><span class=\"token function\">replaceSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"a { color: red; }\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>We then create a <a href=\"/en-US/docs/Web/API/ShadowRoot\"><code>ShadowRoot</code></a> and pass the sheet object to <code>adoptedStyleSheets</code> inside an array.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Create an element in the document and then create a shadow root:</span>\n<span class=\"token keyword\">const</span> node <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"div\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> shadow <span class=\"token operator\">=</span> node<span class=\"token punctuation\">.</span><span class=\"token function\">attachShadow</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">mode</span><span class=\"token operator\">:</span> <span class=\"token string\">\"open\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Adopt the sheet into the shadow DOM</span>\nshadow<span class=\"token punctuation\">.</span>adoptedStyleSheets <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span>sheet<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>\n  We can still modify the stylesheets after they have been added to the array.\n  Below we append a new rule to the same sheet using <a href=\"/en-US/docs/Web/API/CSSStyleSheet/insertRule\"><code>CSSStyleSheet.insertRule()</code></a>.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>sheet<span class=\"token punctuation\">.</span><span class=\"token function\">insertRule</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"* { background-color: blue; }\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">// The document will now have blue background.</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"append_a_new_stylesheet","title":"Append a new stylesheet","isH3":true,"content":"<p>New stylesheets can be <em>appended</em> to the document or shadow root by using <code>adoptedStyleSheets.push()</code>:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> extraSheet <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">CSSStyleSheet</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nextraSheet<span class=\"token punctuation\">.</span><span class=\"token function\">replaceSync</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"p { color: green; }\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Concat the new sheet.</span>\nshadow<span class=\"token punctuation\">.</span>adoptedStyleSheets<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>extraSheet<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://drafts.csswg.org/cssom/#dom-documentorshadowroot-adoptedstylesheets","title":"CSS Object Model (CSSOM)"}],"query":"api.ShadowRoot.adoptedStyleSheets"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.ShadowRoot.adoptedStyleSheets"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://web.dev/articles/constructable-stylesheets\" class=\"external\" target=\"_blank\">Constructable Stylesheets</a> (web.dev)</li>\n  <li><a href=\"/en-US/docs/Web/API/Web_components/Using_shadow_DOM\">Using the Shadow DOM</a></li>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleSheet/CSSStyleSheet\"><code>CSSStyleSheet()</code> constructor</a></li>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleSheet/replaceSync\"><code>CSSStyleSheet.replaceSync()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleSheet/replace\"><code>CSSStyleSheet.replace()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleSheet/insertRule\"><code>CSSStyleSheet.insertRule()</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/CSSStyleSheet/deleteRule\"><code>CSSStyleSheet.deleteRule()</code></a></li>\n</ul>"}}],"toc":[{"text":"Value","id":"value"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The adoptedStyleSheets property of the ShadowRoot interface sets an array of constructed stylesheets to be used by the shadow DOM subtree.","popularity":0.0028,"modified":"2023-10-28T09:29:53.000Z","source":{"folder":"en-us/web/api/shadowroot/adoptedstylesheets","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/shadowroot/adoptedstylesheets/index.md","last_commit_url":"https://github.com/mdn/content/commit/4b218cdd81b9751f5088ba5211f16f31818e7746","filename":"index.md"},"short_title":"adoptedStyleSheets","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/ShadowRoot","title":"ShadowRoot"},{"uri":"/en-US/docs/Web/API/ShadowRoot/adoptedStyleSheets","title":"adoptedStyleSheets"}],"pageTitle":"ShadowRoot: adoptedStyleSheets property - Web APIs | MDN","noIndexing":false}}