{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Keyboard: lock() method","mdn_url":"/en-US/docs/Web/API/Keyboard/lock","locale":"en-US","native":"English (US)","browserCompat":["api.Keyboard.lock"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Keyboard_API\">Keyboard API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/Keyboard\"><code>Keyboard</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/Keyboard/getLayoutMap\"><code>getLayoutMap()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><em><code>lock()</code> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></em></li><li><a href=\"/en-US/docs/Web/API/Keyboard/unlock\"><code>unlock()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Keyboard API</summary><ol><li><a href=\"/en-US/docs/Web/API/KeyboardLayoutMap\"><code>KeyboardLayoutMap</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/keyboard\"><code>Navigator.keyboard</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div><div class=\"notecard secure\" id=\"sect2\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>\n  The <strong><code>lock()</code></strong> method of the\n  <a href=\"/en-US/docs/Web/API/Keyboard\"><code>Keyboard</code></a> interface returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> after enabling the\n  capture of keypresses for any or all of the keys on the physical keyboard. This method\n  can only capture keys that are granted access by the underlying operating\n  system.\n</p>\n<p>\n  If <code>lock()</code> is called multiple times then only the key codes specified in the most recent call will be locked.\n  Any keys locked by a previous call to <code>lock()</code> are unlocked.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">lock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">lock</span><span class=\"token punctuation\">(</span>keyCodes<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"keycodes\"><a href=\"#keycodes\"><code>keyCodes</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>\n      An <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\"><code>Array</code></a> of one or more key codes to lock. If no keycodes are provided\n      all keys will be locked. A list of valid code values is found in the <a href=\"https://www.w3.org/TR/uievents-code/#key-alphanumeric-writing-system\" class=\"external\" target=\"_blank\">UI Events KeyboardEvent code Values</a> spec.\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves with <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined\"><code>undefined</code></a> when the lock was successful.</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n  <dt id=\"aborterror\"><a href=\"#aborterror\"><code>AbortError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if a new call to <code>lock()</code> is made before the current one has finished.</p>\n  </dd>\n  <dt id=\"invalidaccesserror\"><a href=\"#invalidaccesserror\"><code>InvalidAccessError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if any key in keyCodes is not a valid key code attribute value.</p>\n  </dd>\n  <dt id=\"invalidstateerror\"><a href=\"#invalidstateerror\"><code>InvalidStateError</code></a> <a href=\"/en-US/docs/Web/API/DOMException\"><code>DOMException</code></a></dt>\n  <dd>\n    <p>Thrown if <code>lock()</code> is not called in an active top-level browsing context.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"security","title":"Security","isH3":false,"content":"<p><a href=\"/en-US/docs/Web/Security/User_activation\">Transient user activation</a> is required. The user has to interact with the page or a UI element in order for this feature to work.</p>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"capturing_all_keys","title":"Capturing all keys","isH3":true,"content":"<p>The following example captures all keypresses.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">lock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"capturing_specific_keys","title":"Capturing specific keys","isH3":true,"content":"<p>\n  The following example captures the \"W\", \"A\", \"S\", and \"D\" keys. It captures these keys\n  regardless of which modifiers are used with the key press. Assuming a standard US QWERTY\n  layout, registering <code>\"KeyW\"</code> ensures that \"W\", Shift+\"W\", Control+\"W\",\n  Control+Shift+\"W\", and all other key modifier combinations with \"W\" are sent to the app.\n  The same applies to for <code>\"KeyA\"</code>, <code>\"KeyS\"</code> and\n  <code>\"KeyD\"</code>.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code>navigator<span class=\"token punctuation\">.</span>keyboard<span class=\"token punctuation\">.</span><span class=\"token function\">lock</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token string\">\"KeyW\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"KeyA\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"KeyS\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"KeyD\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://wicg.github.io/keyboard-lock/#h-keyboard-lock","title":"Keyboard Lock"}],"query":"api.Keyboard.lock"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Keyboard.lock"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Security","id":"security"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The lock() method of the\n  Keyboard interface returns a Promise after enabling the\n  capture of keypresses for any or all of the keys on the physical keyboard. This method\n  can only capture keys that are granted access by the underlying operating\n  system.","popularity":0.0015,"modified":"2023-11-06T22:24:43.000Z","source":{"folder":"en-us/web/api/keyboard/lock","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/keyboard/lock/index.md","last_commit_url":"https://github.com/mdn/content/commit/371da4c57ffe165ed392b8d7e02c6904296ffe69","filename":"index.md"},"short_title":"lock()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Keyboard","title":"Keyboard"},{"uri":"/en-US/docs/Web/API/Keyboard/lock","title":"lock()"}],"pageTitle":"Keyboard: lock() method - Web APIs | MDN","noIndexing":false}}