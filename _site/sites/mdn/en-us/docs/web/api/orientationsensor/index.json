{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"OrientationSensor","mdn_url":"/en-US/docs/Web/API/OrientationSensor","locale":"en-US","native":"English (US)","browserCompat":["api.OrientationSensor"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Sensor_APIs\">Sensor APIs</a></strong></li><li><strong><em><a href=\"/en-US/docs/Web/API/OrientationSensor\" aria-current=\"page\"><code>OrientationSensor</code></a></em></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/OrientationSensor/quaternion\"><code>quaternion</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/OrientationSensor/populateMatrix\"><code>populateMatrix()</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/Sensor\"><code>Sensor</code></a></li><li><a href=\"/en-US/docs/Web/API/EventTarget\"><code>EventTarget</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Sensor API</summary><ol><li><a href=\"/en-US/docs/Web/API/AbsoluteOrientationSensor\"><code>AbsoluteOrientationSensor</code></a></li><li><a href=\"/en-US/docs/Web/API/Accelerometer\"><code>Accelerometer</code></a></li><li><a href=\"/en-US/docs/Web/API/AmbientLightSensor\"><code>AmbientLightSensor</code></a></li><li><a href=\"/en-US/docs/Web/API/GravitySensor\"><code>GravitySensor</code></a></li><li><a href=\"/en-US/docs/Web/API/Gyroscope\"><code>Gyroscope</code></a></li><li><a href=\"/en-US/docs/Web/API/LinearAccelerationSensor\"><code>LinearAccelerationSensor</code></a></li><li><a href=\"/en-US/docs/Web/API/Magnetometer\"><code>Magnetometer</code></a></li><li><a href=\"/en-US/docs/Web/API/RelativeOrientationSensor\"><code>RelativeOrientationSensor</code></a></li><li><a href=\"/en-US/docs/Web/API/Sensor\"><code>Sensor</code></a></li><li><a href=\"/en-US/docs/Web/API/SensorErrorEvent\"><code>SensorErrorEvent</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>OrientationSensor</code></strong> interface of the <a href=\"/en-US/docs/Web/API/Sensor_APIs\">Sensor APIs</a> is the base class for orientation sensors. This interface cannot be used directly. Instead it provides properties and methods accessed by interfaces that inherit from it.</p>\n<p>This feature may be blocked by a <a href=\"/en-US/docs/Web/HTTP/Permissions_Policy\">Permissions Policy</a> set on your server.</p><svg viewBox=\"-1 -1 650 42\" preserveAspectRatio=\"xMinYMin meet\">\n  <a style=\"text-decoration: none;\" xlink:href=\"/en-US/docs/Web/API/EventTarget\">\n    <rect x=\"0\" y=\"0\" width=\"88\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"44\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      EventTarget\n    </text>\n  </a>\n  <line x1=\"88\" y1=\"14\" x2=\"118\" y2=\"14\" stroke=\"#D4DDE4\"></line>\n  <polyline points=\"88,14 98,9 98,19 88,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" xlink:href=\"/en-US/docs/Web/API/Sensor\">\n    <rect x=\"118\" y=\"0\" width=\"75\" height=\"25\" fill=\"#fff\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"155.5\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      Sensor\n    </text>\n  </a>\n  <line x1=\"193\" y1=\"14\" x2=\"223\" y2=\"14\" stroke=\"#D4DDE4\"></line>\n  <polyline points=\"193,14 203,9 203,19 193,14\" stroke=\"#D4DDE4\" fill=\"#fff\"></polyline>\n  <a style=\"text-decoration: none;\" xlink:href=\"/en-US/docs/Web/API/OrientationSensor\" aria-current=\"page\">\n    <rect x=\"223\" y=\"0\" width=\"136\" height=\"25\" fill=\"#F4F7F8\" stroke=\"#D4DDE4\" stroke-width=\"2px\"></rect>\n    <text x=\"291\" y=\"16\" font-size=\"10px\" fill=\"#4D4E53\" text-anchor=\"middle\">\n      OrientationSensor\n    </text>\n  </a></svg>"}},{"type":"prose","value":{"id":"interfaces_based_on_orientationsensor","title":"Interfaces based on OrientationSensor","isH3":false,"content":"<p>Below is a list of interfaces based on the OrientationSensor interface.</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/AbsoluteOrientationSensor\"><code>AbsoluteOrientationSensor</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/RelativeOrientationSensor\"><code>RelativeOrientationSensor</code></a></li>\n</ul>"}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":false,"content":"<dl>\n  <dt id=\"orientationsensor.quaternion\"><a href=\"/en-US/docs/Web/API/OrientationSensor/quaternion\"><code>OrientationSensor.quaternion</code></a></dt>\n  <dd>\n    <p>Returns a four element <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\"><code>Array</code></a> whose elements contain the components of the unit quaternion representing the device's orientation.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"instance_methods","title":"Instance methods","isH3":false,"content":"<dl>\n  <dt id=\"orientationsensor.populatematrix\"><a href=\"/en-US/docs/Web/API/OrientationSensor/populateMatrix\"><code>OrientationSensor.populateMatrix()</code></a></dt>\n  <dd>\n    <p>Populates the given object with the rotation matrix based on the latest sensor reading.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"basic_example","title":"Basic Example","isH3":true,"content":"<p>The following example, which is loosely based on <a href=\"https://intel.github.io/generic-sensor-demos/orientation-phone/\" class=\"external\" target=\"_blank\">Intel's Orientation Phone demo</a>, instantiates an <code>AbsoluteOrientationSensor</code> with a frequency of 60 times a second. On each reading it uses <a href=\"/en-US/docs/Web/API/OrientationSensor/quaternion\"><code>OrientationSensor.quaternion</code></a> to rotate a visual model of a phone.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> options <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">frequency</span><span class=\"token operator\">:</span> <span class=\"token number\">60</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">referenceFrame</span><span class=\"token operator\">:</span> <span class=\"token string\">\"device\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> sensor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AbsoluteOrientationSensor</span><span class=\"token punctuation\">(</span>options<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nsensor<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"reading\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// model is a Three.js object instantiated elsewhere.</span>\n  model<span class=\"token punctuation\">.</span>quaternion<span class=\"token punctuation\">.</span><span class=\"token function\">fromArray</span><span class=\"token punctuation\">(</span>sensor<span class=\"token punctuation\">.</span>quaternion<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">inverse</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsensor<span class=\"token punctuation\">.</span><span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"error\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">error</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">.</span>name <span class=\"token operator\">===</span> <span class=\"token string\">\"NotReadableError\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"Sensor is not available.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nsensor<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"permissions_example","title":"Permissions Example","isH3":true,"content":"<p>Using orientation sensors requires requesting permissions for multiple device sensors. Because the <a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a> interface uses promises, a good way to request permissions is to use <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\"><code>Promise.all</code></a>.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> sensor <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">AbsoluteOrientationSensor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nPromise<span class=\"token punctuation\">.</span><span class=\"token function\">all</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>\n  navigator<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"accelerometer\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  navigator<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"magnetometer\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  navigator<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">.</span><span class=\"token function\">query</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"gyroscope\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">results</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>results<span class=\"token punctuation\">.</span><span class=\"token function\">every</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> result<span class=\"token punctuation\">.</span>state <span class=\"token operator\">===</span> <span class=\"token string\">\"granted\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    sensor<span class=\"token punctuation\">.</span><span class=\"token function\">start</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// …</span>\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"No permissions to use AbsoluteOrientationSensor.\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/orientation-sensor/#orientationsensor-interface","title":"Orientation Sensor"}],"query":"api.OrientationSensor"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.OrientationSensor"}}],"toc":[{"text":"Interfaces based on OrientationSensor","id":"interfaces_based_on_orientationsensor"},{"text":"Instance properties","id":"instance_properties"},{"text":"Instance methods","id":"instance_methods"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The OrientationSensor interface of the Sensor APIs is the base class for orientation sensors. This interface cannot be used directly. Instead it provides properties and methods accessed by interfaces that inherit from it.","popularity":0.0008,"modified":"2023-09-08T00:07:01.000Z","source":{"folder":"en-us/web/api/orientationsensor","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/orientationsensor/index.md","last_commit_url":"https://github.com/mdn/content/commit/33eb1ab8fc98ec3a18972a2032b1af49eb57bb85","filename":"index.md"},"short_title":"OrientationSensor","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/OrientationSensor","title":"OrientationSensor"}],"pageTitle":"OrientationSensor - Web APIs | MDN","noIndexing":false}}