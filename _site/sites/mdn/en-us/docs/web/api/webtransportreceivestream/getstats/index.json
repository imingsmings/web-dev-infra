{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"WebTransportReceiveStream: getStats() method","mdn_url":"/en-US/docs/Web/API/WebTransportReceiveStream/getStats","locale":"en-US","native":"English (US)","browserCompat":["api.WebTransportReceiveStream.getStats"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebTransport_API\">WebTransport API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/WebTransportReceiveStream\"><code>WebTransportReceiveStream</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><em><code>getStats()</code> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Inheritance:</summary><ol><li><a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebTransport API</summary><ol><li><a href=\"/en-US/docs/Web/API/WebTransport\"><code>WebTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportBidirectionalStream\"><code>WebTransportBidirectionalStream</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream\"><code>WebTransportDatagramDuplexStream</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportError\"><code>WebTransportError</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportSendStream\"><code>WebTransportSendStream</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>The <strong><code>getStats()</code></strong> method of the <a href=\"/en-US/docs/Web/API/WebTransportReceiveStream\"><code>WebTransportReceiveStream</code></a> interface asynchronously returns an object containing statistics for the current stream.</p>\n<p>\n  The statistics include the total number of ordered bytes that have arrived on this stream (ignoring network overhead, up until the first missing byte) and the total number that have been read by the application.\n  It therefore provides a measure of how quickly the application is consuming bytes from the server on this particular stream.\n</p><div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> This feature is available in <a href=\"/en-US/docs/Web/API/Web_Workers_API\">Web Workers</a></p>\n</div>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">getStats</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<p>None.</p>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that resolves to a object containing statistics about the current stream.\n  The returned object has the following properties:\n</p>\n<dl>\n  <dt id=\"timestamp\"><a href=\"#timestamp\"><code>timestamp</code></a></dt>\n  <dd>\n    <p>A <a href=\"/en-US/docs/Web/API/DOMHighResTimeStamp\"><code>DOMHighResTimeStamp</code></a> indicating the timestamp at which the statistics were gathered, relative to Jan 1, 1970, UTC.</p>\n  </dd>\n  <dt id=\"bytesreceived\"><a href=\"#bytesreceived\"><code>bytesReceived</code></a></dt>\n  <dd>\n    <p>\n      A positive integer indicating the number of bytes received by this stream, up to the first missing byte.\n      The number does not include any network overhead, and can only increase.\n    </p>\n  </dd>\n  <dt id=\"bytesread\"><a href=\"#bytesread\"><code>bytesRead</code></a></dt>\n  <dd>\n    <p>\n      A positive integer indicating the number of bytes the application has read from this <code>WebTransportReceiveStream</code> stream.\n      This number can only increase, and is always less than or equal to <code>bytesReceived</code>.\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  The code snippet below uses <code>await</code> to wait on the <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> returned by <code>getStats()</code>.\n  When the promise fulfills, the number of bytes that have not yet been read is logged to the console.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> stats <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> stream<span class=\"token punctuation\">.</span><span class=\"token function\">getStats</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> unConsumedBytes <span class=\"token operator\">=</span> stats<span class=\"token punctuation\">.</span>bytesReceived <span class=\"token operator\">-</span> stats<span class=\"token punctuation\">.</span>bytesRead<span class=\"token punctuation\">;</span>\nconsole<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Bytes in reader queue: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>unConsumedBytes<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webtransport/#dom-webtransportreceivestream-getstats","title":"WebTransport"}],"query":"api.WebTransportReceiveStream.getStats"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.WebTransportReceiveStream.getStats"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The getStats() method of the WebTransportReceiveStream interface asynchronously returns an object containing statistics for the current stream.","popularity":0,"modified":"2023-12-07T22:31:41.000Z","source":{"folder":"en-us/web/api/webtransportreceivestream/getstats","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/webtransportreceivestream/getstats/index.md","last_commit_url":"https://github.com/mdn/content/commit/e47698f3649a14011e8a41fc681dfe965d1c58c5","filename":"index.md"},"short_title":"getStats()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/WebTransportReceiveStream","title":"WebTransportReceiveStream"},{"uri":"/en-US/docs/Web/API/WebTransportReceiveStream/getStats","title":"getStats()"}],"pageTitle":"WebTransportReceiveStream: getStats() method - Web APIs | MDN","noIndexing":false}}