{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"View Transitions API","mdn_url":"/en-US/docs/Web/API/View_Transitions_API","locale":"en-US","native":"English (US)","browserCompat":["api.Document.startViewTransition"],"sidebarHTML":"<ol><li><strong><em><a href=\"/en-US/docs/Web/API/View_Transitions_API\" aria-current=\"page\">View Transitions API</a></em></strong></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/ViewTransition\"><code>ViewTransition</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Methods</summary><ol><li><a href=\"/en-US/docs/Web/API/Document/startViewTransition\"><code>Document.startViewTransition()</code></a></li></ol></details></li></ol>","sidebarMacro":"DefaultAPISidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>The <strong>View Transitions API</strong> provides a mechanism for easily creating animated transitions between different DOM states while also updating the DOM contents in a single step.</p>"}},{"type":"prose","value":{"id":"concepts_and_usage","title":"Concepts and usage","isH3":false,"content":"<p>View transitions are a popular design choice for reducing users' cognitive load, helping them stay in context, and reducing perceived loading latency as they move between states or views of an application.</p>\n<p>However, creating view transitions on the web has historically been difficult. Transitions between states in single-page apps (SPAs) tend to involve writing significant CSS and JavaScript to:</p>\n<ul>\n  <li>Handle the loading and positioning of the old and new content.</li>\n  <li>Animate the old and new states to create the transition.</li>\n  <li>Stop accidental user interactions with the old content from causing problems.</li>\n  <li>Remove the old content once the transition is complete.</li>\n</ul>\n<p>Accessibility issues like loss of reading position, focus confusion, and strange live region announcement behavior can also result from having the new and old content both present in the DOM at once. In addition, cross-document view transitions (i.e. across different pages in regular, non-SPA websites) are impossible.</p>\n<p>The View Transitions API provides a much easier way of handling the required DOM changes and transition animations.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> The View Transitions API doesn't currently enable cross-document view transitions, but this is planned for a future level of the spec and is actively being worked on.</p>\n</div>"}},{"type":"prose","value":{"id":"creating_a_basic_view_transition","title":"Creating a basic view transition","isH3":true,"content":"<p>As an example, an SPA may include functionality to fetch new content and update the DOM in response to an event of some kind, such as a navigation link being clicked or an update being pushed from the server. In our <a href=\"https://mdn.github.io/dom-examples/view-transitions/\" class=\"external\" target=\"_blank\">Basic View Transitions demo</a> we've simplified this to a <code>displayNewImage()</code> function that shows a new full-size image based on the thumbnail that was clicked. We've encapsulated this inside an <code>updateView()</code> function that only calls the View Transition API if the browser supports it:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">updateView</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Handle the difference in whether the event is fired on the &lt;a&gt; or the &lt;img&gt;</span>\n  <span class=\"token keyword\">const</span> targetIdentifier <span class=\"token operator\">=</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">.</span>firstChild <span class=\"token operator\">||</span> event<span class=\"token punctuation\">.</span>target<span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">displayNewImage</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> mainSrc <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>targetIdentifier<span class=\"token punctuation\">.</span>src<span class=\"token punctuation\">.</span><span class=\"token function\">split</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"_th.jpg\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">.jpg</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n    galleryImg<span class=\"token punctuation\">.</span>src <span class=\"token operator\">=</span> mainSrc<span class=\"token punctuation\">;</span>\n    galleryCaption<span class=\"token punctuation\">.</span>textContent <span class=\"token operator\">=</span> targetIdentifier<span class=\"token punctuation\">.</span>alt<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Fallback for browsers that don't support View Transitions:</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>document<span class=\"token punctuation\">.</span>startViewTransition<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">displayNewImage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// With View Transitions:</span>\n  <span class=\"token keyword\">const</span> transition <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">startViewTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token function\">displayNewImage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This code is enough to handle the transition between displayed images. Supporting browsers will show the change from old to new images and captions as a smooth cross-fade (the default view transition). It will still work in non-supporting browsers but without the nice animation.</p>\n<p>It is also worth mentioning that <code>startViewTransition()</code> returns a <a href=\"/en-US/docs/Web/API/ViewTransition\"><code>ViewTransition</code></a> instance, which includes several promises, allowing you to run code in response to different parts of the view transition process being reached.</p>"}},{"type":"prose","value":{"id":"the_view_transition_process","title":"The view transition process","isH3":true,"content":"<p>Let's walk through how this works:</p>\n<ol>\n  <li>When <a href=\"/en-US/docs/Web/API/Document/startViewTransition\" title=\"document.startViewTransition()\"><code>document.startViewTransition()</code></a> is called, the API takes a screenshot of the current page.</li>\n  <li>\n    Next, the callback passed to <code>startViewTransition()</code> is invoked, in this case <code>displayNewImage</code>, which causes the DOM to change.\n    When the callback has run successfully, the <a href=\"/en-US/docs/Web/API/ViewTransition/updateCallbackDone\"><code>ViewTransition.updateCallbackDone</code></a> promise fulfills, allowing you to respond to the DOM updating.\n  </li>\n  <li>The API captures the new state of the page as a live representation.</li>\n  <li>The API constructs a pseudo-element tree with the following structure:\n    <pre class=\"brush: plain notranslate\">::view-transition\n└─ ::view-transition-group(root)\n   └─ ::view-transition-image-pair(root)\n      ├─ ::view-transition-old(root)\n      └─ ::view-transition-new(root)\n</pre>\n    <ul>\n      <li><a href=\"/en-US/docs/Web/CSS/::view-transition\"><code>::view-transition</code></a> is the root of view transitions overlay, which contains all view transitions and sits over the top of all other page content.</li>\n      <li><a href=\"/en-US/docs/Web/CSS/::view-transition-old\"><code>::view-transition-old</code></a> is the screenshot of the old page view, and <a href=\"/en-US/docs/Web/CSS/::view-transition-new\"><code>::view-transition-new</code></a> is the live representation of the new page view. Both of these render as replaced content, in the same manner as an <a href=\"/en-US/docs/Web/HTML/Element/img\"><code>&lt;img&gt;</code></a> or <a href=\"/en-US/docs/Web/HTML/Element/video\"><code>&lt;video&gt;</code></a>, meaning that they can be styled with handy properties like <a href=\"/en-US/docs/Web/CSS/object-fit\"><code>object-fit</code></a> and <a href=\"/en-US/docs/Web/CSS/object-position\"><code>object-position</code></a>.</li>\n    </ul>When the transition animation is about to run, the <a href=\"/en-US/docs/Web/API/ViewTransition/ready\"><code>ViewTransition.ready</code></a> promise fulfills, allowing you to respond by running a custom JavaScript animation instead of the default, for example.\n  </li>\n  <li>The old page view animates from <a href=\"/en-US/docs/Web/CSS/opacity\"><code>opacity</code></a> 1 to 0, while the new view animates from <code>opacity</code> 0 to 1, which is what creates the default cross-fade.</li>\n  <li>When the transition animation has reached its end state, the <a href=\"/en-US/docs/Web/API/ViewTransition/finished\"><code>ViewTransition.finished</code></a> promise fulfills, allowing you to respond.</li>\n</ol>"}},{"type":"prose","value":{"id":"different_transitions_for_different_elements","title":"Different transitions for different elements","isH3":true,"content":"<p>At the moment, all of the different elements that change when the DOM updates are transitioned using the same animation. If you want different elements to animate differently from the default \"root\" animation, you can separate them out using the <a href=\"/en-US/docs/Web/CSS/view-transition-name\"><code>view-transition-name</code></a> property. For example:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">figcaption</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">view-transition-name</span><span class=\"token punctuation\">:</span> figure-caption<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>We've given the <a href=\"/en-US/docs/Web/HTML/Element/figcaption\"><code>&lt;figcaption&gt;</code></a> element a <code>view-transition-name</code> of <code>figure-caption</code> to separate it from the rest of the page in terms of view transitions.</p>\n<p>With this CSS applied, the pseudo-element tree will now look like this:</p>\n<pre class=\"brush: plain notranslate\">::view-transition\n├─ ::view-transition-group(root)\n│ └─ ::view-transition-image-pair(root)\n│     ├─ ::view-transition-old(root)\n│     └─ ::view-transition-new(root)\n└─ ::view-transition-group(figure-caption)\n  └─ ::view-transition-image-pair(figure-caption)\n      ├─ ::view-transition-old(figure-caption)\n      └─ ::view-transition-new(figure-caption)\n</pre>\n<p>The existence of the second set of pseudo-elements allows separate view transition styling to be applied just to the <code>&lt;figcaption&gt;</code>. The different old and new page view captures are handled completely separate from one another.</p>\n<p>The value of <code>view-transition-name</code> can be anything you want except for <code>none</code> — the <code>none</code> value specifically means that the element will not participate in a view transition.</p>\n<div class=\"notecard note\" id=\"sect3\">\n  <p><strong>Note:</strong> <code>view-transition-name</code> must be unique. If two rendered elements have the same <code>view-transition-name</code> at the same time, <a href=\"/en-US/docs/Web/API/ViewTransition/ready\"><code>ViewTransition.ready</code></a> will reject and the transition will be skipped.</p>\n</div>"}},{"type":"prose","value":{"id":"customizing_your_animations","title":"Customizing your animations","isH3":true,"content":"<p>The View Transitions pseudo-elements have default <a href=\"/en-US/docs/Web/CSS/CSS_animations\">CSS Animations</a> applied (which are detailed in their <a href=\"#css_additions\">reference pages</a>).</p>\n<p>Notably, transitions for <code>height</code>, <code>width</code>, <code>position</code>, and <code>transform</code> do not use the smooth cross-fade animation. Instead, height and width transitions apply a smooth scaling animation. Meanwhile, position and transform transitions apply smooth movement animations to the element.</p>\n<p>You can modify the default animation in any way you want using regular CSS.</p>\n<p>For example, to change the speed of it:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">::view-transition-old(root),\n::view-transition-new(root)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation-duration</span><span class=\"token punctuation\">:</span> 0.5s<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Let's look at something more interesting — a custom animation for the <code>&lt;figcaption&gt;</code>:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> grow-x</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token atrule\"><span class=\"token rule\">@keyframes</span> shrink-x</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token selector\">from</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token selector\">to</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">transform</span><span class=\"token punctuation\">:</span> <span class=\"token function\">scaleX</span><span class=\"token punctuation\">(</span>0<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">::view-transition-old(figure-caption),\n::view-transition-new(figure-caption)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">right</span><span class=\"token punctuation\">:</span> 0<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">left</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">transform-origin</span><span class=\"token punctuation\">:</span> right center<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">::view-transition-old(figure-caption)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> 0.25s linear both shrink-x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">::view-transition-new(figure-caption)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> 0.25s 0.25s linear both grow-x<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Here we've created a custom CSS animation and applied it to the <code>::view-transition-old(figure-caption)</code> and <code>::view-transition-new(figure-caption)</code> pseudo-elements. We've also added a number of other styles to both to keep them in the same place and stop the default styling from interfering with our custom animations.</p>\n<p>Note that we also discovered another transition option that is simpler and produced a nicer result than the above. Our final <code>&lt;figcaption&gt;</code> view transition ended up looking like this:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">figcaption</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">view-transition-name</span><span class=\"token punctuation\">:</span> figure-caption<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">::view-transition-old(figure-caption),\n::view-transition-new(figure-caption)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">height</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This works because, by default, <code>::view-transition-group</code> transitions width and height between the old and new views. We just needed to set a fixed <code>height</code> on both states to make it work.</p>\n<div class=\"notecard note\" id=\"sect4\">\n  <p><strong>Note:</strong> <a href=\"https://developer.chrome.com/docs/web-platform/view-transitions/\" class=\"external\" target=\"_blank\">Smooth and simple transitions with the View Transitions API</a> contains several other customization examples.</p>\n</div>"}},{"type":"prose","value":{"id":"controlling_animations_with_javascript","title":"Controlling animations with JavaScript","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/API/Document/startViewTransition\" title=\"document.startViewTransition()\"><code>document.startViewTransition()</code></a> method returns a <a href=\"/en-US/docs/Web/API/ViewTransition\"><code>ViewTransition</code></a> object instance, which contains several promise members allowing you to run JavaScript in response to different states of the transition being reached. For example, <a href=\"/en-US/docs/Web/API/ViewTransition/ready\"><code>ViewTransition.ready</code></a> fulfills once the pseudo-element tree is created and the animation is about to start, whereas <a href=\"/en-US/docs/Web/API/ViewTransition/finished\"><code>ViewTransition.finished</code></a> fulfills once the animation is finished, and the new page view is visible and interactive to the user.</p>\n<p>For example, the following JavaScript could be used to create a circular reveal view transition emanating from the position of the user's cursor on click, with animation provided by the <a href=\"/en-US/docs/Web/API/Web_Animations_API\" title=\"Web Animations API\">Web Animations API</a>.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// Store the last click event</span>\n<span class=\"token keyword\">let</span> lastClick<span class=\"token punctuation\">;</span>\n<span class=\"token function\">addEventListener</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"click\"</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">event</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">(</span>lastClick <span class=\"token operator\">=</span> event<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">spaNavigate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">data</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Fallback for browsers that don’t support this API:</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>document<span class=\"token punctuation\">.</span>startViewTransition<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">updateTheDOMSomehow</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token comment\">// Get the click position, or fallback to the middle of the screen</span>\n  <span class=\"token keyword\">const</span> x <span class=\"token operator\">=</span> lastClick<span class=\"token operator\">?.</span>clientX <span class=\"token operator\">??</span> innerWidth <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> y <span class=\"token operator\">=</span> lastClick<span class=\"token operator\">?.</span>clientY <span class=\"token operator\">??</span> innerHeight <span class=\"token operator\">/</span> <span class=\"token number\">2</span><span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// Get the distance to the furthest corner</span>\n  <span class=\"token keyword\">const</span> endRadius <span class=\"token operator\">=</span> Math<span class=\"token punctuation\">.</span><span class=\"token function\">hypot</span><span class=\"token punctuation\">(</span>\n    Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">,</span> innerWidth <span class=\"token operator\">-</span> x<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    Math<span class=\"token punctuation\">.</span><span class=\"token function\">max</span><span class=\"token punctuation\">(</span>y<span class=\"token punctuation\">,</span> innerHeight <span class=\"token operator\">-</span> y<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Create a transition:</span>\n  <span class=\"token keyword\">const</span> transition <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">startViewTransition</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">updateTheDOMSomehow</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token comment\">// Wait for the pseudo-elements to be created:</span>\n  transition<span class=\"token punctuation\">.</span>ready<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Animate the root’s new view</span>\n    document<span class=\"token punctuation\">.</span>documentElement<span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">clipPath</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">circle(0 at </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n          <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">circle(</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>endRadius<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px at </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>x<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>y<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">px)</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span>\n        <span class=\"token literal-property property\">duration</span><span class=\"token operator\">:</span> <span class=\"token number\">500</span><span class=\"token punctuation\">,</span>\n        <span class=\"token literal-property property\">easing</span><span class=\"token operator\">:</span> <span class=\"token string\">\"ease-in\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token comment\">// Specify which pseudo-element to animate</span>\n        <span class=\"token literal-property property\">pseudoElement</span><span class=\"token operator\">:</span> <span class=\"token string\">\"::view-transition-new(root)\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>This animation also requires the following CSS, to turn off the default CSS animation and stop the old and new view states from blending in any way (the new state \"wipes\" right over the top of the old state, rather than transitioning in):</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">css</span></p><pre class=\"brush: css notranslate\"><code><span class=\"token selector\">::view-transition-image-pair(root)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">isolation</span><span class=\"token punctuation\">:</span> auto<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token selector\">::view-transition-old(root),\n::view-transition-new(root)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">animation</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">mix-blend-mode</span><span class=\"token punctuation\">:</span> normal<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> block<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"interfaces","title":"Interfaces","isH3":false,"content":"<dl>\n  <dt id=\"viewtransition\"><a href=\"/en-US/docs/Web/API/ViewTransition\"><code>ViewTransition</code></a></dt>\n  <dd>\n    <p>Represents a view transition, and provides functionality to react to the transition reaching different states (e.g. ready to run the animation, or animation finished) or skip the transition altogether.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"extensions_to_other_interfaces","title":"Extensions to other interfaces","isH3":false,"content":"<dl>\n  <dt id=\"document.startviewtransition\"><a href=\"/en-US/docs/Web/API/Document/startViewTransition\"><code>Document.startViewTransition()</code></a></dt>\n  <dd>\n    <p>Starts a new view transition and returns a <a href=\"/en-US/docs/Web/API/ViewTransition\"><code>ViewTransition</code></a> object to represent it.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"css_additions","title":"CSS additions","isH3":false,"content":""}},{"type":"prose","value":{"id":"properties","title":"Properties","isH3":true,"content":"<dl>\n  <dt id=\"view-transition-name\"><a href=\"/en-US/docs/Web/CSS/view-transition-name\"><code>view-transition-name</code></a></dt>\n  <dd>\n    <p>Provides the selected element with a separate identifying name and causes it to participate in a separate view transition from the root view transition — or no view transition if the <code>none</code> value is specified.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"pseudo-elements","title":"Pseudo-elements","isH3":true,"content":"<dl>\n  <dt id=\"view-transition\"><a href=\"/en-US/docs/Web/CSS/::view-transition\"><code>::view-transition</code></a></dt>\n  <dd>\n    <p>The root of the view transitions overlay, which contains all view transitions and sits over the top of all other page content.</p>\n  </dd>\n  <dt id=\"view-transition-group\"><a href=\"/en-US/docs/Web/CSS/::view-transition-group\"><code>::view-transition-group()</code></a></dt>\n  <dd>\n    <p>The root of a single view transition.</p>\n  </dd>\n  <dt id=\"view-transition-image-pair\"><a href=\"/en-US/docs/Web/CSS/::view-transition-image-pair\"><code>::view-transition-image-pair()</code></a></dt>\n  <dd>\n    <p>The container for a view transition's old and new views — before and after the transition.</p>\n  </dd>\n  <dt id=\"view-transition-old\"><a href=\"/en-US/docs/Web/CSS/::view-transition-old\"><code>::view-transition-old()</code></a></dt>\n  <dd>\n    <p>A static screenshot of the old view, before the transition.</p>\n  </dd>\n  <dt id=\"view-transition-new\"><a href=\"/en-US/docs/Web/CSS/::view-transition-new\"><code>::view-transition-new()</code></a></dt>\n  <dd>\n    <p>A live representation of the new view, after the transition.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<ul>\n  <li><a href=\"https://mdn.github.io/dom-examples/view-transitions/\" class=\"external\" target=\"_blank\">Basic View Transitions demo</a>: A basic image gallery demo with separate transitions between old and new images, and old and new captions.</li>\n  <li><a href=\"https://http203-playlist.netlify.app/\" class=\"external\" target=\"_blank\">HTTP 203 playlist</a>: A more sophisticated video player demo app that features a number of different view transitions, many of which are explained in <a href=\"https://developer.chrome.com/docs/web-platform/view-transitions/\" class=\"external\" target=\"_blank\">Smooth and simple transitions with the View Transitions API</a>.</li>\n</ul>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://drafts.csswg.org/css-view-transitions/#dom-document-startviewtransition","title":"CSS View Transitions Module Level 1"}],"query":"api.Document.startViewTransition"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Document.startViewTransition"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://developer.chrome.com/docs/web-platform/view-transitions/\" class=\"external\" target=\"_blank\">Smooth and simple transitions with the View Transitions API</a></li>\n  <li><a href=\"https://stackdiary.com/view-transitions-api/\" class=\"external\" target=\"_blank\">View Transitions API: Creating Smooth Page Transitions</a></li>\n</ul>"}}],"toc":[{"text":"Concepts and usage","id":"concepts_and_usage"},{"text":"Interfaces","id":"interfaces"},{"text":"Extensions to other interfaces","id":"extensions_to_other_interfaces"},{"text":"CSS additions","id":"css_additions"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The View Transitions API provides a mechanism for easily creating animated transitions between different DOM states while also updating the DOM contents in a single step.","popularity":0.0522,"modified":"2023-08-31T15:57:59.000Z","source":{"folder":"en-us/web/api/view_transitions_api","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/view_transitions_api/index.md","last_commit_url":"https://github.com/mdn/content/commit/6d4b6a0f9df94de158c373d6b08c504caafcee5f","filename":"index.md"},"short_title":"View Transitions API","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/View_Transitions_API","title":"View Transitions API"}],"pageTitle":"View Transitions API - Web APIs | MDN","noIndexing":false}}