{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"Permissions: revoke() method","mdn_url":"/en-US/docs/Web/API/Permissions/revoke","locale":"en-US","native":"English (US)","browserCompat":["api.Permissions.revoke"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Permissions_API\">Permissions API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/Permissions/query\"><code>query()</code></a></li><li><em><code>revoke()</code> <abbr class=\"icon icon-deprecated\" title=\"Deprecated. Not for use in new websites.\">\n  <span class=\"visually-hidden\">Deprecated</span>\n</abbr></em></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Permissions API</summary><ol><li><a href=\"/en-US/docs/Web/API/Navigator/permissions\"><code>Navigator.permissions</code></a></li><li><a href=\"/en-US/docs/Web/API/PermissionStatus\"><code>PermissionStatus</code></a></li><li><a href=\"/en-US/docs/Web/API/WorkerNavigator/permissions\"><code>WorkerNavigator.permissions</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard deprecated\" id=\"sect1\"><p><strong>Deprecated:</strong> This feature is no longer recommended. Though some browsers might still support it, it may have already been removed from the relevant web standards, may be in the process of being dropped, or may only be kept for compatibility purposes. Avoid using it, and update existing code if possible; see the <a href=\"#browser_compatibility\">compatibility table</a> at the bottom of this page to guide your decision. Be aware that this feature may cease to work at any time.</p></div>\n<p>\n  The <strong><code>Permissions.revoke()</code></strong> method of the\n  <a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a> interface reverts a currently set permission back to its\n  default state, which is usually <code>prompt</code>.\n  This method is called on the global <a href=\"/en-US/docs/Web/API/Permissions\"><code>Permissions</code></a> object\n  <a href=\"/en-US/docs/Web/API/Navigator/permissions\"><code>navigator.permissions</code></a>.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">revoke</span><span class=\"token punctuation\">(</span>descriptor<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"descriptor\"><a href=\"#descriptor\"><code>descriptor</code></a></dt>\n  <dd>\n    <p>\n      An object based on the <code>PermissionDescriptor</code> dictionary that sets\n      options for the operation consisting of a comma-separated list of name-value pairs.\n      The available options are:\n    </p>\n    <dl>\n      <dt id=\"name\"><a href=\"#name\"><code>name</code></a></dt>\n      <dd>\n        <p>\n          The name of the API whose permissions you want to query.\n          Valid values are <code>'geolocation'</code>, <code>'midi'</code>,\n          <code>'notifications'</code>, and <code>'push'</code>.\n        </p>\n      </dd>\n      <dt id=\"uservisibleonly\"><a href=\"#uservisibleonly\"><code>userVisibleOnly</code></a></dt>\n      <dd>\n        <p>\n          (Push only, not supported in Firefox â€” see the\n          <a href=\"#browser_compatibility\">Browser compatibility</a> section below) Indicates whether you want to\n          show a notification for every message or be able to send silent push\n          notifications. The default is <code>false</code>.\n        </p>\n      </dd>\n      <dt id=\"sysex\"><a href=\"#sysex\"><code>sysex</code></a> (MIDI only)</dt>\n      <dd>\n        <p>\n          Indicates whether you need and/or receive system\n          exclusive messages. The default is <code>false</code>.\n        </p>\n      </dd>\n    </dl>\n  </dd>\n</dl>\n<div class=\"notecard note\" id=\"sect2\">\n  <p>\n    <strong>Note:</strong> As of Firefox 44, the permissions for <a href=\"/en-US/docs/Web/API/Notifications_API\">Notifications</a> and <a href=\"/en-US/docs/Web/API/Push_API\">Push</a> have been merged. If permission is\n    granted (e.g. by the user, in the relevant permissions dialog),\n    <code>navigator.permissions.query()</code> will return <code>true</code> for both\n    <code>notifications</code> and <code>push</code>.\n  </p>\n</div>\n<div class=\"notecard note\" id=\"sect3\">\n  <p>\n    <strong>Note:</strong> The <code>persistent-storage</code> permission allows an\n    origin to use a persistent box (i.e., <a href=\"https://storage.spec.whatwg.org/#persistence\" class=\"external\" target=\"_blank\">persistent storage</a>) for its\n    storage, as per the <a href=\"https://storage.spec.whatwg.org/\" class=\"external\" target=\"_blank\">Storage API</a>.\n  </p>\n</div>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>\n  A <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\"><code>Promise</code></a> that calls its fulfillment handler with a\n  <a href=\"/en-US/docs/Web/API/PermissionStatus\"><code>PermissionStatus</code></a> object indicating the result of the request.\n</p>"}},{"type":"prose","value":{"id":"exceptions","title":"Exceptions","isH3":true,"content":"<dl>\n  <dt id=\"typeerror\"><a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError\"><code>TypeError</code></a></dt>\n  <dd>\n    <p>\n      Retrieving the <code>PermissionDescriptor</code> information failed in some way, or\n      the permission doesn't exist or is currently unsupported (e.g. <code>midi</code>, or\n      <code>push</code> with <code>userVisibleOnly</code>).\n    </p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>\n  This function can be used by an app to request that its own Geolocation API permission\n  be revoked.\n</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">revokePermission</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  navigator<span class=\"token punctuation\">.</span>permissions<span class=\"token punctuation\">.</span><span class=\"token function\">revoke</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">\"geolocation\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">report</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>state<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.Permissions.revoke"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Browser compatibility","id":"browser_compatibility"}],"summary":"The Permissions.revoke() method of the\n  Permissions interface reverts a currently set permission back to its\n  default state, which is usually prompt.\n  This method is called on the global Permissions object\n  navigator.permissions.","popularity":0.0011,"modified":"2023-04-07T19:46:21.000Z","source":{"folder":"en-us/web/api/permissions/revoke","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/permissions/revoke/index.md","last_commit_url":"https://github.com/mdn/content/commit/c58e8c1dd6ecbcb63894c7dd17fb9495b9511b4e","filename":"index.md"},"short_title":"revoke()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Permissions","title":"Permissions"},{"uri":"/en-US/docs/Web/API/Permissions/revoke","title":"revoke()"}],"pageTitle":"Permissions: revoke() method - Web APIs | MDN","noIndexing":false}}