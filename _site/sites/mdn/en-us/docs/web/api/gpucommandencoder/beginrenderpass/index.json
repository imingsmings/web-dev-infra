{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"GPUCommandEncoder: beginRenderPass() method","mdn_url":"/en-US/docs/Web/API/GPUCommandEncoder/beginRenderPass","locale":"en-US","native":"English (US)","browserCompat":["api.GPUCommandEncoder.beginRenderPass"],"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebGPU_API\">WebGPU API</a></strong></li><li><strong><a href=\"/en-US/docs/Web/API/GPUCommandEncoder\"><code>GPUCommandEncoder</code></a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/label\"><code>label</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Instance methods</summary><ol><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/beginComputePass\"><code>beginComputePass()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><em><code>beginRenderPass()</code> <abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></em></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/clearBuffer\"><code>clearBuffer()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/copyBufferToBuffer\"><code>copyBufferToBuffer()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/copyBufferToTexture\"><code>copyBufferToTexture()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/copyTextureToBuffer\"><code>copyTextureToBuffer()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/copyTextureToTexture\"><code>copyTextureToTexture()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/finish\"><code>finish()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/insertDebugMarker\"><code>insertDebugMarker()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/popDebugGroup\"><code>popDebugGroup()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/pushDebugGroup\"><code>pushDebugGroup()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/resolveQuerySet\"><code>resolveQuerySet()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li><li><a href=\"/en-US/docs/Web/API/GPUCommandEncoder/writeTimestamp\"><code>writeTimestamp()</code></a><abbr class=\"icon icon-experimental\" title=\"Experimental. Expect behavior to change in the future.\">\n    <span class=\"visually-hidden\">Experimental</span>\n</abbr></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebGPU API</summary><ol><li><a href=\"/en-US/docs/Web/API/GPU\"><code>GPU</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUAdapter\"><code>GPUAdapter</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUAdapterInfo\"><code>GPUAdapterInfo</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUBindGroup\"><code>GPUBindGroup</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUBindGroupLayout\"><code>GPUBindGroupLayout</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUBuffer\"><code>GPUBuffer</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUCanvasContext\"><code>GPUCanvasContext</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUCommandBuffer\"><code>GPUCommandBuffer</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUCompilationInfo\"><code>GPUCompilationInfo</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUCompilationMessage\"><code>GPUCompilationMessage</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUComputePassEncoder\"><code>GPUComputePassEncoder</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUComputePipeline\"><code>GPUComputePipeline</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUDevice\"><code>GPUDevice</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUDeviceLostInfo\"><code>GPUDeviceLostInfo</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUError\"><code>GPUError</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUExternalTexture\"><code>GPUExternalTexture</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUInternalError\"><code>GPUInternalError</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUOutOfMemoryError\"><code>GPUOutOfMemoryError</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUPipelineError\"><code>GPUPipelineError</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUPipelineLayout\"><code>GPUPipelineLayout</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUQuerySet\"><code>GPUQuerySet</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUQueue\"><code>GPUQueue</code></a></li><li><a href=\"/en-US/docs/Web/API/GPURenderBundle\"><code>GPURenderBundle</code></a></li><li><a href=\"/en-US/docs/Web/API/GPURenderBundleEncoder\"><code>GPURenderBundleEncoder</code></a></li><li><a href=\"/en-US/docs/Web/API/GPURenderPassEncoder\"><code>GPURenderPassEncoder</code></a></li><li><a href=\"/en-US/docs/Web/API/GPURenderPipeline\"><code>GPURenderPipeline</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUSampler\"><code>GPUSampler</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUShaderModule\"><code>GPUShaderModule</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUSupportedFeatures\"><code>GPUSupportedFeatures</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUSupportedLimits\"><code>GPUSupportedLimits</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUTexture\"><code>GPUTexture</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUTextureView\"><code>GPUTextureView</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUUncapturedErrorEvent\"><code>GPUUncapturedErrorEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/GPUValidationError\"><code>GPUValidationError</code></a></li><li><a href=\"/en-US/docs/Web/API/HTMLCanvasElement/getContext\"><code>HTMLCanvasElement.getContext()</code></a></li><li><a href=\"/en-US/docs/Web/API/Navigator/gpu\"><code>Navigator.gpu</code></a></li><li><a href=\"/en-US/docs/Web/API/WorkerNavigator/gpu\"><code>WorkerNavigator.gpu</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard experimental\" id=\"sect1\"><p><strong>Experimental:</strong> <strong>This is an <a href=\"/en-US/docs/MDN/Writing_guidelines/Experimental_deprecated_obsolete#experimental\">experimental technology</a></strong><br>Check the <a href=\"#browser_compatibility\">Browser compatibility table</a> carefully before using this in production.</p></div>\n<p>\n  The <strong><code>beginRenderPass()</code></strong> method of the\n  <a href=\"/en-US/docs/Web/API/GPUCommandEncoder\"><code>GPUCommandEncoder</code></a> interface starts encoding a render pass, returning a <a href=\"/en-US/docs/Web/API/GPURenderPassEncoder\"><code>GPURenderPassEncoder</code></a> that can be used to control rendering.\n</p>"}},{"type":"prose","value":{"id":"syntax","title":"Syntax","isH3":false,"content":"<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token function\">beginRenderPass</span><span class=\"token punctuation\">(</span>descriptor<span class=\"token punctuation\">)</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"parameters","title":"Parameters","isH3":true,"content":"<dl>\n  <dt id=\"descriptor\"><a href=\"#descriptor\"><code>descriptor</code></a></dt>\n  <dd>\n    <p>An object containing the following properties:</p>\n    <dl>\n      <dt id=\"colorattachments\"><a href=\"#colorattachments\"><code>colorAttachments</code></a></dt>\n      <dd>\n        <p>An array of objects (see <a href=\"#color_attachment_object_structure\">Color attachment object structure</a>) defining the color attachments that will be output to when executing this render pass.</p>\n      </dd>\n      <dt id=\"depthstencilattachment\"><a href=\"#depthstencilattachment\"><code>depthStencilAttachment</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>An object (see <a href=\"#depthstencil_attachment_object_structure\">Depth/stencil attachment object structure</a>) defining the depth/stencil attachment that will be output to and tested against when executing this render pass.</p>\n      </dd>\n      <dt id=\"label\"><a href=\"#label\"><code>label</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>A string providing a label that can be used to identify the object, for example in <a href=\"/en-US/docs/Web/API/GPUError\"><code>GPUError</code></a> messages or console warnings.</p>\n      </dd>\n      <dt id=\"maxdrawcount\"><a href=\"#maxdrawcount\"><code>maxDrawCount</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>A number indicating the maximum number of draw calls that will be done in the render pass. This is used by some implementations to size work injected before the render pass. You should keep the default value — 50000000 — unless you know that more draw calls will be done.</p>\n      </dd>\n      <dt id=\"occlusionqueryset\"><a href=\"#occlusionqueryset\"><code>occlusionQuerySet</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>The <a href=\"/en-US/docs/Web/API/GPUQuerySet\"><code>GPUQuerySet</code></a> that will store the occlusion query results for this pass.</p>\n      </dd>\n      <dt id=\"timestampwrites\"><a href=\"#timestampwrites\"><code>timestampWrites</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>An array of objects defining where and when timestamp query values will be written for this pass. These objects have the following properties:</p>\n        <ul>\n          <li><code>location</code>: An enumerated value specifying when the timestamp will be executed. Available values are:\n            <ul>\n              <li><code>\"beginning\"</code>: The timestamp is executed along with the other encoded commands in the compute pass once the corresponding <a href=\"/en-US/docs/Web/API/GPUCommandBuffer\"><code>GPUCommandBuffer</code></a> is submitted.</li>\n              <li><code>\"end\"</code>: The timestamp is executed as part of a separate list of timestamp attachments once the pass ends.</li>\n            </ul>\n          </li>\n          <li><code>queryIndex</code>: A number specifying the index position in the <code>querySet</code> that the timestamp will be written to.</li>\n          <li><code>querySet</code>: The <a href=\"/en-US/docs/Web/API/GPUQuerySet\"><code>GPUQuerySet</code></a> that the timestamp will be written to.</li>\n        </ul>\n        <div class=\"notecard note\" id=\"sect2\">\n          <p><strong>Note:</strong> To use timestamp queries, the <code>timestamp-query</code> <a href=\"/en-US/docs/Web/API/GPUSupportedFeatures\" title=\"feature\">feature</a> must be enabled in the <a href=\"/en-US/docs/Web/API/GPUDevice\"><code>GPUDevice</code></a>.</p>\n        </div>\n      </dd>\n    </dl>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"color_attachment_object_structure","title":"Color attachment object structure","isH3":true,"content":"<p>Color attachment objects can have the following properties:</p>\n<dl>\n  <dt id=\"clearvalue\"><a href=\"#clearvalue\"><code>clearValue</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A color value to clear the <code>view</code> texture to, prior to executing the render pass. This value is ignored if <code>loadOp</code> is not set to <code>\"clear\"</code>. <code>clearValue</code> takes an array or object representing the four color components <code>r</code>, <code>g</code>, <code>b</code>, and <code>a</code> as decimals.</p>\n    <p>What follows is a sample array:</p>\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token literal-property property\">clearValue</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span><span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n    <p>The object equivalent would look like this:</p>\n    <div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token literal-property property\">clearValue</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">r</span><span class=\"token operator\">:</span> <span class=\"token number\">0.0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">g</span><span class=\"token operator\">:</span> <span class=\"token number\">0.5</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">b</span><span class=\"token operator\">:</span> <span class=\"token number\">1.0</span><span class=\"token punctuation\">,</span>\n  <span class=\"token literal-property property\">a</span><span class=\"token operator\">:</span> <span class=\"token number\">1.0</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n    <p>If <code>clearValue</code> is omitted, it defaults to <code>{r: 0, g: 0, b: 0, a: 0}</code>.</p>\n  </dd>\n  <dt id=\"loadop\"><a href=\"#loadop\"><code>loadOp</code></a></dt>\n  <dd>\n    <p>An enumerated value indicating the load operation to perform on <code>view</code> prior to executing the render pass. Possible values are:</p>\n    <ul>\n      <li><code>\"clear\"</code>: Loads the <code>clearValue</code> for this attachment into the render pass.</li>\n      <li><code>\"load\"</code>: Loads the existing value for this attachment into the render pass.</li>\n    </ul>\n    <div class=\"notecard note\" id=\"sect3\">\n      <p><strong>Note:</strong> It is recommended to always use <code>\"clear\"</code> in cases where the initial value doesn't matter, as it will give better performance on some devices such as mobiles.</p>\n    </div>\n  </dd>\n  <dt id=\"storeop\"><a href=\"#storeop\"><code>storeOp</code></a></dt>\n  <dd>\n    <p>An enumerated value indicating the store operation to perform on <code>view</code> after executing the render pass. Possible values are:</p>\n    <ul>\n      <li><code>\"discard\"</code>: Discards the resulting value of the render pass for this attachment.</li>\n      <li><code>\"store\"</code>: Stores the resulting value of the render pass for this attachment.</li>\n    </ul>\n  </dd>\n  <dt id=\"resolvetarget\"><a href=\"#resolvetarget\"><code>resolveTarget</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A <a href=\"/en-US/docs/Web/API/GPUTextureView\"><code>GPUTextureView</code></a> object representing the texture subresource that will receive the resolved output for this color attachment if <code>view</code> is multisampled.</p>\n  </dd>\n  <dt id=\"view\"><a href=\"#view\"><code>view</code></a></dt>\n  <dd>\n    <p>A <a href=\"/en-US/docs/Web/API/GPUTextureView\"><code>GPUTextureView</code></a> object representing the texture subresource that will be output to for this color attachment.</p>\n    <div class=\"notecard note\" id=\"sect4\">\n      <p><strong>Note:</strong> Each color or depth/stencil attachment must be a unique texture subresource, and texture subresources used as attachments cannot be used inside the render pass.</p>\n    </div>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"depthstencil_attachment_object_structure","title":"Depth/stencil attachment object structure","isH3":true,"content":"<p>The <code>depthStencilAttachment</code> object can have the following properties:</p>\n<dl>\n  <dt id=\"depthclearvalue\"><a href=\"#depthclearvalue\"><code>depthClearValue</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A number indicating the value to clear <code>view</code>'s depth component prior to executing the render pass. This is ignored if <code>depthLoadOp</code> is not set to <code>\"clear\"</code>.</p>\n    <p>The value must be between 0.0 and 1.0, inclusive.</p>\n  </dd>\n  <dt id=\"depthloadop\"><a href=\"#depthloadop\"><code>depthLoadOp</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An enumerated value indicating the load operation to perform on <code>view</code>'s depth component prior to executing the render pass. Possible values are:</p>\n    <ul>\n      <li><code>\"clear\"</code>: Loads the <code>clearValue</code> for this attachment into the render pass.</li>\n      <li><code>\"load\"</code>: Loads the existing value for this attachment into the render pass.</li>\n    </ul>\n    <div class=\"notecard note\" id=\"sect5\">\n      <p><strong>Note:</strong> It is recommended to always use <code>\"clear\"</code> in cases where the initial value doesn't matter, as it will give better performance on some devices such as mobiles.</p>\n    </div>\n  </dd>\n  <dt id=\"depthreadonly\"><a href=\"#depthreadonly\"><code>depthReadOnly</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A boolean. Setting the value to <code>true</code> causes the depth component of <code>view</code> to be read-only. If <code>depthReadOnly</code> is omitted, it defaults to <code>false</code>.</p>\n  </dd>\n  <dt id=\"depthstoreop\"><a href=\"#depthstoreop\"><code>depthStoreOp</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An enumerated value indicating the store operation to perform on <code>view</code>'s depth component after executing the render pass. Possible values are:</p>\n    <ul>\n      <li><code>\"discard\"</code>: Discards the resulting value of the render pass for this attachment.</li>\n      <li><code>\"store\"</code>: Stores the resulting value of the render pass for this attachment.</li>\n    </ul>\n  </dd>\n  <dt id=\"stencilclearvalue\"><a href=\"#stencilclearvalue\"><code>stencilClearValue</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A number indicating the value to clear <code>view</code>'s stencil component to prior to executing the render pass. This is ignored if <code>stencilLoadOp</code> is not set to <code>\"clear\"</code>.</p>\n    <p>If <code>stencilClearValue</code> is omitted, it defaults to 0.</p>\n  </dd>\n  <dt id=\"stencilloadop\"><a href=\"#stencilloadop\"><code>stencilLoadOp</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An enumerated value indicating the load operation to perform on <code>view</code>'s stencil component prior to executing the render pass. Possible values are:</p>\n    <ul>\n      <li><code>\"clear\"</code>: Loads the <code>clearValue</code> for this attachment into the render pass.</li>\n      <li><code>\"load\"</code>: Loads the existing value for this attachment into the render pass.</li>\n    </ul>\n    <div class=\"notecard note\" id=\"sect6\">\n      <p><strong>Note:</strong> It is recommended to always use <code>\"clear\"</code> in cases where the initial value doesn't matter, as it will give better performance on some devices such as mobiles.</p>\n    </div>\n  </dd>\n  <dt id=\"stencilreadonly\"><a href=\"#stencilreadonly\"><code>stencilReadOnly</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A boolean. Setting the value to <code>true</code> causes the stencil component of <code>view</code> to be read-only. If <code>stencilReadOnly</code> is omitted, it defaults to <code>false</code>.</p>\n  </dd>\n  <dt id=\"stencilstoreop\"><a href=\"#stencilstoreop\"><code>stencilStoreOp</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An enumerated value indicating the store operation to perform on <code>view</code>'s stencil component after executing the render pass. Possible values are:</p>\n    <ul>\n      <li><code>\"discard\"</code>: Discards the resulting value of the render pass for this attachment.</li>\n      <li><code>\"store\"</code>: Stores the resulting value of the render pass for this attachment.</li>\n    </ul>\n  </dd>\n  <dt id=\"view_2\"><a href=\"#view_2\"><code>view</code></a></dt>\n  <dd>\n    <p>A <a href=\"/en-US/docs/Web/API/GPUTextureView\"><code>GPUTextureView</code></a> object representing the texture subresource that will be output to and read from for this depth/stencil attachment.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"return_value","title":"Return value","isH3":true,"content":"<p>A <a href=\"/en-US/docs/Web/API/GPURenderPassEncoder\"><code>GPURenderPassEncoder</code></a> object instance.</p>"}},{"type":"prose","value":{"id":"validation","title":"Validation","isH3":true,"content":"<p>The following criteria must be met when calling <strong><code>beginRenderPass()</code></strong>, otherwise a <a href=\"/en-US/docs/Web/API/GPUValidationError\"><code>GPUValidationError</code></a> is generated and an invalid <a href=\"/en-US/docs/Web/API/GPURenderPassEncoder\"><code>GPURenderPassEncoder</code></a> is returned.</p>\n<p>General:</p>\n<ul>\n  <li><code>colorAttachments.length</code> is less than or equal to the <a href=\"/en-US/docs/Web/API/GPUDevice\"><code>GPUDevice</code></a>'s <code>maxColorAttachments</code> <a href=\"/en-US/docs/Web/API/GPUSupportedLimits\" title=\"limit\">limit</a>.</li>\n  <li>If <code>colorAttachments</code> contains only <code>null</code> values, <code>depthStencilAttachment</code> is provided.</li>\n  <li>All <code>view</code>s in <code>colorAttachments</code> and <code>depthStencilAttachment</code> have equal <a href=\"/en-US/docs/Web/API/GPUTexture/sampleCount\"><code>GPUTexture.sampleCount</code></a> values and render extents (<a href=\"/en-US/docs/Web/API/GPUTexture/height\"><code>GPUTexture.height</code></a>, <a href=\"/en-US/docs/Web/API/GPUTexture/width\"><code>GPUTexture.width</code></a>, and <a href=\"/en-US/docs/Web/API/GPUTexture/depthOrArrayLayers\"><code>GPUTexture.depthOrArrayLayers</code></a>).</li>\n  <li>If <code>occlusionQuerySet</code> is set, the referenced <a href=\"/en-US/docs/Web/API/GPUQuerySet\"><code>GPUQuerySet</code></a> has a <code>type</code> of <code>\"occlusion\"</code>.</li>\n</ul>\n<p>For color attachment objects</p>\n<ul>\n  <li>The <code>view</code> is renderable, and the <code>view</code>'s format (i.e. specified in the descriptor of the originating <a href=\"/en-US/docs/Web/API/GPUTexture/createView\"><code>GPUTexture.createView()</code></a> call) is a color renderable format.</li>\n  <li>If <code>resolveTarget</code> is provided:\n    <ul>\n      <li>The <code>view</code>'s originating <a href=\"/en-US/docs/Web/API/GPUTexture\"><code>GPUTexture</code></a>'s <a href=\"/en-US/docs/Web/API/GPUTexture/sampleCount\" title=\"sampleCount\"><code>sampleCount</code></a> is greater than 1.</li>\n      <li>The <code>resolveTarget</code>'s originating <a href=\"/en-US/docs/Web/API/GPUTexture\"><code>GPUTexture</code></a>'s <a href=\"/en-US/docs/Web/API/GPUTexture/sampleCount\" title=\"sampleCount\"><code>sampleCount</code></a> is 1.</li>\n      <li><code>resolveTarget</code> is renderable.</li>\n      <li>The sizes of the subresources that <code>view</code> and <code>resolveTarget</code> provide a view of match.</li>\n      <li><code>view</code>'s and <code>resolveTarget</code>'s formats match.</li>\n    </ul>\n  </li>\n  <li><a href=\"https://gpuweb.github.io/gpuweb/#abstract-opdef-validating-gpurenderpassdescriptors-color-attachment-bytes-per-sample\" class=\"external\" target=\"_blank\">Color attachments bytes per sample</a> is less than or equal to the <a href=\"/en-US/docs/Web/API/GPUDevice\"><code>GPUDevice</code></a>'s <code>maxColorAttachmentBytesPerSample</code> <a href=\"/en-US/docs/Web/API/GPUSupportedLimits\" title=\"limit\">limit</a>.</li>\n</ul>\n<p>For depth/stencil attachment objects:</p>\n<ul>\n  <li>The <code>view</code> is renderable, and its format is a <a href=\"https://gpuweb.github.io/gpuweb/#depth-or-stencil-format\" class=\"external\" target=\"_blank\">depth-or-stencil</a> format.</li>\n  <li>If <code>depthLoadOp</code> is set to <code>\"clear\"</code>, a valid <code>depthClearValue</code> is provided.</li>\n  <li>If <code>view</code>'s format is a combined depth-or-stencil format, <code>depthReadOnly</code> matches <code>stencilReadOnly</code>.</li>\n  <li>If <code>view</code>'s format has a depth aspect, and <code>depthReadOnly</code> is <code>false</code>, <code>depthLoadOp</code> and <code>depthStoreOp</code> are provided.</li>\n  <li>If <code>view</code>'s format has a depth aspect, and <code>depthReadOnly</code> is <code>true</code>, <code>depthLoadOp</code> and <code>depthStoreOp</code> are not provided.</li>\n  <li>If <code>view</code>'s format has a stencil aspect, and <code>stencilReadOnly</code> is <code>false</code>, <code>stencilLoadOp</code> and <code>stencilStoreOp</code> are provided.</li>\n  <li>If <code>view</code>'s format has a stencil aspect, and <code>stencilReadOnly</code> is <code>true</code>, <code>stencilLoadOp</code> and <code>stencilStoreOp</code> are not provided.</li>\n</ul>\n<p>For timestamp queries:</p>\n<ul>\n  <li>The <code>timestamp-query</code> <a href=\"/en-US/docs/Web/API/GPUSupportedFeatures\" title=\"feature\">feature</a> is enabled in the <a href=\"/en-US/docs/Web/API/GPUDevice\"><code>GPUDevice</code></a>.</li>\n  <li>No two <code>timestampWrites</code> objects have the same <code>location</code>. In effect, this means that you can only run two timestamp queries per render pass.</li>\n  <li>For each timestamp query, the <code>querySet</code> <a href=\"/en-US/docs/Web/API/GPUQuerySet/type\"><code>GPUQuerySet.type</code></a> is <code>\"timestamp\"</code>, and the <code>queryIndex</code> value is less than the <a href=\"/en-US/docs/Web/API/GPUQuerySet/count\"><code>GPUQuerySet.count</code></a>.</li>\n  <li>No two <code>timestampWrites</code> objects have the same <code>queryIndex</code> and <code>querySet</code> pair.</li>\n</ul>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":"<p>In our <a href=\"https://mdn.github.io/dom-examples/webgpu-render-demo/\" class=\"external\" target=\"_blank\">basic render demo</a>, a number of commands are recorded via a <a href=\"/en-US/docs/Web/API/GPUCommandEncoder\"><code>GPUCommandEncoder</code></a>. These commands originate from the <a href=\"/en-US/docs/Web/API/GPURenderPassEncoder\"><code>GPURenderPassEncoder</code></a> created via <code>beginRenderPass()</code> :</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token comment\">// ...</span>\n\n<span class=\"token comment\">// Create GPUCommandEncoder</span>\n<span class=\"token keyword\">const</span> commandEncoder <span class=\"token operator\">=</span> device<span class=\"token punctuation\">.</span><span class=\"token function\">createCommandEncoder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Create GPURenderPassDescriptor to tell WebGPU which texture to draw into, then initiate render pass</span>\n\n<span class=\"token keyword\">const</span> renderPassDescriptor <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token literal-property property\">colorAttachments</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token literal-property property\">clearValue</span><span class=\"token operator\">:</span> clearColor<span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">loadOp</span><span class=\"token operator\">:</span> <span class=\"token string\">\"clear\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">storeOp</span><span class=\"token operator\">:</span> <span class=\"token string\">\"store\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token literal-property property\">view</span><span class=\"token operator\">:</span> context<span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentTexture</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">createView</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> passEncoder <span class=\"token operator\">=</span> commandEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">beginRenderPass</span><span class=\"token punctuation\">(</span>renderPassDescriptor<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// Draw a triangle</span>\n\npassEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">setPipeline</span><span class=\"token punctuation\">(</span>renderPipeline<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npassEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">setVertexBuffer</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> vertexBuffer<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\npassEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">draw</span><span class=\"token punctuation\">(</span><span class=\"token number\">3</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// End the render pass</span>\n\npassEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">end</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\ndevice<span class=\"token punctuation\">.</span>queue<span class=\"token punctuation\">.</span><span class=\"token function\">submit</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>commandEncoder<span class=\"token punctuation\">.</span><span class=\"token function\">finish</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">// ...</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://gpuweb.github.io/gpuweb/#dom-gpucommandencoder-beginrenderpass","title":"WebGPU"}],"query":"api.GPUCommandEncoder.beginRenderPass"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.GPUCommandEncoder.beginRenderPass"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li>The <a href=\"/en-US/docs/Web/API/WebGPU_API\">WebGPU API</a></li>\n</ul>"}}],"toc":[{"text":"Syntax","id":"syntax"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The beginRenderPass() method of the\n  GPUCommandEncoder interface starts encoding a render pass, returning a GPURenderPassEncoder that can be used to control rendering.","popularity":0.0009,"modified":"2023-04-07T06:03:34.000Z","source":{"folder":"en-us/web/api/gpucommandencoder/beginrenderpass","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/gpucommandencoder/beginrenderpass/index.md","last_commit_url":"https://github.com/mdn/content/commit/b6984118ac9482e683a654edfefa4b426ca3c7ca","filename":"index.md"},"short_title":"beginRenderPass()","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/GPUCommandEncoder","title":"GPUCommandEncoder"},{"uri":"/en-US/docs/Web/API/GPUCommandEncoder/beginRenderPass","title":"beginRenderPass()"}],"pageTitle":"GPUCommandEncoder: beginRenderPass() method - Web APIs | MDN","noIndexing":false}}