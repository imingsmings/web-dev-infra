{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{"broken_links":[{"explanation":"Can't resolve /en-US/docs/Web/API/Performance_API/Element_timing","id":"link1","href":"/en-US/docs/Web/API/Performance_API/Element_timing","suggestion":null,"fixable":false,"line":19,"column":7}]},"title":"Performance data","mdn_url":"/en-US/docs/Web/API/Performance_API/Performance_data","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Performance_API\">Performance API</a></strong></li><li class=\"toggle\"><details open=\"\"><summary>Guides</summary><ol><li><em><a href=\"/en-US/docs/Web/API/Performance_API/Performance_data\" aria-current=\"page\">Performance data</a></em></li><li><a href=\"/en-US/docs/Web/API/Performance_API/High_precision_timing\">High precision timing</a></li><li><a href=\"/en-US/docs/Web/API/Performance_API/Resource_timing\">Resource timing</a></li><li><a href=\"/en-US/docs/Web/API/Performance_API/Navigation_timing\">Navigation timing</a></li><li><a href=\"/en-US/docs/Web/API/Performance_API/User_timing\">User timing</a></li><li><a href=\"/en-US/docs/Web/API/Performance_API/Server_timing\">Server timing</a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Interfaces</summary><ol><li><a href=\"/en-US/docs/Web/API/EventCounts\"><code>EventCounts</code></a></li><li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint\"><code>LargestContentfulPaint</code></a></li><li><a href=\"/en-US/docs/Web/API/LayoutShift\"><code>LayoutShift</code></a></li><li><a href=\"/en-US/docs/Web/API/LayoutShiftAttribution\"><code>LayoutShiftAttribution</code></a></li><li><a href=\"/en-US/docs/Web/API/Performance\"><code>Performance</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceElementTiming\"><code>PerformanceElementTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceEventTiming\"><code>PerformanceEventTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceLongTaskTiming\"><code>PerformanceLongTaskTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceMark\"><code>PerformanceMark</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceMeasure\"><code>PerformanceMeasure</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceNavigation\"><code>PerformanceNavigation</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceNavigationTiming\"><code>PerformanceNavigationTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceObserverEntryList\"><code>PerformanceObserverEntryList</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformancePaintTiming\"><code>PerformancePaintTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceResourceTiming\"><code>PerformanceResourceTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceServerTiming\"><code>PerformanceServerTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/PerformanceTiming\"><code>PerformanceTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/TaskAttributionTiming\"><code>TaskAttributionTiming</code></a></li><li><a href=\"/en-US/docs/Web/API/VisibilityStateEntry\"><code>VisibilityStateEntry</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Properties</summary><ol><li><a href=\"/en-US/docs/Web/API/performance_property\"><code>performance_property</code></a></li></ol></details></li></ol>","sidebarMacro":"DefaultAPISidebar","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The Performance API measures and exposes performance data that can be collected as performance metrics for your web application. It provides methods to observe aspects of application performance. It doesn't provide performance data analysis, or visualizations. However, the Performance API is integrated well with developer tools in browsers and its data is often sent to analytics end points and libraries to record performance metrics which help you to evaluate the data to find performance bottlenecks affecting your users.</p>\n<p>This page provides an overview about what sorts of Performance API data exists, how it is collected, and how it can be accessed.</p>"}},{"type":"prose","value":{"id":"collecting_data","title":"Collecting data","isH3":false,"content":"<p>Most of the metrics exposed by the Performance API are automatically collected by the browser, and you don't have to tell it to collect them: you just have to retrieve them.</p>\n<p>For some metrics you do have to tell the browser what to measure:</p>\n<ul>\n  <li>the <a href=\"/en-US/docs/Web/API/Performance_API/Element_timing\" class=\"page-not-created\" title=\"This is a link to an unwritten page\" data-flaw=\"link1\">Element Timing</a> metric measures the time it takes to load and render certain DOM elements. This metric is opt-in: to ask the browser to include metrics for a particular element you must add the <code>elementtiming</code> attribute to it.</li>\n  <li>the <a href=\"/en-US/docs/Web/API/Performance_API/User_timing\">User Timing</a> metric enables you to measure the time between arbitrary points in your program, that might map to application-defined operations (such as logging in a user). To collect these metrics you need to add Performance API calls at the relevant points.</li>\n  <li>the <a href=\"/en-US/docs/Web/API/Performance_API/Server_timing\">Server Timing</a> metric enables you to measure the time taken for application-defined server-side operations. To collect these metrics your server must send the <code>Server-Timing</code> HTTP header.</li>\n</ul>"}},{"type":"prose","value":{"id":"performance_data_structure","title":"Performance data structure","isH3":false,"content":"<p>The Performance API collects performance data for each global object (<code>window.performance</code> or <code>self.performance</code> in workers). See <a href=\"/en-US/docs/Web/API/performance_property\"><code>self.performance</code></a> for which APIs are available in window and worker contexts. If you are collecting performance metrics for multiple contexts, also take a look at <a href=\"/en-US/docs/Web/API/Performance/timeOrigin\"><code>performance.timeOrigin</code></a> to synchronize time origins between contexts.</p>\n<p>Within these contexts, individual performance data is represented by performance entries.</p>"}},{"type":"prose","value":{"id":"performance_entries","title":"Performance entries","isH3":true,"content":"<p>A single recorded performance data point is called a <em>performance entry</em> and is represented by an instance of the <a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a> interface.</p>\n<p>The Performance API records various different types of performance data, and the <code>PerformanceEntry</code> has an <a href=\"/en-US/docs/Web/API/PerformanceEntry/entryType\" title=\"entryType\"><code>entryType</code></a> property which is a string describing the type of this performance entry:</p>\n<ul>\n  <li><code>\"element\"</code> records how long it takes an element to load and render.</li>\n  <li><code>\"event\"</code> records how long it took the browser to start running an event handler in response to its trigger, and how long the event handler took to run.</li>\n  <li><code>\"first-input\"</code> records the <a href=\"/en-US/docs/Glossary/First_input_delay\">First input delay</a>.</li>\n  <li><code>\"largest-contentful-paint\"</code> records the largest paint during page load.</li>\n  <li><code>\"layout-shift\"</code> records a metric representing how much the page layout has shifted in each animation frame.</li>\n  <li><code>\"longtask\"</code> records tasks that took 50ms or more.</li>\n  <li><code>\"mark\"</code> records a custom timestamp made by the developer.</li>\n  <li><code>\"measure\"</code> records a custom measurement between two timestamps made by the developer.</li>\n  <li><code>\"navigation\"</code> records metrics associated with navigating to and initial load of the page.</li>\n  <li><code>\"paint\"</code> records key moments of rendering during page load.</li>\n  <li><code>\"resource\"</code> records how long it took the browser to fetch a resource.</li>\n  <li><code>\"visibility-state\"</code> records the timing of page visibility state changes, i.e., when a tab changes from the foreground to the background or vice versa.</li>\n</ul>"}},{"type":"prose","value":{"id":"performance_entry_subclasses","title":"Performance entry subclasses","isH3":true,"content":"<p>Particular entry types typically include extra type-specific data: for example, the <code>\"resource\"</code> type captures the time at which DNS lookup started and ended. So entries are represented by subclasses that extend the basic <code>PerformanceEntry</code> interface. For example, a <code>\"resource\"</code> entry is represented by an instance of <a href=\"/en-US/docs/Web/API/PerformanceResourceTiming\"><code>PerformanceResourceTiming</code></a>, which inherits from <code>PerformanceEntry</code>, and which adds properties to record DNS lookup timestamps.</p>\n<p>The subclasses of <code>PerformanceEntry</code> also define the semantics of the properties belonging to <code>PerformanceEntry</code> itself: for example, <code>PerformanceEntry</code> has a <a href=\"/en-US/docs/Web/API/PerformanceEntry/name\" title=\"name\"><code>name</code></a> property whose meaning depends on the subclass.</p>\n<p>The following interfaces inherit from <code>PerformanceEntry</code>:</p>\n<ul>\n  <li><a href=\"/en-US/docs/Web/API/LargestContentfulPaint\"><code>LargestContentfulPaint</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/LayoutShift\"><code>LayoutShift</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceElementTiming\"><code>PerformanceElementTiming</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceEventTiming\"><code>PerformanceEventTiming</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceLongTaskTiming\"><code>PerformanceLongTaskTiming</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceMark\"><code>PerformanceMark</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceMeasure\"><code>PerformanceMeasure</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformancePaintTiming\"><code>PerformancePaintTiming</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceResourceTiming\"><code>PerformanceResourceTiming</code></a>\n    <ul>\n      <li><a href=\"/en-US/docs/Web/API/PerformanceNavigationTiming\"><code>PerformanceNavigationTiming</code></a> inherits from <code>PerformanceResourceTiming</code></li>\n    </ul>\n  </li>\n  <li><a href=\"/en-US/docs/Web/API/TaskAttributionTiming\"><code>TaskAttributionTiming</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/VisibilityStateEntry\"><code>VisibilityStateEntry</code></a></li>\n</ul>"}},{"type":"prose","value":{"id":"accessing_data","title":"Accessing data","isH3":false,"content":"<p>You can access performance entries in one of two ways. The preferred way is to use the <a href=\"/en-US/docs/Web/API/PerformanceObserver\"><code>PerformanceObserver</code></a> interface, which is constructed with a callback function to be called when particular performance entries are recorded. You then call its <a href=\"/en-US/docs/Web/API/PerformanceObserver/observe\" title=\"observe\"><code>observe</code></a> method, passing in the types to observe and using the <code>buffered</code> option to retrieve entries that occurred before observation.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">logEventDuration</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entries</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> events <span class=\"token operator\">=</span> entries<span class=\"token punctuation\">.</span><span class=\"token function\">getEntriesByType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"event\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> event <span class=\"token keyword\">of</span> events<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Event handler took: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n        event<span class=\"token punctuation\">.</span>processingEnd <span class=\"token operator\">-</span> event<span class=\"token punctuation\">.</span>processingStart\n      <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> milliseconds</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span>logEventDuration<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nobserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"event\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">buffered</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Alternatively, you can use the <a href=\"/en-US/docs/Web/API/Performance/getEntries\"><code>Performance.getEntries()</code></a>, <a href=\"/en-US/docs/Web/API/Performance/getEntriesByName\"><code>Performance.getEntriesByName()</code></a>, and <a href=\"/en-US/docs/Web/API/Performance/getEntriesByType\"><code>Performance.getEntriesByType()</code></a> methods to retrieve all performance entries for a page, or entries matching the given name or type.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> events <span class=\"token operator\">=</span> performance<span class=\"token punctuation\">.</span><span class=\"token function\">getEntriesByType</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"event\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> event <span class=\"token keyword\">of</span> events<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>\n    <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">Event handler took: </span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>\n      event<span class=\"token punctuation\">.</span>processingEnd <span class=\"token operator\">-</span> event<span class=\"token punctuation\">.</span>processingStart\n    <span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> milliseconds</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>The <code>PerformanceObserver</code> option is preferred because:</p>\n<ul>\n  <li>The <code>getEntries*</code> methods will always return all relevant entries since the start of the timeline, so if you call it twice, you will see the same entries again and will need to filter out entries that you've seen before.</li>\n  <li>Observer notifications are delivered asynchronously, so the browser can dispatch them during idle time to minimize their performance impact.</li>\n  <li>Not all entry types work with the <code>getEntries*</code> methods. For some you have to use performance observers to access them.</li>\n</ul>"}},{"type":"prose","value":{"id":"managing_buffer_sizes","title":"Managing buffer sizes","isH3":false,"content":"<p>There is a buffer limit for performance entries for each global object. It ensures that the browser doesn't consume indefinite memory when holding performance data. Especially when your website or application fetches a lot of resources (e.g. when using polling), you might need to look into the limits for the buffers:</p>\n<figure class=\"table-container\"><table>\n  <thead>\n    <tr>\n      <th><a href=\"/en-US/docs/Web/API/PerformanceEntry/entryType\" title=\"entryType\"><code>entryType</code></a> identifier</th>\n      <th>Interface</th>\n      <th>Maximum number of buffer entries</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td><code>\"mark\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceMark\"><code>PerformanceMark</code></a></td>\n      <td>Infinite</td>\n    </tr>\n    <tr>\n      <td><code>\"measure\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceMeasure\"><code>PerformanceMeasure</code></a></td>\n      <td>Infinite</td>\n    </tr>\n    <tr>\n      <td><code>\"navigation\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceNavigationTiming\"><code>PerformanceNavigationTiming</code></a></td>\n      <td>Infinite</td>\n    </tr>\n    <tr>\n      <td><code>\"resource\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceResourceTiming\"><code>PerformanceResourceTiming</code></a></td>\n      <td>250 (adjustable, see below)</td>\n    </tr>\n    <tr>\n      <td><code>\"longtask\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceLongTaskTiming\"><code>PerformanceLongTaskTiming</code></a></td>\n      <td>200</td>\n    </tr>\n    <tr>\n      <td><code>\"paint\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformancePaintTiming\"><code>PerformancePaintTiming</code></a></td>\n      <td>2 (there won't be more)</td>\n    </tr>\n    <tr>\n      <td><code>\"element\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceElementTiming\"><code>PerformanceElementTiming</code></a></td>\n      <td>150</td>\n    </tr>\n    <tr>\n      <td><code>\"event\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceEventTiming\"><code>PerformanceEventTiming</code></a></td>\n      <td>150</td>\n    </tr>\n    <tr>\n      <td><code>\"first-input\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/PerformanceEventTiming\"><code>PerformanceEventTiming</code></a></td>\n      <td>1 (there won't be more)</td>\n    </tr>\n    <tr>\n      <td><code>\"layout-shift\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/LayoutShift\"><code>LayoutShift</code></a></td>\n      <td>150</td>\n    </tr>\n    <tr>\n      <td><code>\"largest-contentful-paint\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/LargestContentfulPaint\"><code>LargestContentfulPaint</code></a></td>\n      <td>150</td>\n    </tr>\n    <tr>\n      <td><code>\"visibility-state\"</code></td>\n      <td><a href=\"/en-US/docs/Web/API/VisibilityStateEntry\"><code>VisibilityStateEntry</code></a></td>\n      <td>50</td>\n    </tr>\n  </tbody>\n</table></figure>\n<p>Table 1. Buffer sizes (<a href=\"https://w3c.github.io/timing-entrytypes-registry/#registry\" class=\"external\" target=\"_blank\">source</a>).</p>\n<p>For <code>\"resource\"</code> entry types, see <a href=\"/en-US/docs/Web/API/Performance_API/Resource_timing#managing_resource_buffer_sizes\">Managing resource buffer sizes</a> for how to set a different buffer size.</p>\n<p>For <code>\"first-input\"</code> and <code>\"paint\"</code>, the limitation is inherent in the metric's definition. There won't be more entries than one (or two).</p>\n<p>The <a href=\"/en-US/docs/Web/API/PerformanceObserver/PerformanceObserver\">performance observer callback</a> contains an optional <code>droppedEntriesCount</code> parameter that tells you how many entries were lost because the buffer storage was full.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">function</span> <span class=\"token function\">perfObserver</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list<span class=\"token punctuation\">,</span> observer<span class=\"token punctuation\">,</span> droppedEntriesCount</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  list<span class=\"token punctuation\">.</span><span class=\"token function\">getEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entry</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// do something with the entries</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>droppedEntriesCount <span class=\"token operator\">&gt;</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">warn</span><span class=\"token punctuation\">(</span>\n      <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>droppedEntriesCount<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\"> entries were dropped because the buffer was full.</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span>perfObserver<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nobserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"resource\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">buffered</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>Another useful method is <a href=\"/en-US/docs/Web/API/PerformanceObserver/takeRecords\"><code>PerformanceObserver.takeRecords()</code></a> which returns the current list of performance entries stored in the performance observer while also emptying it out.</p>"}},{"type":"prose","value":{"id":"json_data","title":"JSON data","isH3":false,"content":"<p>All performance entries provide a <code>toJSON()</code> <a href=\"/en-US/docs/Glossary/Serialization\">serializer</a> which returns a <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON\"><code>JSON</code></a> representation of the entry. This can be useful if you want to collect all of the available data and store it somewhere.</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> observer <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">PerformanceObserver</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">list</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n  list<span class=\"token punctuation\">.</span><span class=\"token function\">getEntries</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">entry</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=&gt;</span> <span class=\"token punctuation\">{</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>entry<span class=\"token punctuation\">.</span><span class=\"token function\">toJSON</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\nobserver<span class=\"token punctuation\">.</span><span class=\"token function\">observe</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> <span class=\"token literal-property property\">type</span><span class=\"token operator\">:</span> <span class=\"token string\">\"event\"</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">buffered</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>\n<p>This would log a JSON object like so:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">json</span></p><pre class=\"brush: json notranslate\"><code><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"dragover\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"entryType\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"event\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"startTime\"</span><span class=\"token operator\">:</span> <span class=\"token number\">67090751.599999905</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"duration\"</span><span class=\"token operator\">:</span> <span class=\"token number\">128</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"processingStart\"</span><span class=\"token operator\">:</span> <span class=\"token number\">67090751.70000005</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"processingEnd\"</span><span class=\"token operator\">:</span> <span class=\"token number\">67090751.900000095</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"cancelable\"</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>To get a string representation of the entry, you can use <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\"><code>JSON.stringify(entry)</code></a> with any <code>PerformanceEntry</code> object directly; it will call the entry's <code>toJSON()</code> method automatically.</p>"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceEntry\"><code>PerformanceEntry</code></a></li>\n  <li><a href=\"/en-US/docs/Web/API/PerformanceObserver/observe\"><code>PerformanceObserver.observe()</code></a></li>\n</ul>"}}],"toc":[{"text":"Collecting data","id":"collecting_data"},{"text":"Performance data structure","id":"performance_data_structure"},{"text":"Accessing data","id":"accessing_data"},{"text":"Managing buffer sizes","id":"managing_buffer_sizes"},{"text":"JSON data","id":"json_data"},{"text":"See also","id":"see_also"}],"summary":"The Performance API measures and exposes performance data that can be collected as performance metrics for your web application. It provides methods to observe aspects of application performance. It doesn't provide performance data analysis, or visualizations. However, the Performance API is integrated well with developer tools in browsers and its data is often sent to analytics end points and libraries to record performance metrics which help you to evaluate the data to find performance bottlenecks affecting your users.","popularity":0.0026,"modified":"2023-07-07T07:19:19.000Z","source":{"folder":"en-us/web/api/performance_api/performance_data","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/performance_api/performance_data/index.md","last_commit_url":"https://github.com/mdn/content/commit/acfe8c9f1f4145f77653a2bc64a9744b001358dc","filename":"index.md"},"short_title":"Performance data","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/Performance_API","title":"Performance API"},{"uri":"/en-US/docs/Web/API/Performance_API/Performance_data","title":"Performance data"}],"pageTitle":"Performance data - Web APIs | MDN","noIndexing":false}}