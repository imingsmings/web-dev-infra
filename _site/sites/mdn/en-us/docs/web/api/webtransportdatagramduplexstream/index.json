{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"WebTransportDatagramDuplexStream","mdn_url":"/en-US/docs/Web/API/WebTransportDatagramDuplexStream","locale":"en-US","native":"English (US)","browserCompat":["api.WebTransportDatagramDuplexStream"],"baseline":{"baseline":false,"support":{}},"sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/WebTransport_API\">WebTransport API</a></strong></li><li><strong><em><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream\" aria-current=\"page\"><code>WebTransportDatagramDuplexStream</code></a></em></strong></li><li class=\"toggle\"><details open=\"\"><summary>Instance properties</summary><ol><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/incomingHighWaterMark\"><code>incomingHighWaterMark</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/incomingMaxAge\"><code>incomingMaxAge</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/maxDatagramSize\"><code>maxDatagramSize</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/outgoingHighWaterMark\"><code>outgoingHighWaterMark</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/outgoingMaxAge\"><code>outgoingMaxAge</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/readable\"><code>readable</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/writable\"><code>writable</code></a></li></ol></details></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for WebTransport API</summary><ol><li><a href=\"/en-US/docs/Web/API/WebTransport\"><code>WebTransport</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportBidirectionalStream\"><code>WebTransportBidirectionalStream</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportError\"><code>WebTransportError</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportReceiveStream\"><code>WebTransportReceiveStream</code></a></li><li><a href=\"/en-US/docs/Web/API/WebTransportSendStream\"><code>WebTransportSendStream</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<div class=\"notecard secure\" id=\"sect1\"><p><strong>Secure context:</strong> This feature is available only in <a href=\"/en-US/docs/Web/Security/Secure_Contexts\">secure contexts</a> (HTTPS), in some or all <a href=\"#browser_compatibility\">supporting browsers</a>.</p></div>\n<p>The <strong><code>WebTransportDatagramDuplexStream</code></strong> interface of the <a href=\"/en-US/docs/Web/API/WebTransport_API\" title=\"WebTransport API\">WebTransport API</a> represents a duplex stream that can be used for unreliable transport of datagrams between client and server. Provides access to a <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a> for reading incoming datagrams, a <a href=\"/en-US/docs/Web/API/WritableStream\"><code>WritableStream</code></a> for writing outgoing datagrams, and various settings and statistics related to the stream.</p>\n<p>This is accessed via the <a href=\"/en-US/docs/Web/API/WebTransport/datagrams\"><code>WebTransport.datagrams</code></a> property.</p>\n<p>\"Unreliable\" means that transmission of data is not guaranteed, nor is arrival in a specific order. This is fine in some situations and provides very fast delivery. For example, you might want to transmit regular game state updates where each message supersedes the last one that arrives, and order is not important.</p>\n<div class=\"notecard note\" id=\"sect2\">\n  <p><strong>Note:</strong> This feature is available in <a href=\"/en-US/docs/Web/API/Web_Workers_API\">Web Workers</a></p>\n</div>"}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":false,"content":"<dl>\n  <dt id=\"incominghighwatermark\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/incomingHighWaterMark\" title=\"incomingHighWaterMark\"><code>incomingHighWaterMark</code></a></dt>\n  <dd>\n    <p>Gets or sets the high water mark for incoming chunks of data — this is the maximum size, in chunks, that the incoming <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a>'s internal queue can reach before it is considered full. See <a href=\"/en-US/docs/Web/API/Streams_API/Concepts#internal_queues_and_queuing_strategies\">Internal queues and queuing strategies</a> for more information.</p>\n  </dd>\n  <dt id=\"incomingmaxage\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/incomingMaxAge\" title=\"incomingMaxAge\"><code>incomingMaxAge</code></a></dt>\n  <dd>\n    <p>Gets or sets the maximum age for incoming datagrams, in milliseconds. Returns <code>null</code> if no maximum age has been set.</p>\n  </dd>\n  <dt id=\"maxdatagramsize\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/maxDatagramSize\" title=\"maxDatagramSize\"><code>maxDatagramSize</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span></dt>\n  <dd>\n    <p>Returns the maximum allowable size of outgoing datagrams, in bytes, that can be written to <a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/writable\" title=\"writable\"><code>writable</code></a>.</p>\n  </dd>\n  <dt id=\"outgoinghighwatermark\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/outgoingHighWaterMark\" title=\"outgoingHighWaterMark\"><code>outgoingHighWaterMark</code></a></dt>\n  <dd>\n    <p>Gets or sets the high water mark for outgoing chunks of data — this is the maximum size, in chunks, that the outgoing <a href=\"/en-US/docs/Web/API/WritableStream\"><code>WritableStream</code></a>'s internal queue can reach before it is considered full. See <a href=\"/en-US/docs/Web/API/Streams_API/Concepts#internal_queues_and_queuing_strategies\">Internal queues and queuing strategies</a> for more information.</p>\n  </dd>\n  <dt id=\"outgoingmaxage\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/outgoingMaxAge\" title=\"outgoingMaxAge\"><code>outgoingMaxAge</code></a></dt>\n  <dd>\n    <p>Gets or sets the maximum age for outgoing datagrams, in milliseconds. Returns <code>null</code> if no maximum age has been set.</p>\n  </dd>\n  <dt id=\"readable\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/readable\" title=\"readable\"><code>readable</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span></dt>\n  <dd>\n    <p>Returns a <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a> instance that can be used to read incoming datagrams from the stream.</p>\n  </dd>\n  <dt id=\"writable\"><a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/writable\" title=\"writable\"><code>writable</code></a> <span title=\"This value may not be changed.\" class=\"badge inline readonly\">Read only </span></dt>\n  <dd>\n    <p>Returns a <a href=\"/en-US/docs/Web/API/WritableStream\"><code>WritableStream</code></a> instance that can be used to write outgoing datagrams to the stream.</p>\n  </dd>\n</dl>"}},{"type":"prose","value":{"id":"examples","title":"Examples","isH3":false,"content":""}},{"type":"prose","value":{"id":"writing_outgoing_datagrams","title":"Writing outgoing datagrams","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/writable\" title=\"writable\"><code>writable</code></a> property returns a <a href=\"/en-US/docs/Web/API/WritableStream\"><code>WritableStream</code></a> object that you can write data to using a writer, for transmission to the server:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">const</span> writer <span class=\"token operator\">=</span> transport<span class=\"token punctuation\">.</span>datagrams<span class=\"token punctuation\">.</span>writable<span class=\"token punctuation\">.</span><span class=\"token function\">getWriter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> data1 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">65</span><span class=\"token punctuation\">,</span> <span class=\"token number\">66</span><span class=\"token punctuation\">,</span> <span class=\"token number\">67</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">const</span> data2 <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Uint8Array</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span><span class=\"token number\">68</span><span class=\"token punctuation\">,</span> <span class=\"token number\">69</span><span class=\"token punctuation\">,</span> <span class=\"token number\">70</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nwriter<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>data1<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nwriter<span class=\"token punctuation\">.</span><span class=\"token function\">write</span><span class=\"token punctuation\">(</span>data2<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n</code></pre></div>"}},{"type":"prose","value":{"id":"reading_incoming_datagrams","title":"Reading incoming datagrams","isH3":true,"content":"<p>The <a href=\"/en-US/docs/Web/API/WebTransportDatagramDuplexStream/readable\" title=\"readable\"><code>readable</code></a> property returns a <a href=\"/en-US/docs/Web/API/ReadableStream\"><code>ReadableStream</code></a> object that you can use to receive data from the server:</p>\n<div class=\"code-example\"><p class=\"example-header\"><span class=\"language-name\">js</span></p><pre class=\"brush: js notranslate\"><code><span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">readData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> reader <span class=\"token operator\">=</span> transport<span class=\"token punctuation\">.</span>datagrams<span class=\"token punctuation\">.</span>readable<span class=\"token punctuation\">.</span><span class=\"token function\">getReader</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span><span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> value<span class=\"token punctuation\">,</span> done <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> reader<span class=\"token punctuation\">.</span><span class=\"token function\">read</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>done<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token comment\">// value is a Uint8Array.</span>\n    console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>value<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/webtransport/#duplex-stream","title":"WebTransport"}],"query":"api.WebTransportDatagramDuplexStream"}},{"type":"browser_compatibility","value":{"title":"Browser compatibility","id":"browser_compatibility","isH3":false,"query":"api.WebTransportDatagramDuplexStream"}},{"type":"prose","value":{"id":"see_also","title":"See also","isH3":false,"content":"<ul>\n  <li><a href=\"https://developer.chrome.com/articles/webtransport/\" class=\"external\" target=\"_blank\">Using WebTransport</a></li>\n  <li><a href=\"/en-US/docs/Web/API/WebSockets_API\" title=\"WebSockets API\">WebSockets API</a></li>\n  <li><a href=\"/en-US/docs/Web/API/Streams_API\" title=\"Streams API\">Streams API</a></li>\n  <li><a href=\"https://datatracker.ietf.org/doc/html/draft-ietf-webtrans-http3/\" class=\"external\" target=\"_blank\">WebTransport over HTTP/3</a></li>\n</ul>"}}],"toc":[{"text":"Instance properties","id":"instance_properties"},{"text":"Examples","id":"examples"},{"text":"Specifications","id":"specifications"},{"text":"Browser compatibility","id":"browser_compatibility"},{"text":"See also","id":"see_also"}],"summary":"The WebTransportDatagramDuplexStream interface of the WebTransport API represents a duplex stream that can be used for unreliable transport of datagrams between client and server. Provides access to a ReadableStream for reading incoming datagrams, a WritableStream for writing outgoing datagrams, and various settings and statistics related to the stream.","popularity":0,"modified":"2023-10-25T17:27:32.000Z","source":{"folder":"en-us/web/api/webtransportdatagramduplexstream","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/webtransportdatagramduplexstream/index.md","last_commit_url":"https://github.com/mdn/content/commit/835d6632d59993861a0458510402787f8a2c3cb3","filename":"index.md"},"short_title":"WebTransportDatagramDuplexStream","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/WebTransportDatagramDuplexStream","title":"WebTransportDatagramDuplexStream"}],"pageTitle":"WebTransportDatagramDuplexStream - Web APIs | MDN","noIndexing":false}}