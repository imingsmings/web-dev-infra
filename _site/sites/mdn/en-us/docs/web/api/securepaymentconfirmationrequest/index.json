{"doc":{"isMarkdown":true,"isTranslated":false,"isActive":true,"flaws":{},"title":"SecurePaymentConfirmationRequest","mdn_url":"/en-US/docs/Web/API/SecurePaymentConfirmationRequest","locale":"en-US","native":"English (US)","sidebarHTML":"<ol><li><strong><a href=\"/en-US/docs/Web/API/Payment_Request_API\">Payment Request API</a></strong></li><li><strong><em><a href=\"/en-US/docs/Web/API/SecurePaymentConfirmationRequest\" aria-current=\"page\"><code>SecurePaymentConfirmationRequest</code></a></em></strong></li><li class=\"toggle\"><details open=\"\"><summary>Related pages for Payment Request API</summary><ol><li><a href=\"/en-US/docs/Web/API/HTMLIFrameElement/allowPaymentRequest\"><code>HTMLIFrameElement.allowPaymentRequest</code></a></li><li><a href=\"/en-US/docs/Web/API/MerchantValidationEvent\"><code>MerchantValidationEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentAddress\"><code>PaymentAddress</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentMethodChangeEvent\"><code>PaymentMethodChangeEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequest\"><code>PaymentRequest</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentRequestUpdateEvent\"><code>PaymentRequestUpdateEvent</code></a></li><li><a href=\"/en-US/docs/Web/API/PaymentResponse\"><code>PaymentResponse</code></a></li></ol></details></li></ol>","sidebarMacro":"APIRef","body":[{"type":"prose","value":{"id":null,"title":null,"isH3":false,"content":"<p>The <strong><code>SecurePaymentConfirmationRequest</code></strong> dictionary describes input to the <a href=\"/en-US/docs/Web/API/Payment_Request_API\">Payment Request API</a> when used to authenticate a user during an e-commerce transaction <a href=\"/en-US/docs/Web/API/Payment_Request_API/Using_secure_payment_confirmation\">using SPC with Payment Request API</a>.</p>\n<p>An instance of this dictionary must be passed into the <a href=\"/en-US/docs/Web/API/PaymentRequest/PaymentRequest\" title=\"PaymentRequest()\"><code>PaymentRequest()</code></a> constructor as the value of the <a href=\"/en-US/docs/Web/API/PaymentRequest/PaymentRequest#data\"><code>data</code></a> field corresponding to a <a href=\"/en-US/docs/Web/API/PaymentRequest/PaymentRequest#supportedmethods\"><code>supportedMethods</code></a> value of <code>\"secure-payment-confirmation\"</code>.</p>"}},{"type":"prose","value":{"id":"instance_properties","title":"Instance properties","isH3":false,"content":"<dl>\n  <dt id=\"challenge\"><a href=\"#challenge\"><code>challenge</code></a></dt>\n  <dd>\n    <p>An <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\"><code>TypedArray</code></a>, or <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\"><code>DataView</code></a> provided by the relying party's server and used as a <a href=\"https://en.wikipedia.org/wiki/Challenge%E2%80%93response_authentication\" class=\"external\" target=\"_blank\">cryptographic challenge</a>. This value will be signed by the authenticator and the signature will be sent back as part of <a href=\"/en-US/docs/Web/API/AuthenticatorAttestationResponse/attestationObject\"><code>AuthenticatorAttestationResponse.attestationObject</code></a>. This helps prevent replay attacks.</p>\n  </dd>\n  <dt id=\"credentialids\"><a href=\"#credentialids\"><code>credentialIds</code></a></dt>\n  <dd>\n    <p>A list of <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer\"><code>ArrayBuffer</code></a>, <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypedArray\"><code>TypedArray</code></a>, or <a href=\"/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView\"><code>DataView</code></a>. These <a href=\"https://www.w3.org/TR/webauthn-2/#credential-id\" class=\"external\" target=\"_blank\">Credential IDs</a> represent Web Authentication credentials that have been registered with the relying party for authenticating during a payment with the associated <code>instrument</code>.</p>\n  </dd>\n  <dt id=\"extensions\"><a href=\"#extensions\"><code>extensions</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>Any <a href=\"/en-US/docs/Web/API/Web_Authentication_API/WebAuthn_extensions\">WebAuthn extensions</a> that should be used for the passed credential(s). The caller does not need to specify the <a href=\"/en-US/docs/Web/API/Web_Authentication_API/WebAuthn_extensions#payment\"><code>payment</code> extension</a>; this is added automatically.</p>\n  </dd>\n  <dt id=\"instrument\"><a href=\"#instrument\"><code>instrument</code></a></dt>\n  <dd>\n    <p>The description of the instrument name and icon to display during registration and to be signed along with the transaction details. This is an object with the following properties:</p>\n    <dl>\n      <dt id=\"displayname\"><a href=\"#displayname\"><code>displayName</code></a></dt>\n      <dd>\n        <p>A string containing the payment instrument's name, which will be displayed to the user.</p>\n      </dd>\n      <dt id=\"icon\"><a href=\"#icon\"><code>icon</code></a></dt>\n      <dd>\n        <p>A string containing the URL of the payment instrument's icon.</p>\n      </dd>\n      <dt id=\"iconmustbeshown\"><a href=\"#iconmustbeshown\"><code>iconMustBeShown</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n      <dd>\n        <p>A boolean value indicating whether the icon must be successfully fetched and shown for the request to succeed. Defaults to <code>true</code>.</p>\n      </dd>\n    </dl>\n  </dd>\n  <dt id=\"locale\"><a href=\"#locale\"><code>locale</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>An optional list of well-formed <a href=\"https://datatracker.ietf.org/doc/html/rfc5646\" class=\"external\" target=\"_blank\">RFC 5646: Tags for Identifying Languages (also known as BCP 47)</a> language tags, in descending order of priority, that identify the local preferences of the website. That is, this represents a language priority list <a href=\"https://datatracker.ietf.org/doc/html/rfc4647\" class=\"external\" target=\"_blank\">RFC 4647: Matching of Language Tags</a>, which the user agent can use to perform <a href=\"/en-US/docs/Web/HTTP/Content_negotiation\">language negotiation</a> and locale-affected formatting with the caller.</p>\n    <div class=\"notecard note\" id=\"sect1\">\n      <p><strong>Note:</strong> The locale is distinct from language or direction metadata associated with specific input members, in that it represents the caller's requested localized experience rather than assertion about a specific string value. See <a href=\"https://w3c.github.io/secure-payment-confirmation/#sctn-i18n-considerations\" class=\"external\" target=\"_blank\">SPC internationalization Considerations</a> for more discussion.</p>\n    </div>\n  </dd>\n  <dt id=\"payeename\"><a href=\"#payeename\"><code>payeeName</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A string that serves as the display name of the payee that this SPC call is for (e.g., the merchant). Optional, may be provided alongside or instead of <code>payeeOrigin</code>.</p>\n  </dd>\n  <dt id=\"payeeorigin\"><a href=\"#payeeorigin\"><code>payeeOrigin</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A string that is the origin of the payee that this SPC call is for (e.g., the merchant). Optional, may be provided alongside or instead of <code>payeeName</code>.</p>\n  </dd>\n  <dt id=\"rpid\"><a href=\"#rpid\"><code>rpId</code></a></dt>\n  <dd>\n    <p>A string that specifies the relying party's identifier (for example \"login.example.org\").</p>\n  </dd>\n  <dt id=\"showoptout\"><a href=\"#showoptout\"><code>showOptOut</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>A boolean indicating whether the user should be given a chance to opt-out during the <a href=\"/en-US/docs/Web/API/Payment_Request_API/Using_secure_payment_confirmation#authenticating_a_payment\">transaction dialog UX</a>. Defaults to <code>false</code>.</p>\n  </dd>\n  <dt id=\"timeout\"><a href=\"#timeout\"><code>timeout</code></a> <span class=\"badge inline optional\">Optional</span></dt>\n  <dd>\n    <p>The number of milliseconds before the request to sign the transaction details times out. At most 1 hour.</p>\n  </dd>\n</dl>"}},{"type":"specifications","value":{"title":"Specifications","id":"specifications","isH3":false,"specifications":[{"bcdSpecificationURL":"https://w3c.github.io/secure-payment-confirmation/#sctn-securepaymentconfirmationrequest-dictionary","title":"Secure Payment Confirmation"}],"query":"undefined"}}],"toc":[{"text":"Instance properties","id":"instance_properties"},{"text":"Specifications","id":"specifications"}],"summary":"The SecurePaymentConfirmationRequest dictionary describes input to the Payment Request API when used to authenticate a user during an e-commerce transaction using SPC with Payment Request API.","popularity":0,"modified":"2023-12-01T21:37:14.000Z","source":{"folder":"en-us/web/api/securepaymentconfirmationrequest","github_url":"https://github.com/mdn/content/blob/main/files/en-us/web/api/securepaymentconfirmationrequest/index.md","last_commit_url":"https://github.com/mdn/content/commit/f2fbd9e0e9049ed5947cea283a5d87ad6d74c692","filename":"index.md"},"short_title":"SecurePaymentConfirmationRequest","parents":[{"uri":"/en-US/docs/Web","title":"References"},{"uri":"/en-US/docs/Web/API","title":"Web APIs"},{"uri":"/en-US/docs/Web/API/SecurePaymentConfirmationRequest","title":"SecurePaymentConfirmationRequest"}],"pageTitle":"SecurePaymentConfirmationRequest - Web APIs | MDN","noIndexing":false}}