<!DOCTYPE html>
<html lang="en" data-direction="ltr" class="">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#1890ff" />
    <title>Real project with umi - Ant Design</title>
    <meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" property="og:image" content="https://gw.alipayobjects.com/zos/rmsportal/rlpTLlbMzTNYuZGGCVYM.png"/><meta data-rh="true" property="og:title" content="Real project with umi - Ant Design"/><meta data-rh="true" name="description" content="In real project development, you may need data flow solutions such as Redux or MobX. Ant Design React is a UI library that can be used with data flow solutions and application frameworks in any React ecosystem. Based on the business scenario, we launched a pluggable enterprise-level application framework Umi, which is recommended for use in the project."/>
    <link
      rel="icon"
      href="https://gw.alipayobjects.com/zos/rmsportal/rlpTLlbMzTNYuZGGCVYM.png"
      type="image/x-icon"
    />
    
    <link rel="stylesheet" type="text/css" href="/index-4fcbaf0b.css" />
    
    <style id="nprogress-style">
      #nprogress {
        display: none;
      }
    </style>
    <link rel="stylesheet/less" type="text/css" href="/color.less" />
    <script src="https://b.alicdn.com/s/polyfill.min.js?features=default,es2015,Intl"></script>
    <link id="darkThemeLink" rel="stylesheet" href="/dark.css" />
    <script>
      /* 设置 meta theme-color 的值，默认会设置一个 #1890ff   */
      function setColor(isDarken) {
        try {
          var theme = document.getElementsByTagName('meta')['theme-color'];
          theme.setAttribute('content', isDarken ? 'rgba(0,0,0,0.65)' : '#1890ff');
        } catch (error) {}
      }
      /* -------------------------- 主题相关 -------------------------- */
      (function () {
        /* 获取查询参数对象 */
        function getSearchParam(search) {
          // 处理入参错误
          var search = search || location.search;
          if (search === undefined) {
            return;
          }

          var pattern = /(\w+)=(\w+)/gi; // 定义正则
          var matches = search.match(pattern);
          if (!matches) {
            return;
          }

          function fromEntries(iterable) {
            return iterable.reduce(function (obj, keyvalue) {
              var key = keyvalue[0];
              var val = keyvalue[1];
              obj[key] = val;
              return obj;
            }, {});
          }

          var searchParam = fromEntries(
            matches.map(function (item) {
              return item.split('=');
            }),
          );
          return searchParam;
        }

        var searchParam = getSearchParam(location.search) || {}; // 查询参数对象

        var isDarkMode = searchParam.theme === 'dark'; // 判断当前主题
        var isComponentsPage = location.pathname.indexOf('/components') === 0; // 判断是否组件页面

        // 1. 暗色主题刷新时无白屏
        // 如果是暗色主题，且在components路由下
        var darkThemeLinkEl = document.getElementById('darkThemeLink');
        if (isDarkMode && isComponentsPage) {
          // 将预先定义的暗色主题link移动到body内
          document.addEventListener(
            'readystatechange',
            function () {
              document.head.appendChild(styleElement);
            },
            { once: true },
          );
          // load后卸载
          window.addEventListener(
            'load',
            function () {
              darkThemeLinkEl.parentNode.removeChild(darkThemeLinkEl);
            },
            { once: true },
          );
          setColor(true);
          // 清除dark.css中的全部transition 待解析完后恢复
          var styleElement = document.createElement('style');
          styleElement.type = 'text/css';
          styleElement.innerHTML =
            '* {transition: none !important;} html {background: rgb(20, 20, 20)}';
          document.head.appendChild(styleElement);
          document.documentElement.style.backgroundColor = 'black';
          window.addEventListener(
            'load',
            function () {
              styleElement.parentNode.removeChild(styleElement);
            },
            { once: true },
          );

          // 设置系统主题
          document.documentElement.style.colorScheme = 'dark';
        } else {
          setColor(false);
          document.documentElement.style.colorScheme = 'light';
          darkThemeLinkEl.parentNode.removeChild(darkThemeLinkEl);
        }
      })();
    </script>
    <script>
      (function () {
        function isLocalStorageNameSupported() {
          var testKey = 'test';
          var storage = window.localStorage;
          try {
            storage.setItem(testKey, '1');
            storage.removeItem(testKey);
            return true;
          } catch (error) {
            return false;
          }
        }
        // 优先级提高到所有静态资源的前面，语言不对，加载其他静态资源没意义
        var pathname = location.pathname;

        function isZhCN(pathname) {
          return /-cn\/?$/.test(pathname);
        }
        function getLocalizedPathname(path, zhCN) {
          var pathname = path.indexOf('/') === 0 ? path : '/' + path;
          if (!zhCN) {
            // to enUS
            return /\/?index-cn/.test(pathname) ? '/' : pathname.replace('-cn', '');
          } else if (pathname === '/') {
            return '/index-cn';
          } else if (pathname.indexOf('/') === pathname.length - 1) {
            return pathname.replace(/\/$/, '-cn/');
          }
          return pathname + '-cn';
        }

        // 兼容旧的 URL， `?locale=...`
        var queryString = location.search;
        if (queryString) {
          var isZhCNConfig = queryString.indexOf('zh-CN') > -1;
          if (isZhCNConfig && !isZhCN(pathname)) {
            location.pathname = getLocalizedPathname(pathname, isZhCNConfig);
          }
        }

        // 首页无视链接里面的语言设置 https://github.com/ant-design/ant-design/issues/4552
        if (isLocalStorageNameSupported() && (pathname === '/' || pathname === '/index-cn')) {
          var lang =
            (window.localStorage && localStorage.getItem('locale')) ||
            ((navigator.language || navigator.browserLanguage).toLowerCase() === 'zh-cn'
              ? 'zh-CN'
              : 'en-US');
          // safari is 'zh-cn', while other browser is 'zh-CN';
          if ((lang === 'zh-CN') !== isZhCN(pathname)) {
            location.pathname = getLocalizedPathname(pathname, lang === 'zh-CN');
          }
        }
        document.documentElement.className += isZhCN(pathname) ? 'zh-cn' : 'en-us';
      })();
    </script>
  </head>
  <body>
    <div id="react-content"><header id="header" class="clearfix"><div class="ant-row" style="flex-flow:nowrap;height:64px"><div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-6 ant-col-xl-5 ant-col-xxl-4"><h1><a id="logo" href="/"><img alt="logo" src="https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg"/>Ant Design</a></h1></div><div class="ant-col menu-row ant-col-xs-0 ant-col-sm-0 ant-col-md-18 ant-col-lg-18 ant-col-xl-19 ant-col-xxl-20"><div id="search-box" class=""><span class="ant-input-affix-wrapper"><span class="ant-input-prefix"><span role="img" aria-label="search" class="anticon anticon-search"><svg viewBox="64 64 896 896" focusable="false" data-icon="search" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"></path></svg></span></span><input type="text" placeholder="Search" value="" class="ant-input"/></span></div><ul class="ant-menu ant-menu-root ant-menu-horizontal ant-menu-light menu-site" id="nav" dir="ltr" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" tabindex="-1" data-menu-id="nav-docs/spec"><span class="ant-menu-title-content"><a href="/docs/spec/introduce">Design</a></span></li><li class="ant-menu-item ant-menu-item-selected ant-menu-item-only-child" role="menuitem" tabindex="-1" data-menu-id="nav-docs/react"><span class="ant-menu-title-content"><a href="/docs/react/introduce">Docs</a></span></li><li class="ant-menu-item ant-menu-item-only-child" role="menuitem" tabindex="-1" data-menu-id="nav-components"><span class="ant-menu-title-content"><a href="/components/overview/">Components</a></span></li></ul><div style="display:none" aria-hidden="true"></div><button type="button" class="ant-btn ant-btn-default ant-btn-sm header-button header-lang-button">中文</button><button type="button" class="ant-btn ant-btn-default ant-btn-sm header-button header-direction-button"><span>RTL</span></button></div></div></header><div class="main-wrapper"><div class="ant-row"><div class="ant-col main-menu ant-col-xs-24 ant-col-sm-24 ant-col-md-6 ant-col-lg-6 ant-col-xl-5 ant-col-xxl-4"><div><div class=""><section class="main-menu-inner"><ul class="ant-menu ant-menu-root ant-menu-inline ant-menu-light aside-container menu-site" dir="ltr" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/introduce">Ant Design of React</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/getting-started">Getting Started</a></span></li><li class="ant-menu-item ant-menu-item-selected ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/practical-projects">Real project with umi</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/use-with-create-react-app">Use in create-react-app</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/use-in-typescript">Use in TypeScript</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/changelog">Change Log</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/customize-theme">Customize Theme</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/customize-theme-variable">Dynamic Theme (Experimental)</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/replace-moment">Replace Moment.js</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/migration-v4">V3 to V4</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/recommendation">Third-Party Libraries</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/i18n">Internationalization</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/faq">FAQ</a></span></li><li class="ant-menu-item ant-menu-item-only-child" style="padding-left:30px" role="menuitem" tabindex="-1"><span class="ant-menu-title-content"><a href="/docs/react/contributing">Contributing</a></span></li></ul><div style="display:none" aria-hidden="true"></div></section></div></div></div><div class="ant-col ant-col-xs-24 ant-col-sm-24 ant-col-md-18 ant-col-lg-18 ant-col-xl-19 ant-col-xxl-20"><section class="main-container"><article class="markdown"><div><h1>Real project with umi<a class="edit-button" href="https://github.com/ant-design/ant-design/edit/master/docs/react/practical-projects.en-US.md" target="_blank" rel="noopener noreferrer"><span role="img" aria-label="edit" class="anticon anticon-edit"><svg viewBox="64 64 896 896" focusable="false" data-icon="edit" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"></path></svg></span></a></h1></div><div class="toc-affix"><div class=""><ul class="toc"><li><a class="bisheng-toc-h2" href="#Install-Umi" title="Install Umi">Install Umi</a></li><li><a class="bisheng-toc-h2" href="#Create-Routes" title="Create Routes">Create Routes</a></li><li><a class="bisheng-toc-h2" href="#Write-UI-Components" title="Write UI Components">Write UI Components</a></li><li><a class="bisheng-toc-h2" href="#Simple-data-management-solution" title="Simple data management solution">Simple data management solution</a></li><li><a class="bisheng-toc-h2" href="#ProLayout" title="ProLayout">ProLayout</a></li><li><a class="bisheng-toc-h2" href="#ProTable" title="ProTable">ProTable</a></li><li><a class="bisheng-toc-h2" href="#Build" title="Build">Build</a></li><li><a class="bisheng-toc-h2" href="#What&#x27;s-Next" title="What&#x27;s Next">What&#x27;s Next</a></li></ul></div></div><section class="markdown"><p>In real project development, you may need data flow solutions such as Redux or MobX. Ant Design React is a UI library that can be used with data flow solutions and application frameworks in any React ecosystem. Based on the business scenario, we launched a pluggable enterprise-level application framework <a href="https://umijs.org">Umi</a>, which is recommended for use in the project.</p><p>And <a href="https://umijs.org">Umi</a> is a routing-based framework that supports <a href="https://umijs.org/docs/convention-routing">next.js-like conventional routing</a> and various advanced routing functions, such as <a href="https://umijs.org/config#dynamicimport">routing-level on-demand loading</a>. With a complete <a href="https://umijs.org/plugins/api">plugin system</a> that covers every life cycle from source code to build product, Umi is able to support various functional extensions and business needs; meanwhile <a href="https://umijs.org/docs/use-umi-ui">Umi UI</a> is provided to enhance the development experience and development efficiency through Visual Aided Programming (VAP).</p><blockquote><p>You may also be interested in <a href="https://pro.ant.design/">Ant Design Pro</a>, an Out-of-box UI solution for enterprise applications based on Umi and antd.</p></blockquote><p>This article will guide you to create a simple application from zero using Umi and antd.</p><h2 id="Install-Umi"><span>Install Umi</span><a href="#Install-Umi" class="anchor">#</a></h2><p>It is recommended to use yarn to create an application and execute the following command.</p><pre class="language-bash"><code>$ <span class="token function">mkdir</span> myapp <span class="token operator">&amp;&amp;</span> <span class="token function">cd</span> myapp
$ yarn create @umijs/umi-app
$ yarn</code></pre><blockquote><p>If you use npm, you can execute <code>npx @umijs/create-umi-app</code> with the same effect.</p><p>And if you want to use a fixed version of antd, you can install additional antd dependency in your project, and the antd dependencies declared in package.json will be used first.</p></blockquote><h2 id="Create-Routes"><span>Create Routes</span><a href="#Create-Routes" class="anchor">#</a></h2><p>We need to write an application displaying the list of products. The first step is to create a route.</p><p>If you don&#x27;t have npx, you need to install it first to execute the commands under node_modules.</p><pre class="language-bash"><code>$ yarn global add npx</code></pre><p>Then create a <code>/products</code> route,</p><pre class="language-bash"><code>$ npx umi g page products --typescript

Write: src/pages/products.tsx
Write: src/pages/products.css</code></pre><p>In <code>.umirc.ts</code> configured in routing, if there is need to internationalization, can configure <code>locale</code> enable antd internationalization:</p><pre class="language-diff"><code>import { defineConfig } from 'umi';

export default defineConfig({
<span class="token inserted">+ locale: { antd: true },</span>
  routes: [
    { path: '/', component: '@/pages/index' },
<span class="token inserted">+   { path: '/products', component: '@/pages/products' },</span>
  ],
});</code></pre><p>run <code>yarn start</code> then open <a href="http://localhost:8000/products">http://localhost:8000/products</a> in your browser and you should see the corresponding page.</p><h2 id="Write-UI-Components"><span>Write UI Components</span><a href="#Write-UI-Components" class="anchor">#</a></h2><p>As your application grows and you notice you are sharing UI elements between multiple pages (or using them multiple times on the same page), in Umi it&#x27;s called reusable components.</p><p>Let&#x27;s create a <code>ProductList</code> component that we can use in multiple places to show a list of products.</p><p>Create <code>src/components/ProductList.tsx</code> by typing:</p><pre class="language-tsx"><code>import { Table<span class="token punctuation">,</span> Popconfirm<span class="token punctuation">,</span> Button } from <span class="token string">'antd'</span><span class="token comment" spellcheck="true">;</span>

<span class="token keyword">const</span> ProductList<span class="token punctuation">:</span> React<span class="token punctuation">.</span>FC<span class="token operator">&lt;</span>{ products<span class="token punctuation">:</span> { name<span class="token punctuation">:</span> string }<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token comment" spellcheck="true">; onDelete: (id: string) => void }> = ({</span>
  onDelete<span class="token punctuation">,</span>
  products<span class="token punctuation">,</span>
}<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
  <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>
    {
      title<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span>
      dataIndex<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
    }<span class="token punctuation">,</span>
    {
      title<span class="token punctuation">:</span> <span class="token string">'Actions'</span><span class="token punctuation">,</span>
      render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
        return <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Popconfirm title<span class="token operator">=</span><span class="token string">"Delete?"</span> onConfirm<span class="token operator">=</span>{<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">onDelete</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>id<span class="token punctuation">)</span>}<span class="token operator">></span>
            <span class="token operator">&lt;</span>Button<span class="token operator">></span>Delete<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Popconfirm<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
      }<span class="token punctuation">,</span>
    }<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>
  return <span class="token operator">&lt;</span>Table dataSource<span class="token operator">=</span>{products} columns<span class="token operator">=</span>{columns} <span class="token operator">/</span><span class="token operator">></span><span class="token comment" spellcheck="true">;</span>
}<span class="token comment" spellcheck="true">;</span>

export <span class="token keyword">default</span> ProductList<span class="token comment" spellcheck="true">;</span></code></pre><h2 id="Simple-data-management-solution"><span>Simple data management solution</span><a href="#Simple-data-management-solution" class="anchor">#</a></h2><p><code>@umijs/plugin-model</code> is a simple data flow scheme based on the hooks paradigm, which can replace dva to perform global data flow in the middle stage under certain circumstances. We agree that the files in the <code>src/models</code> directory are the model files defined by the project. Each file needs to export a function by default, the function defines a hook, and files that do not meet the specifications will be filtered out.</p><p>The file name corresponds to the name of the final model, and you can consume the data in the model through the API provided by the plug-in.</p><p>Let&#x27;s take a simple table as an example. First we create a new file <code>src/services/product.ts</code> for remote API.</p><pre class="language-tsx"><code><span class="token operator">/</span><span class="token operator">*</span>
export function <span class="token function">queryProductList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {
  return <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">'/api/products'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">></span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
}
<span class="token operator">*</span><span class="token operator">/</span>
<span class="token operator">/</span><span class="token operator">/</span> mock request service by setTimeout
export function <span class="token function">queryProductList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> {
  return new <span class="token function">Promise</span><span class="token punctuation">(</span>resolve <span class="token operator">=</span><span class="token operator">></span> {
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
      <span class="token function">resolve</span><span class="token punctuation">(</span>{
        data<span class="token punctuation">:</span> <span class="token punctuation">[</span>
          { id<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'dva'</span> }<span class="token punctuation">,</span>
          { id<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'antd'</span> }<span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }<span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
  }<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
}</code></pre><p>Then you need to create a new file <code>src/models/useProductList.ts</code>.</p><pre class="language-tsx"><code>import { useRequest } from <span class="token string">'umi'</span><span class="token comment" spellcheck="true">;</span>
import { queryProductList } from <span class="token string">'@/services/product'</span><span class="token comment" spellcheck="true">;</span>

export <span class="token keyword">default</span> function <span class="token function">useProductList</span><span class="token punctuation">(</span>params<span class="token punctuation">:</span> { pageSize<span class="token punctuation">:</span> number<span class="token comment" spellcheck="true">; current: number }) {</span>
  <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token function">useRequest</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">queryProductList</span><span class="token punctuation">(</span>params<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>

  <span class="token keyword">const</span> deleteProducts <span class="token operator">=</span> async <span class="token punctuation">(</span>id<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
    try {
      await <span class="token function">removeProducts</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
      message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
      msg<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    } catch <span class="token punctuation">(</span>error<span class="token punctuation">)</span> {
      message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'fail'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }
  }<span class="token comment" spellcheck="true">;</span>

  return {
    dataSource<span class="token punctuation">:</span> msg<span class="token punctuation">.</span>data<span class="token punctuation">,</span>
    reload<span class="token punctuation">:</span> msg<span class="token punctuation">.</span>run<span class="token punctuation">,</span>
    loading<span class="token punctuation">:</span> msg<span class="token punctuation">.</span>loading<span class="token punctuation">,</span>
    deleteProducts<span class="token punctuation">,</span>
  }<span class="token comment" spellcheck="true">;</span>
}</code></pre><p>Edit <code>src/pages/products.tsx</code> and replace with the following:</p><pre class="language-tsx"><code>import { useModel } from <span class="token string">'umi'</span><span class="token comment" spellcheck="true">;</span>
import ProductList from <span class="token string">'@/components/ProductList'</span><span class="token comment" spellcheck="true">;</span>

<span class="token keyword">const</span> Products <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
  <span class="token keyword">const</span> { dataSource<span class="token punctuation">,</span> reload<span class="token punctuation">,</span> deleteProducts } <span class="token operator">=</span> <span class="token function">useModel</span><span class="token punctuation">(</span><span class="token string">'useProductList'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
  return <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>div<span class="token operator">></span>
      <span class="token operator">&lt;</span>a onClick<span class="token operator">=</span>{<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span>}<span class="token operator">></span>reload<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
      <span class="token operator">&lt;</span>ProductList onDelete<span class="token operator">=</span>{deleteProducts} products<span class="token operator">=</span>{dataSource} <span class="token operator">/</span><span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
}<span class="token comment" spellcheck="true">;</span>

export <span class="token keyword">default</span> Products<span class="token comment" spellcheck="true">;</span></code></pre><p>Refresh your browser, you should see the following result:</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/dPsy4tFHN3/umi.gif"/></p><h2 id="ProLayout"><span>ProLayout</span><a href="#ProLayout" class="anchor">#</a></h2><p>A standard mid-to-back page generally requires a layout. This layout is often highly similar. ProLayout encapsulates commonly used menus, breadcrumbs, page headers and other functions, provides an independent framework and works out of the box Advanced layout components.</p><p>And supports three modes of <code>side</code>, <code>mix</code>, and <code>top</code>, and it also has built-in menu selection, the menu generates breadcrumbs, and automatically sets the logic of the page title. Can help you start a project quickly.</p><p><img src="https://gw.alipayobjects.com/zos/antfincdn/gXkuc%26RmT7/64038246-E2BF-4840-8898-5AF531897A44.png" alt="site"/></p><p>The method of use is also extremely simple, requiring only a few simple settings.</p><pre class="language-tsx"><code>import { Button } from <span class="token string">'antd'</span><span class="token comment" spellcheck="true">;</span>
import ProLayout<span class="token punctuation">,</span> { PageContainer } from <span class="token string">'@ant-design/pro-layout'</span><span class="token comment" spellcheck="true">;</span>

export <span class="token keyword">default</span> <span class="token punctuation">(</span>
  <span class="token operator">&lt;</span>ProLayout<span class="token operator">></span>
    <span class="token operator">&lt;</span>PageContainer
      extra<span class="token operator">=</span>{<span class="token punctuation">[</span>
        <span class="token operator">&lt;</span>Button key<span class="token operator">=</span><span class="token string">"3"</span><span class="token operator">></span>Operating<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token punctuation">,</span>
        <span class="token operator">&lt;</span>Button key<span class="token operator">=</span><span class="token string">"2"</span><span class="token operator">></span>Operating<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token punctuation">,</span>
        <span class="token operator">&lt;</span>Button key<span class="token operator">=</span><span class="token string">"1"</span> type<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>
          Main Operating
        <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span>}
      footer<span class="token operator">=</span>{<span class="token punctuation">[</span><span class="token operator">&lt;</span>Button<span class="token operator">></span>reset<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token punctuation">,</span> <span class="token operator">&lt;</span>Button type<span class="token operator">=</span><span class="token string">"primary"</span><span class="token operator">></span>submit<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span><span class="token punctuation">]</span>}
    <span class="token operator">></span>
      {children}
    <span class="token operator">&lt;</span><span class="token operator">/</span>PageContainer<span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>ProLayout<span class="token operator">></span>
<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span></code></pre><p>Click here <a href="https://procomponents.ant.design/en-US/components/layout">Quick Start</a>.</p><h2 id="ProTable"><span>ProTable</span><a href="#ProTable" class="anchor">#</a></h2><p>Many data in an admin page does not need to be shared across pages, and models are sometimes not needed.</p><pre class="language-tsx"><code>import ProTable from <span class="token string">'@ant-design/pro-table'</span><span class="token comment" spellcheck="true">;</span>
import { Popconfirm<span class="token punctuation">,</span> Button } from <span class="token string">'antd'</span><span class="token comment" spellcheck="true">;</span>
import { queryProductList } from <span class="token string">'@/services/product'</span><span class="token comment" spellcheck="true">;</span>

<span class="token keyword">const</span> Products <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
  <span class="token keyword">const</span> actionRef <span class="token operator">=</span> useRef<span class="token operator">&lt;</span>ActionType<span class="token operator">></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>

  <span class="token keyword">const</span> deleteProducts <span class="token operator">=</span> async <span class="token punctuation">(</span>id<span class="token punctuation">:</span> string<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
    try {
      await <span class="token function">removeProducts</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
      message<span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">'success'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
      actionRef<span class="token punctuation">.</span>current<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">reload</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    } catch <span class="token punctuation">(</span>error<span class="token punctuation">)</span> {
      message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'fail'</span><span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
    }
  }<span class="token comment" spellcheck="true">;</span>

  <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>
    {
      title<span class="token punctuation">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span>
      dataIndex<span class="token punctuation">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
    }<span class="token punctuation">,</span>
    {
      title<span class="token punctuation">:</span> <span class="token string">'Actions'</span><span class="token punctuation">,</span>
      render<span class="token punctuation">:</span> <span class="token punctuation">(</span>text<span class="token punctuation">,</span> record<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> {
        return <span class="token punctuation">(</span>
          <span class="token operator">&lt;</span>Popconfirm title<span class="token operator">=</span><span class="token string">"Delete?"</span> onConfirm<span class="token operator">=</span>{<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">onDelete</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>id<span class="token punctuation">)</span>}<span class="token operator">></span>
            <span class="token operator">&lt;</span>Button<span class="token operator">></span>Delete<span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">></span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>Popconfirm<span class="token operator">></span>
        <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
      }<span class="token punctuation">,</span>
    }<span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token comment" spellcheck="true">;</span>

  return <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ProTable<span class="token operator">&lt;</span>{ name<span class="token punctuation">:</span> string }<span class="token operator">></span>
      headerTitle<span class="token operator">=</span><span class="token string">"Query Table"</span>
      actionRef<span class="token operator">=</span>{actionRef}
      rowKey<span class="token operator">=</span><span class="token string">"name"</span>
      request<span class="token operator">=</span>{<span class="token punctuation">(</span>params<span class="token punctuation">,</span> sorter<span class="token punctuation">,</span> filter<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">queryProductList</span><span class="token punctuation">(</span>{ <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>params<span class="token punctuation">,</span> sorter<span class="token punctuation">,</span> filter }<span class="token punctuation">)</span>}
      columns<span class="token operator">=</span>{columns}
    <span class="token operator">/</span><span class="token operator">></span>
  <span class="token punctuation">)</span><span class="token comment" spellcheck="true">;</span>
}<span class="token comment" spellcheck="true">;</span></code></pre><p>ProTable provides preset logic to handle loading, pagination and search forms, which can greatly reduce the amount of code, click here <a href="https://procomponents.ant.design/en-US/components/table">ProTable</a>.</p><h2 id="Build"><span>Build</span><a href="#Build" class="anchor">#</a></h2><p>Now that we&#x27;ve written our application and verified that it works in development, it&#x27;s time to get it ready for deployment to our users. To do so, execute the following command:</p><pre class="language-bash"><code>$ yarn build</code></pre><p><img src="https://gw.alipayobjects.com/zos/antfincdn/Zd3f%242NdOK/b911d244-f1a5-4d61-adc5-3710cd86cd1b.png"/></p><p>The <code>build</code> command packages up all of the assets that make up your application —— JavaScript, templates, CSS, web fonts, images, and more. Then you can find these files in the <code>dist/</code> directory.</p><h2 id="What&#x27;s-Next"><span>What&#x27;s Next</span><a href="#What&#x27;s-Next" class="anchor">#</a></h2><p>We have completed a simple application, but you may still have lots of questions, such as:</p><ul><li><p>How to handle onError globally and locally?</p></li><li><p>How to handle routes?</p></li><li><p>How to mock data?</p></li><li><p>How to deploy?</p></li><li><p>ant so on...</p></li></ul><p>You can:</p><ul><li><p>Visit <a href="https://umijs.org/">Umi official website</a></p></li><li><p>Know <a href="https://umijs.org/docs/routing">Umi routes</a></p></li><li><p>Know <a href="https://umijs.org/docs/deployment">how to deploy Umi application</a></p></li><li><p>Scaffolding out of the box <a href="https://pro.ant.design">Ant Design Pro</a></p></li><li><p>Advanced Layout <a href="https://procomponents.ant.design/en-US/components/layout">ProLayout</a></p></li><li><p>Advanced Table <a href="https://procomponents.ant.design/en-US/components/table">ProTable</a></p></li></ul></section><section class="markdown api-container"></section></article><div class="contributors-list" style="display:flex;list-style:none;margin:0;padding:0"><span style="opacity:0.3" class="ant-avatar ant-avatar-circle"><span class="ant-avatar-string" style="opacity:0"></span></span></div></section><section class="prev-next-nav"><a class="prev-page" href="/docs/react/getting-started"><span role="img" aria-label="left" class="anticon anticon-left footer-nav-icon-before"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span>Getting Started<span role="img" aria-label="right" class="anticon anticon-right footer-nav-icon-after"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></a><a class="next-page" href="/docs/react/use-with-create-react-app"><span role="img" aria-label="left" class="anticon anticon-left footer-nav-icon-before"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span>Use in create-react-app<span role="img" aria-label="right" class="anticon anticon-right footer-nav-icon-after"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></a></section></div></div></div></div>
    
    <script src="/anticon~83be3271.edb224.js"></script>
    
    <script src="/anticon~2c1e1bc1.bbd8bd.js"></script>
    
    <script src="/anticon~aff8b51d.90a887.js"></script>
    
    <script src="/anticon~b39e3fdb.f6e8fc.js"></script>
    
    <script src="/anticon~ee4fcf7a.d3f72d.js"></script>
    
    <script src="/anticon~e0710ea3.aa4333.js"></script>
    
    <script src="/components.c97666.js"></script>
    
    <script src="/index-372f28a1.js"></script>
    
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-72788897-1"></script>
    <script>
      if (!location.port) {
        // Enable Google Analytics
        window.dataLayer = window.dataLayer || [];
        function gtag() {
          dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'UA-72788897-1');
      }
    </script>
    <!-- Hotjar Tracking Code for ant.design -->
    <script>
      (function (h, o, t, j, a, r) {
        if (location.hostname === 'localhost') {
          return;
        }

        h.hj =
          h.hj ||
          function () {
            (h.hj.q = h.hj.q || []).push(arguments);
          };
        h._hjSettings = { hjid: 473408, hjsv: 5 };
        a = o.getElementsByTagName('head')[0];
        r = o.createElement('script');
        r.async = 1;
        r.src = t + h._hjSettings.hjid + j + h._hjSettings.hjsv;
        a.appendChild(r);
      })(window, document, '//static.hotjar.com/c/hotjar-', '.js?sv=');
    </script>

    <!--
      感谢每位为开源理想而奋斗的人们，愿你们在人生新的旅途一帆风顺！~
      https://gw.alipayobjects.com/mdn/rms_08e378/afts/img/A*_7M0S7zdFBcAAAAAAAAAAAAAARQnAQ

      2021.05.21
    -->
  </body>
</html>
