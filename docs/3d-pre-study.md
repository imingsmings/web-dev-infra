### 技术预研背景
#### 1. Web GIS 3D地图的需求增长

- 企业和组织越来越需要基于地理数据的可视化解决方案，以便更好地分析和理解地理信息。
- 3D地图能够提供更直观、更真实的空间感知，有助于展示复杂的地理关系和场景。

#### 2. 基站小区和网络管理系统的可视化需求

- 网络管理系统需要对基站小区进行可视化管理，以实时监测和分析网络性能。
- 基站小区数据的可视化可以帮助确定网络覆盖范围、信号强度和网络拓扑结构等重要信息。

#### 3. 不同场景的地理数据可视化需求

- 地理数据的可视化需求不仅仅局限于基站小区，还包括楼宇、河流、平地和山区等不同地理场景。
- 对于不同的场景，可能需要不同的地理数据呈现方式和交互功能。

#### 4.  用户体验和性能要求

- 用户希望通过交互操作来探索和分析地理数据，因此需要提供良好的用户体验和响应性能。

- 地理数据的加载、渲染和交互需要保持流畅和高效，以满足用户对实时性和准确性的要求。

### 可行性分析
#### 1. 技术

- WebGL技术已经成熟，支持在Web浏览器中实现高性能的3D渲染。
- 现有的开源库和工具提供了丰富的功能，如加载地理数据、处理地形、渲染纹理、添加标注等，可满足Web GIS 3D地图的开发需求。
- 地理数据的处理和可视化是Web GIS 3D地图的核心，需要评估所需数据的格式、规模和复杂度。

#### 2. 性能
- Web GIS 3D地图需要保持良好的性能，包括数据加载速度、渲染性能和交互响应性。
- 对于大规模的地理数据集，可能需要考虑数据分块加载、级别渐进细化和地理数据压缩等技术手段来提高性能。
- 渲染时会有大量的CPU计算和GPU 3D渲染，本身对硬件要求相对较高。

#### 3. 用户体验

- 交互操作：评估所选技术是否提供丰富的交互操作支持，如缩放、旋转、平移等，以满足用户探索和分析需求。

- 可视化效果：考虑所选技术在渲染地理数据方面的真实感和视觉效果。

- 用户界面：评估所选技术是否提供良好的用户界面支持，包括控制面板、图层切换等，以便用户进行操作和导航。

#### 4. 跨平台和兼容性

- 3D地图应用需要能够在不同的操作系统和浏览器中运行，因此需要考虑跨平台和兼容性问题。

- 确保所选择的技术方案能够在多个平台上无缝运行，并具备良好的兼容性和适应性。

### 平台及硬件

#### 1. 操作系统
- Windows 10及以上。较旧的Windows版本可能会存在一些兼容性问题或功能限制。
- macOS平台至少macOS 11及以上。
- Linux一般做服务器，可部署GIS服务，对性能要求较高。

#### 2. 处理器 GPU  内存
- 处理器需具备足够的性能来处理复杂的图形计算和地理数据操作，最少为8核处理器。
- 显卡需支持WebGL，GPU独显为佳，部分集成显卡也支持，但功能会受到限制。
- 内存至少8G，16G及以上最佳。

#### 3. 浏览器
- 浏览器需支持WebGL。
- 谷歌浏览器至少56版本以上。
- 火狐浏览器至少51版本以上。

### 地图数据来源

#### 1.商业地图提供商
商业地图提供商提供3D地图数据服务。可以通过他们的API或平台获取3D地图数据，包括地形、建筑物、道路等信息。这些商业地图提供商通常提供丰富的地图数据覆盖范围和不同级别的细节。

#### 2. 公共地理信息系统
许多国家和地区都有公共的地理信息系统，提供免费的地理数据下载或在线访问。这些数据可能包括地形、地貌、土地利用、建筑物等。

#### 3. 开放数据源
一些开放数据源提供免费的地理数据，包括3D地图数据。例如，OpenStreetMap（OSM）是一个由社区维护的开放地图项目，提供了免费的地理数据下载和API访问。可以从OSM获取3D地图数据，或者从其他类似的开放数据源获取相关数据。

#### 4. 传感器和测量
使用现代测量技术和传感器，如航空摄影、激光雷达、卫星图像等，可以获取高精度的地理数据。这些数据可以用于创建3D地图，并提供详细的地形和地物信息。

### 现有开源方案

#### 1. Cesium.js
Cesium.js 是一个开源的 JavaScript 库，用于创建高性能的地球和地理空间应用程序。它通过 WebGL 技术实现了在现代 Web 浏览器中呈现逼真的 3D 地球和地理数据可视化。它提供了丰富的功能和工具,主要用于地图的开发,对3D支持较好,主要功能包含: 3D地球渲染，数据可视化，相机控制和视角管理，地理空间分析，除此之前还支持插件，拓展性较强。

#### 2. Three.js
Three.js 是一个基于 JavaScript 的开源 3D 图形库，用于在 Web 浏览器中创建和展示高性能的 3D 动画和图形效果。它提供了一系列功能强大的工具和 API，简化了在浏览器中创建复杂 3D 场景的开发过程。它可以实现3D场景渲染，相机和视角控制，材质和纹理，动画和变形，几何体和模型加载，可在现代支持WebGL的浏览器中运行，并且能够适应不同设备和屏幕尺寸

#### 3. Mapbox GL
Mapbox GL 是一个开源的 JavaScript 库，用于创建高性能的地图应用程序和地理数据可视化。它结合了矢量地图渲染和 WebGL 技术，提供了灵活的地图样式和交互功能，使开发者能够构建交互性强、定制性高的地图应用。主要功能包含: 矢量地图渲染, 交互性和动态效果, 样式和图层控制, 可支持移动端.

#### 4. Antv L7
L7 是由蚂蚁金服 AntV 数据可视化团队推出的基于 WebGL 的开源大规模地理空间数据可视分析开发框架。L7 中的 L 代表 Location，7 代表世界七大洲，寓意能为全球位置数据提供可视分析的能力。L7 专注数据可视化化表达，通过颜色、大小、纹理，方向，体积等视觉变量设置实现从数据到信息清晰，有效的表达。L7 能够满足常见的地图图表，BI 系统的可视化分析、以及 GIS，交通，电力，国土，农业，城市等领域的空间信息管理，分析等应用系统开发需求。可实现2D，3D 一体化的海量数据高性能渲染,可接入多种数据格式 多地图底图支持 高德地图国内合法合规的地理底图，Mapbox 满足国际化业务需求 可以threejs结合使用

#### 5. maptalks
一个轻量级的JavaScript库,可集成2D/3D地图. 有强大的插件支持功能, 如Echarts, D3.js, Threejs, 使用简单, 支持服务端渲染,在性能方面有一定的优势

#### 6. 框架优劣对比(数字比较以10为基准)
以上几种访问都需要WebGL的支持
| 框架 | Cesium.js | Three.js | Mapbox GL | Antv L7 | maptalks
|--------|--------|--------| ---------- | ----- | -----
| 是否开源 | 是 | 是 | 半开源 | 是 | 是 |
| 2D | 支持 | 支持 | 支持 | 支持 | 支持 |
| 3D | 支持 | 支持 | 支持 | 支持 | 支持 |
| 兼容性 | 现代浏览器 | 现代浏览器 | 现代浏览器 | 现代浏览器 | 现代浏览器 |
| 地图功能 | 9 | 小于5 | 7 | 7 | 8 |
| 性能要求 | 大于8 | 大于8 | 6 | 6 | 7 |

### 方案确定
1. Cesium.js主要专注于地图,因此功能支持最全,但需要一定的性能支持
2. Three.js是一个3D图形库,主要用于三维模型,动画等方面,地图只是一个附属子功能,因此地图支持功能有限,且对性能要求较高
3. Mapbox GL提供了免费的使用方案，但某些高级功能和服务需要付费,其主要专注于地图样式和图层控制功能，在实现一些特定的自定义需求时可能会面临一定的复杂性
4. Antv L7地理空间数据可视分析库,支持多种数据及地图图层,自定义程度高
5. maptalks支持基本的地图功能,但相对其他框架来说支持的功能有限,其主要依赖其插件机制

根据以上分析及网管目前情况, 可采用 Antv L7作为前端的基础框架,并结合React进行开发.
